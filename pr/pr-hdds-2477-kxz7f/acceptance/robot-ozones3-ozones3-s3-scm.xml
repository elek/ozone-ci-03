<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20191114 01:58:50.685" generator="Robot 3.1.2 (Python 2.7.5 on linux2)">
<suite source="/opt/hadoop/smoketest/s3" id="s1" name="ozones3-s3">
<suite source="/opt/hadoop/smoketest/s3/awss3.robot" id="s1-s1" name="Awss3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:58:50.751" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:58:50.757" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:58:50.757" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:58:50.757" starttime="20191114 01:58:50.748"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:58:50.759" starttime="20191114 01:58:50.758"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:58:50.761" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:58:50.948" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:58:50.948" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:58:50.948" starttime="20191114 01:58:50.759"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:58:50.954" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:22.773" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:22.774" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:59:22.774" starttime="20191114 01:58:50.952"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:22.776" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package awscli.noarch 0:1.14.28-5.el7_5.1 will be installed
--&gt; Processing Dependency: python-s3transfer &gt;= 0.1.9 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-docutils &gt;= 0.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-cryptography &gt;= 1.7.2 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: PyYAML &gt;= 3.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Running transaction check
---&gt; Package PyYAML.x86_64 0:3.10-11.el7 will be installed
--&gt; Processing Dependency: libyaml-0.so.2()(64bit) for package: PyYAML-3.10-11.el7.x86_64
---&gt; Package python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7 will be installed
--&gt; Processing Dependency: python-imaging for package: python-docutils-0.11-0.3.20130715svn7687.el7.noarch
---&gt; Package python-s3transfer.noarch 0:0.1.13-1.el7.0.1 will be installed
--&gt; Processing Dependency: python-dateutil &gt;= 1.4 for package: python-s3transfer-0.1.13-1.el7.0.1.noarch
---&gt; Package python2-cryptography.x86_64 0:1.7.2-2.el7 will be installed
--&gt; Processing Dependency: python-six &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-pyasn1 &gt;= 0.1.8 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-idna &gt;= 2.0 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-cffi &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-enum34 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: openssl for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Running transaction check
---&gt; Package libyaml.x86_64 0:0.1.4-11.el7_0 will be installed
---&gt; Package openssl.x86_64 1:1.0.2k-19.el7 will be installed
--&gt; Processing Dependency: openssl-libs(x86-64) = 1:1.0.2k-19.el7 for package: 1:openssl-1.0.2k-19.el7.x86_64
--&gt; Processing Dependency: make for package: 1:openssl-1.0.2k-19.el7.x86_64
---&gt; Package python-cffi.x86_64 0:1.6.0-5.el7 will be installed
--&gt; Processing Dependency: python-pycparser for package: python-cffi-1.6.0-5.el7.x86_64
---&gt; Package python-dateutil.noarch 0:1.5-7.el7 will be installed
---&gt; Package python-enum34.noarch 0:1.0.4-1.el7 will be installed
---&gt; Package python-idna.noarch 0:2.4-1.el7 will be installed
---&gt; Package python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7 will be installed
--&gt; Processing Dependency: libtiff.so.5(LIBTIFF_4.0)(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libwebp.so.4()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libtiff.so.5()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
---&gt; Package python-six.noarch 0:1.9.0-2.el7 will be installed
---&gt; Package python2-pyasn1.noarch 0:0.1.9-7.el7 will be installed
--&gt; Running transaction check
---&gt; Package libtiff.x86_64 0:4.0.3-32.el7 will be installed
--&gt; Processing Dependency: libjbig.so.2.0()(64bit) for package: libtiff-4.0.3-32.el7.x86_64
---&gt; Package libwebp.x86_64 0:0.3.0-7.el7 will be installed
---&gt; Package make.x86_64 1:3.82-24.el7 will be installed
---&gt; Package openssl-libs.x86_64 1:1.0.2k-16.el7 will be updated
---&gt; Package openssl-libs.x86_64 1:1.0.2k-19.el7 will be an update
---&gt; Package python-pycparser.noarch 0:2.14-1.el7 will be installed
--&gt; Processing Dependency: python-ply for package: python-pycparser-2.14-1.el7.noarch
--&gt; Running transaction check
---&gt; Package jbigkit-libs.x86_64 0:2.0-11.el7 will be installed
---&gt; Package python-ply.noarch 0:3.4-11.el7 will be installed
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                Arch     Version                           Repository
                                                                           Size
================================================================================
Installing:
 awscli                 noarch   1.14.28-5.el7_5.1                 base   1.0 M
Installing for dependencies:
 PyYAML                 x86_64   3.10-11.el7                       base   153 k
 jbigkit-libs           x86_64   2.0-11.el7                        base    46 k
 libtiff                x86_64   4.0.3-32.el7                      base   171 k
 libwebp                x86_64   0.3.0-7.el7                       base   170 k
 libyaml                x86_64   0.1.4-11.el7_0                    base    55 k
 make                   x86_64   1:3.82-24.el7                     base   421 k
 openssl                x86_64   1:1.0.2k-19.el7                   base   493 k
 python-cffi            x86_64   1.6.0-5.el7                       base   218 k
 python-dateutil        noarch   1.5-7.el7                         base    85 k
 python-docutils        noarch   0.11-0.3.20130715svn7687.el7      base   1.5 M
 python-enum34          noarch   1.0.4-1.el7                       base    52 k
 python-idna            noarch   2.4-1.el7                         base    94 k
 python-pillow          x86_64   2.0.0-19.gitd1c6db8.el7           base   438 k
 python-ply             noarch   3.4-11.el7                        base   123 k
 python-pycparser       noarch   2.14-1.el7                        base   104 k
 python-s3transfer      noarch   0.1.13-1.el7.0.1                  base   2.9 M
 python-six             noarch   1.9.0-2.el7                       base    29 k
 python2-cryptography   x86_64   1.7.2-2.el7                       base   502 k
 python2-pyasn1         noarch   0.1.9-7.el7                       base   100 k
Updating for dependencies:
 openssl-libs           x86_64   1:1.0.2k-19.el7                   base   1.2 M

Transaction Summary
================================================================================
Install  1 Package  (+19 Dependent packages)
Upgrade             (  1 Dependent package)

Total download size: 9.9 M
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
--------------------------------------------------------------------------------
Total                                               32 MB/s | 9.9 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : 1:openssl-libs-1.0.2k-19.el7.x86_64                         1/22 
  Installing : python2-pyasn1-0.1.9-7.el7.noarch                           2/22 
  Installing : libyaml-0.1.4-11.el7_0.x86_64                               3/22 
  Installing : PyYAML-3.10-11.el7.x86_64                                   4/22 
  Installing : jbigkit-libs-2.0-11.el7.x86_64                              5/22 
  Installing : libtiff-4.0.3-32.el7.x86_64                                 6/22 
  Installing : python-ply-3.4-11.el7.noarch                                7/22 
  Installing : python-pycparser-2.14-1.el7.noarch                          8/22 
  Installing : python-cffi-1.6.0-5.el7.x86_64                              9/22 
  Installing : python-idna-2.4-1.el7.noarch                               10/22 
  Installing : python-six-1.9.0-2.el7.noarch                              11/22 
  Installing : 1:make-3.82-24.el7.x86_64                                  12/22 
  Installing : 1:openssl-1.0.2k-19.el7.x86_64                             13/22 
  Installing : python-dateutil-1.5-7.el7.noarch                           14/22 
  Installing : python-enum34-1.0.4-1.el7.noarch                           15/22 
  Installing : python2-cryptography-1.7.2-2.el7.x86_64                    16/22 
  Installing : libwebp-0.3.0-7.el7.x86_64                                 17/22 
  Installing : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               18/22 
  Installing : python-docutils-0.11-0.3.20130715svn7687.el7.noarch        19/22 
  Installing : python-s3transfer-0.1.13-1.el7.0.1.noarch                  20/22 
  Installing : awscli-1.14.28-5.el7_5.1.noarch                            21/22 
  Cleanup    : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 
  Verifying  : libwebp-0.3.0-7.el7.x86_64                                  1/22 
  Verifying  : python-enum34-1.0.4-1.el7.noarch                            2/22 
  Verifying  : python-docutils-0.11-0.3.20130715svn7687.el7.noarch         3/22 
  Verifying  : 1:openssl-libs-1.0.2k-19.el7.x86_64                         4/22 
  Verifying  : python-dateutil-1.5-7.el7.noarch                            5/22 
  Verifying  : 1:make-3.82-24.el7.x86_64                                   6/22 
  Verifying  : python-six-1.9.0-2.el7.noarch                               7/22 
  Verifying  : python-s3transfer-0.1.13-1.el7.0.1.noarch                   8/22 
  Verifying  : python-idna-2.4-1.el7.noarch                                9/22 
  Verifying  : python-ply-3.4-11.el7.noarch                               10/22 
  Verifying  : 1:openssl-1.0.2k-19.el7.x86_64                             11/22 
  Verifying  : python-cffi-1.6.0-5.el7.x86_64                             12/22 
  Verifying  : awscli-1.14.28-5.el7_5.1.noarch                            13/22 
  Verifying  : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               14/22 
  Verifying  : jbigkit-libs-2.0-11.el7.x86_64                             15/22 
  Verifying  : python-pycparser-2.14-1.el7.noarch                         16/22 
  Verifying  : libyaml-0.1.4-11.el7_0.x86_64                              17/22 
  Verifying  : libtiff-4.0.3-32.el7.x86_64                                18/22 
  Verifying  : python2-pyasn1-0.1.9-7.el7.noarch                          19/22 
  Verifying  : PyYAML-3.10-11.el7.x86_64                                  20/22 
  Verifying  : python2-cryptography-1.7.2-2.el7.x86_64                    21/22 
  Verifying  : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 

Installed:
  awscli.noarch 0:1.14.28-5.el7_5.1                                             

Dependency Installed:
  PyYAML.x86_64 0:3.10-11.el7                                                   
  jbigkit-libs.x86_64 0:2.0-11.el7                                              
  libtiff.x86_64 0:4.0.3-32.el7                                                 
  libwebp.x86_64 0:0.3.0-7.el7                                                  
  libyaml.x86_64 0:0.1.4-11.el7_0                                               
  make.x86_64 1:3.82-24.el7                                                     
  openssl.x86_64 1:1.0.2k-19.el7                                                
  python-cffi.x86_64 0:1.6.0-5.el7                                              
  python-dateutil.noarch 0:1.5-7.el7                                            
  python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7                         
  python-enum34.noarch 0:1.0.4-1.el7                                            
  python-idna.noarch 0:2.4-1.el7                                                
  python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7                                
  python-ply.noarch 0:3.4-11.el7                                                
  python-pycparser.noarch 0:2.14-1.el7                                          
  python-s3transfer.noarch 0:0.1.13-1.el7.0.1                                   
  python-six.noarch 0:1.9.0-2.el7                                               
  python2-cryptography.x86_64 0:1.7.2-2.el7                                     
  python2-pyasn1.noarch 0:0.1.9-7.el7                                           

Dependency Updated:
  openssl-libs.x86_64 1:1.0.2k-19.el7                                           

Complete!</msg>
<status status="PASS" endtime="20191114 01:59:22.777" starttime="20191114 01:59:22.775"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:22.778" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:22.778" starttime="20191114 01:59:22.777"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:22.779" starttime="20191114 01:58:50.951"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:22.779" starttime="20191114 01:58:50.950"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:22.779" starttime="20191114 01:58:50.949"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:22.779" starttime="20191114 01:58:50.748"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:22.780" starttime="20191114 01:58:50.747"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:59:22.783" starttime="20191114 01:59:22.782"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:59:22.784" starttime="20191114 01:59:22.784"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:22.789" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:23.272" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:23.272" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:23.272" starttime="20191114 01:59:22.787"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:23.274" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:23.274" starttime="20191114 01:59:23.273"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:23.275" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:23.276" starttime="20191114 01:59:23.275"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:23.276" starttime="20191114 01:59:22.786"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:23.280" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:23.791" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:23.791" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:23.791" starttime="20191114 01:59:23.277"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:23.793" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:23.793" starttime="20191114 01:59:23.792"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:23.794" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:23.794" starttime="20191114 01:59:23.793"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:23.795" starttime="20191114 01:59:23.276"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:23.799" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:24.286" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:24.286" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:24.286" starttime="20191114 01:59:23.796"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:24.288" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:24.288" starttime="20191114 01:59:24.287"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:24.289" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:24.289" starttime="20191114 01:59:24.288"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:24.290" starttime="20191114 01:59:23.795"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:24.293" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:24.792" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:24.793" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:24.793" starttime="20191114 01:59:24.291"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:24.795" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:24.795" starttime="20191114 01:59:24.794"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:24.796" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:24.796" starttime="20191114 01:59:24.795"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:24.797" starttime="20191114 01:59:24.290"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:24.797" starttime="20191114 01:59:22.786"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:24.797" starttime="20191114 01:59:22.785"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:24.798" starttime="20191114 01:59:22.781"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:24.798" starttime="20191114 01:59:22.780"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:59:24.801" level="INFO">${postfix} = 39714</msg>
<status status="PASS" endtime="20191114 01:59:24.801" starttime="20191114 01:59:24.800"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:59:24.802" level="INFO">${BUCKET} = bucket-39714</msg>
<status status="PASS" endtime="20191114 01:59:24.803" starttime="20191114 01:59:24.802"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:24.808" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-39714 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:34.007" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:59:34.007" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:59:34.007" starttime="20191114 01:59:24.805"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:34.009" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:59:34.010" starttime="20191114 01:59:34.008"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:34.011" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:59:34.011" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:59:34.012" starttime="20191114 01:59:34.010"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:34.012" starttime="20191114 01:59:24.804"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:34.012" starttime="20191114 01:59:24.803"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:34.013" starttime="20191114 01:59:24.799"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:34.013" starttime="20191114 01:59:24.798"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:34.013" starttime="20191114 01:58:50.746"></status>
</kw>
<test id="s1-s1-t1" name="File upload and directory list">
<status status="FAIL" endtime="20191114 01:59:34.015" critical="yes" starttime="20191114 01:59:34.014">Parent suite setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:59:34.016" starttime="20191114 01:58:50.733">Suite setup failed:
255 != 0</status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketcreate.robot" id="s1-s2" name="Bucketcreate">
<test id="s1-s2-t1" name="Create bucket which already exists">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:34.035" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:34.042" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:59:34.042" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:59:34.042" starttime="20191114 01:59:34.033"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:59:34.044" starttime="20191114 01:59:34.043"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:34.047" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:34.235" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:34.235" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:59:34.235" starttime="20191114 01:59:34.045"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:34.241" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:34.949" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:34.949" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 01:59:34.949" starttime="20191114 01:59:34.239"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:34.951" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:59:34.951" starttime="20191114 01:59:34.950"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:34.952" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:34.953" starttime="20191114 01:59:34.952"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:34.953" starttime="20191114 01:59:34.238"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:34.953" starttime="20191114 01:59:34.237"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:34.954" starttime="20191114 01:59:34.236"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:34.954" starttime="20191114 01:59:34.032"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:34.954" starttime="20191114 01:59:34.032"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:59:34.957" starttime="20191114 01:59:34.956"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:59:34.958" starttime="20191114 01:59:34.957"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:34.962" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:35.427" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:35.428" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:35.428" starttime="20191114 01:59:34.960"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:35.430" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:35.430" starttime="20191114 01:59:35.429"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:35.431" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:35.431" starttime="20191114 01:59:35.430"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:35.432" starttime="20191114 01:59:34.959"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:35.436" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:36.019" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:36.019" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:36.019" starttime="20191114 01:59:35.433"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:36.021" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:36.021" starttime="20191114 01:59:36.020"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:36.022" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:36.022" starttime="20191114 01:59:36.021"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:36.023" starttime="20191114 01:59:35.432"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:36.027" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:36.482" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:36.482" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:36.483" starttime="20191114 01:59:36.024"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:36.485" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:36.485" starttime="20191114 01:59:36.484"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:36.486" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:36.486" starttime="20191114 01:59:36.485"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:36.487" starttime="20191114 01:59:36.023"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:36.491" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:36.958" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:36.959" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:36.959" starttime="20191114 01:59:36.489"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:36.961" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:36.961" starttime="20191114 01:59:36.960"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:36.962" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:36.963" starttime="20191114 01:59:36.962"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:36.963" starttime="20191114 01:59:36.487"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:36.964" starttime="20191114 01:59:34.959"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:36.964" starttime="20191114 01:59:34.958"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:36.964" starttime="20191114 01:59:34.955"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:36.964" starttime="20191114 01:59:34.954"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:59:36.967" level="INFO">${postfix} = 35965</msg>
<status status="PASS" endtime="20191114 01:59:36.967" starttime="20191114 01:59:36.967"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:59:36.969" level="INFO">${BUCKET} = bucket-35965</msg>
<status status="PASS" endtime="20191114 01:59:36.969" starttime="20191114 01:59:36.968"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:36.974" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-35965 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:48.472" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:59:48.472" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:59:48.472" starttime="20191114 01:59:36.971"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:48.474" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:59:48.474" starttime="20191114 01:59:48.473"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:48.475" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:59:48.475" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:59:48.475" starttime="20191114 01:59:48.474"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:48.476" starttime="20191114 01:59:36.970"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:48.476" starttime="20191114 01:59:36.969"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:48.476" starttime="20191114 01:59:36.966"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:48.477" starttime="20191114 01:59:36.965"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:48.477" starttime="20191114 01:59:34.031"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:48.477" critical="yes" starttime="20191114 01:59:34.030">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:59:48.478" starttime="20191114 01:59:34.017"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/buckethead.robot" id="s1-s3" name="Buckethead">
<test id="s1-s3-t1" name="Head Bucket not existent">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:48.494" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:48.503" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:59:48.503" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:59:48.503" starttime="20191114 01:59:48.492"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:59:48.505" starttime="20191114 01:59:48.504"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:48.508" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:48.729" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:48.729" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:59:48.730" starttime="20191114 01:59:48.506"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:48.736" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:49.500" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:49.501" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth....</msg>
<status status="PASS" endtime="20191114 01:59:49.501" starttime="20191114 01:59:48.734"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:49.503" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:59:49.503" starttime="20191114 01:59:49.502"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:49.504" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:49.504" starttime="20191114 01:59:49.503"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:49.505" starttime="20191114 01:59:48.733"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:49.505" starttime="20191114 01:59:48.732"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:49.505" starttime="20191114 01:59:48.730"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:49.506" starttime="20191114 01:59:48.491"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:49.506" starttime="20191114 01:59:48.491"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:59:49.509" starttime="20191114 01:59:49.509"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:59:49.510" starttime="20191114 01:59:49.510"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:49.516" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:49.972" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:49.972" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:49.972" starttime="20191114 01:59:49.513"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:49.974" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:49.975" starttime="20191114 01:59:49.973"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:49.976" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:49.976" starttime="20191114 01:59:49.975"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:49.977" starttime="20191114 01:59:49.512"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:49.981" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:50.454" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:50.454" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:50.454" starttime="20191114 01:59:49.978"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:50.456" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:50.457" starttime="20191114 01:59:50.455"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:50.458" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:50.458" starttime="20191114 01:59:50.457"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:50.459" starttime="20191114 01:59:49.977"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:50.463" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:50.961" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:50.961" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:50.961" starttime="20191114 01:59:50.460"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:50.962" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:50.962" starttime="20191114 01:59:50.962"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:50.963" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:50.963" starttime="20191114 01:59:50.963"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:50.963" starttime="20191114 01:59:50.459"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:50.967" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:51.503" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:51.503" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:59:51.503" starttime="20191114 01:59:50.965"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:51.505" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:59:51.505" starttime="20191114 01:59:51.504"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:51.506" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:59:51.506" starttime="20191114 01:59:51.505"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:51.507" starttime="20191114 01:59:50.964"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:51.507" starttime="20191114 01:59:49.512"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:51.507" starttime="20191114 01:59:49.511"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:51.508" starttime="20191114 01:59:49.508"></status>
</kw>
<status status="PASS" endtime="20191114 01:59:51.508" starttime="20191114 01:59:49.506"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:59:51.511" level="INFO">${postfix} = 08425</msg>
<status status="PASS" endtime="20191114 01:59:51.511" starttime="20191114 01:59:51.510"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:59:51.513" level="INFO">${BUCKET} = bucket-08425</msg>
<status status="PASS" endtime="20191114 01:59:51.513" starttime="20191114 01:59:51.512"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:51.518" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-08425 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:59.652" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:59:59.652" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:59:59.652" starttime="20191114 01:59:51.515"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:59:59.654" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:59:59.654" starttime="20191114 01:59:59.653"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:59:59.654" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:59:59.655" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:59:59.655" starttime="20191114 01:59:59.654"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:59.655" starttime="20191114 01:59:51.514"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:59.656" starttime="20191114 01:59:51.513"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:59.656" starttime="20191114 01:59:51.510"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:59.656" starttime="20191114 01:59:51.508"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:59.656" starttime="20191114 01:59:48.490"></status>
</kw>
<status status="FAIL" endtime="20191114 01:59:59.657" critical="yes" starttime="20191114 01:59:48.490">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:59:59.658" starttime="20191114 01:59:48.480"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketlist.robot" id="s1-s4" name="Bucketlist">
<test id="s1-s4-t1" name="List buckets">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:59.671" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:59.677" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:59:59.677" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:59:59.677" starttime="20191114 01:59:59.670"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:59:59.679" starttime="20191114 01:59:59.678"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:59.681" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:59:59.851" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:59:59.852" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:59:59.852" starttime="20191114 01:59:59.679"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:59:59.861" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:00.572" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:00.572" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Packa...</msg>
<status status="PASS" endtime="20191114 02:00:00.572" starttime="20191114 01:59:59.857"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:00.574" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:00:00.574" starttime="20191114 02:00:00.573"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:00.576" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:00.576" starttime="20191114 02:00:00.575"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:00.576" starttime="20191114 01:59:59.856"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:00.577" starttime="20191114 01:59:59.855"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:00.577" starttime="20191114 01:59:59.853"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:00.577" starttime="20191114 01:59:59.669"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:00.578" starttime="20191114 01:59:59.668"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:00.581" starttime="20191114 02:00:00.580"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:00.582" starttime="20191114 02:00:00.581"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:00.587" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:01.048" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:01.048" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:01.048" starttime="20191114 02:00:00.585"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:01.050" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:01.050" starttime="20191114 02:00:01.049"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:01.050" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:01.050" starttime="20191114 02:00:01.050"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:01.051" starttime="20191114 02:00:00.584"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:01.053" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:01.537" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:01.537" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:01.537" starttime="20191114 02:00:01.052"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:01.539" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:01.539" starttime="20191114 02:00:01.538"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:01.540" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:01.540" starttime="20191114 02:00:01.539"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:01.541" starttime="20191114 02:00:01.051"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:01.544" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:01.992" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:01.992" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:01.992" starttime="20191114 02:00:01.542"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:01.993" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:01.993" starttime="20191114 02:00:01.992"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:01.994" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:01.994" starttime="20191114 02:00:01.994"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:01.995" starttime="20191114 02:00:01.541"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:01.999" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:02.479" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:02.479" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:02.479" starttime="20191114 02:00:01.996"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:02.481" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:02.481" starttime="20191114 02:00:02.480"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:02.482" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:02.483" starttime="20191114 02:00:02.482"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:02.483" starttime="20191114 02:00:01.995"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:02.484" starttime="20191114 02:00:00.583"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:02.484" starttime="20191114 02:00:00.582"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:02.484" starttime="20191114 02:00:00.579"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:02.485" starttime="20191114 02:00:00.578"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 02:00:02.488" level="INFO">${postfix} = 87794</msg>
<status status="PASS" endtime="20191114 02:00:02.488" starttime="20191114 02:00:02.487"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 02:00:02.489" level="INFO">${BUCKET} = bucket-87794</msg>
<status status="PASS" endtime="20191114 02:00:02.490" starttime="20191114 02:00:02.488"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:02.494" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-87794 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:11.377" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:00:11.377" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:00:11.377" starttime="20191114 02:00:02.492"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:11.379" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:00:11.379" starttime="20191114 02:00:11.378"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:11.379" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:00:11.380" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:00:11.380" starttime="20191114 02:00:11.379"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:11.381" starttime="20191114 02:00:02.491"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:11.381" starttime="20191114 02:00:02.490"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:11.381" starttime="20191114 02:00:02.486"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:11.381" starttime="20191114 02:00:02.485"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:11.382" starttime="20191114 01:59:59.668"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:11.382" critical="yes" starttime="20191114 01:59:59.667">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 02:00:11.383" starttime="20191114 01:59:59.659"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/MultipartUpload.robot" id="s1-s5" name="MultipartUpload">
<test id="s1-s5-t1" name="Test Multipart Upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:11.406" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:11.414" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:00:11.414" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:00:11.414" starttime="20191114 02:00:11.403"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:11.416" starttime="20191114 02:00:11.415"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:11.419" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:11.615" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:11.615" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:00:11.615" starttime="20191114 02:00:11.417"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:11.621" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:12.375" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:12.375" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 02:00:12.376" starttime="20191114 02:00:11.619"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:12.377" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:00:12.377" starttime="20191114 02:00:12.376"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:12.378" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:12.379" starttime="20191114 02:00:12.378"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:12.379" starttime="20191114 02:00:11.618"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:12.379" starttime="20191114 02:00:11.617"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:12.380" starttime="20191114 02:00:11.616"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:12.380" starttime="20191114 02:00:11.399"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:12.380" starttime="20191114 02:00:11.399"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:12.383" starttime="20191114 02:00:12.382"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:12.384" starttime="20191114 02:00:12.383"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:12.389" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:12.872" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:12.872" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:12.872" starttime="20191114 02:00:12.387"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:12.874" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:12.874" starttime="20191114 02:00:12.873"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:12.875" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:12.875" starttime="20191114 02:00:12.874"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:12.876" starttime="20191114 02:00:12.386"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:12.879" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:13.332" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:13.332" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:13.332" starttime="20191114 02:00:12.877"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:13.333" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:13.334" starttime="20191114 02:00:13.333"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:13.334" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:13.335" starttime="20191114 02:00:13.334"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:13.335" starttime="20191114 02:00:12.876"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:13.338" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:13.790" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:13.791" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:13.791" starttime="20191114 02:00:13.336"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:13.792" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:13.793" starttime="20191114 02:00:13.791"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:13.794" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:13.794" starttime="20191114 02:00:13.793"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:13.794" starttime="20191114 02:00:13.335"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:13.799" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:14.246" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:14.246" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:14.247" starttime="20191114 02:00:13.796"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:14.248" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:14.248" starttime="20191114 02:00:14.247"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:14.249" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:14.249" starttime="20191114 02:00:14.249"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:14.250" starttime="20191114 02:00:13.795"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:14.250" starttime="20191114 02:00:12.385"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:14.250" starttime="20191114 02:00:12.384"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:14.251" starttime="20191114 02:00:12.381"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:14.251" starttime="20191114 02:00:12.380"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 02:00:14.254" level="INFO">${postfix} = 68578</msg>
<status status="PASS" endtime="20191114 02:00:14.254" starttime="20191114 02:00:14.253"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 02:00:14.255" level="INFO">${BUCKET} = bucket-68578</msg>
<status status="PASS" endtime="20191114 02:00:14.255" starttime="20191114 02:00:14.254"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:14.260" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-68578 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:24.691" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:00:24.691" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:00:24.692" starttime="20191114 02:00:14.257"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:24.693" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:00:24.693" starttime="20191114 02:00:24.692"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:24.694" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:00:24.695" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:00:24.695" starttime="20191114 02:00:24.694"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:24.695" starttime="20191114 02:00:14.256"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:24.696" starttime="20191114 02:00:14.255"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:24.696" starttime="20191114 02:00:14.252"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:24.696" starttime="20191114 02:00:14.251"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:24.697" starttime="20191114 02:00:11.398"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:24.697" critical="yes" starttime="20191114 02:00:11.397">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t2" name="Test Multipart Upload Complete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:24.702" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:24.709" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:00:24.709" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:00:24.709" starttime="20191114 02:00:24.700"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:24.710" starttime="20191114 02:00:24.710"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:24.712" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:24.902" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:24.902" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:00:24.903" starttime="20191114 02:00:24.711"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:24.909" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:25.681" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:25.681" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 02:00:25.681" starttime="20191114 02:00:24.907"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:25.682" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:00:25.683" starttime="20191114 02:00:25.682"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:25.683" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:25.684" starttime="20191114 02:00:25.683"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:25.684" starttime="20191114 02:00:24.906"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:25.684" starttime="20191114 02:00:24.905"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:25.685" starttime="20191114 02:00:24.904"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:25.685" starttime="20191114 02:00:24.700"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:25.685" starttime="20191114 02:00:24.699"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:25.688" starttime="20191114 02:00:25.687"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:25.689" starttime="20191114 02:00:25.688"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:25.693" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:26.127" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:26.128" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:26.128" starttime="20191114 02:00:25.691"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:26.130" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:26.130" starttime="20191114 02:00:26.129"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:26.131" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:26.131" starttime="20191114 02:00:26.130"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:26.131" starttime="20191114 02:00:25.690"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:26.135" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:26.591" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:26.591" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:26.591" starttime="20191114 02:00:26.133"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:26.593" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:26.594" starttime="20191114 02:00:26.592"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:26.595" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:26.595" starttime="20191114 02:00:26.594"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:26.596" starttime="20191114 02:00:26.132"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:26.600" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:27.057" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:27.057" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:27.058" starttime="20191114 02:00:26.597"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:27.060" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:27.060" starttime="20191114 02:00:27.058"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:27.061" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:27.061" starttime="20191114 02:00:27.060"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:27.062" starttime="20191114 02:00:26.596"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:27.066" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:27.522" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:27.523" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:27.523" starttime="20191114 02:00:27.063"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:27.525" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:27.525" starttime="20191114 02:00:27.524"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:27.527" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:27.527" starttime="20191114 02:00:27.526"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:27.528" starttime="20191114 02:00:27.062"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:27.528" starttime="20191114 02:00:25.690"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:27.528" starttime="20191114 02:00:25.689"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:27.529" starttime="20191114 02:00:25.686"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:27.529" starttime="20191114 02:00:25.685"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:27.531" starttime="20191114 02:00:27.530"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:27.531" starttime="20191114 02:00:24.699"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:27.536" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-68578 --key multipartKey1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:34.824" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:00:34.824" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:00:34.824" starttime="20191114 02:00:27.534"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:34.826" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:00:34.827" starttime="20191114 02:00:34.825"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:34.828" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:00:34.828" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:00:34.829" starttime="20191114 02:00:34.827"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:34.829" starttime="20191114 02:00:27.533"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:34.830" starttime="20191114 02:00:27.532"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:34.830" critical="yes" starttime="20191114 02:00:24.698">255 != 0</status>
</test>
<test id="s1-s5-t3" name="Test Multipart Upload Complete Entity too small">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:34.837" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:34.845" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:00:34.845" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:00:34.845" starttime="20191114 02:00:34.835"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:34.848" starttime="20191114 02:00:34.846"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:34.850" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:35.083" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:35.083" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:00:35.084" starttime="20191114 02:00:34.848"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:35.091" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:35.792" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:35.792" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 02:00:35.793" starttime="20191114 02:00:35.088"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:35.794" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:00:35.795" starttime="20191114 02:00:35.793"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:35.796" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:35.796" starttime="20191114 02:00:35.795"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:35.797" starttime="20191114 02:00:35.087"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:35.797" starttime="20191114 02:00:35.086"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:35.797" starttime="20191114 02:00:35.084"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:35.797" starttime="20191114 02:00:34.834"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:35.798" starttime="20191114 02:00:34.833"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:35.801" starttime="20191114 02:00:35.800"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:35.802" starttime="20191114 02:00:35.801"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:35.807" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:36.294" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:36.295" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:36.295" starttime="20191114 02:00:35.805"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:36.297" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:36.297" starttime="20191114 02:00:36.296"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:36.298" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:36.298" starttime="20191114 02:00:36.297"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:36.299" starttime="20191114 02:00:35.804"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:36.303" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:36.751" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:36.751" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:36.752" starttime="20191114 02:00:36.300"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:36.754" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:36.754" starttime="20191114 02:00:36.753"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:36.755" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:36.755" starttime="20191114 02:00:36.754"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:36.756" starttime="20191114 02:00:36.299"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:36.759" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:37.171" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:37.171" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:37.171" starttime="20191114 02:00:36.757"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:37.172" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:37.173" starttime="20191114 02:00:37.172"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:37.173" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:37.174" starttime="20191114 02:00:37.173"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:37.174" starttime="20191114 02:00:36.756"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:37.177" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:37.613" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:37.613" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:37.613" starttime="20191114 02:00:37.175"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:37.615" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:37.615" starttime="20191114 02:00:37.614"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:37.616" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:37.617" starttime="20191114 02:00:37.616"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:37.617" starttime="20191114 02:00:37.174"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:37.618" starttime="20191114 02:00:35.803"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:37.618" starttime="20191114 02:00:35.802"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:37.618" starttime="20191114 02:00:35.799"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:37.618" starttime="20191114 02:00:35.798"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:37.619" starttime="20191114 02:00:37.619"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:37.620" starttime="20191114 02:00:34.833"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey2</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:37.625" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-68578 --key multipartKey2 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:46.816" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:00:46.816" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:00:46.816" starttime="20191114 02:00:37.623"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:46.817" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:00:46.818" starttime="20191114 02:00:46.817"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:46.818" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:00:46.819" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:00:46.819" starttime="20191114 02:00:46.818"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:46.819" starttime="20191114 02:00:37.621"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:46.819" starttime="20191114 02:00:37.620"></status>
</kw>
<status status="FAIL" endtime="20191114 02:00:46.820" critical="yes" starttime="20191114 02:00:34.831">255 != 0</status>
</test>
<test id="s1-s5-t4" name="Test Multipart Upload Complete Invalid part errors and complete mpu with few parts">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:46.826" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:46.834" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:00:46.834" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:00:46.834" starttime="20191114 02:00:46.824"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:46.836" starttime="20191114 02:00:46.835"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:46.839" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:47.046" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:47.046" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:00:47.046" starttime="20191114 02:00:46.837"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:47.053" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:47.783" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:47.783" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:00:47.783" starttime="20191114 02:00:47.050"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:47.786" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:00:47.786" starttime="20191114 02:00:47.785"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:47.787" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:47.787" starttime="20191114 02:00:47.786"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:47.788" starttime="20191114 02:00:47.049"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:47.788" starttime="20191114 02:00:47.049"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:47.788" starttime="20191114 02:00:47.047"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:47.789" starttime="20191114 02:00:46.823"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:47.789" starttime="20191114 02:00:46.822"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:47.792" starttime="20191114 02:00:47.791"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:47.793" starttime="20191114 02:00:47.793"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:47.799" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:48.219" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:48.219" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:48.219" starttime="20191114 02:00:47.796"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:48.221" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:48.221" starttime="20191114 02:00:48.220"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:48.222" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:48.222" starttime="20191114 02:00:48.221"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:48.223" starttime="20191114 02:00:47.795"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:48.226" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:48.709" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:48.709" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:48.709" starttime="20191114 02:00:48.224"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:48.711" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:48.711" starttime="20191114 02:00:48.710"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:48.712" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:48.712" starttime="20191114 02:00:48.711"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:48.713" starttime="20191114 02:00:48.223"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:48.717" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:49.194" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:49.194" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:49.195" starttime="20191114 02:00:48.714"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:49.196" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:49.197" starttime="20191114 02:00:49.195"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:49.198" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:49.199" starttime="20191114 02:00:49.197"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:49.199" starttime="20191114 02:00:48.713"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:49.203" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:00:49.676" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:00:49.677" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:00:49.677" starttime="20191114 02:00:49.201"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:00:49.679" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:00:49.679" starttime="20191114 02:00:49.678"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:00:49.680" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:00:49.680" starttime="20191114 02:00:49.680"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:49.681" starttime="20191114 02:00:49.200"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:49.681" starttime="20191114 02:00:47.795"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:49.681" starttime="20191114 02:00:47.794"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:49.682" starttime="20191114 02:00:47.790"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:49.682" starttime="20191114 02:00:47.789"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:00:49.683" starttime="20191114 02:00:49.682"></status>
</kw>
<status status="PASS" endtime="20191114 02:00:49.684" starttime="20191114 02:00:46.822"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey3</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:00:49.689" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-68578 --key multipartKey3 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:01.192" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:01:01.192" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:01.192" starttime="20191114 02:00:49.686"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:01.194" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:01.194" starttime="20191114 02:01:01.193"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:01.196" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:01:01.196" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:01:01.197" starttime="20191114 02:01:01.195"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:01.197" starttime="20191114 02:00:49.685"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:01.198" starttime="20191114 02:00:49.684"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:01.198" critical="yes" starttime="20191114 02:00:46.820">255 != 0</status>
</test>
<test id="s1-s5-t5" name="Test abort Multipart upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:01.206" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:01.213" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:01:01.213" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:01:01.213" starttime="20191114 02:01:01.203"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:01.215" starttime="20191114 02:01:01.214"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:01.217" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:01.439" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:01.439" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:01:01.439" starttime="20191114 02:01:01.215"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:01.445" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:02.218" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:02.218" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:01:02.218" starttime="20191114 02:01:01.443"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:02.220" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:01:02.220" starttime="20191114 02:01:02.219"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:02.221" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:02.222" starttime="20191114 02:01:02.221"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:02.222" starttime="20191114 02:01:01.442"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:02.222" starttime="20191114 02:01:01.441"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:02.223" starttime="20191114 02:01:01.440"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:02.223" starttime="20191114 02:01:01.202"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:02.223" starttime="20191114 02:01:01.202"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:02.226" starttime="20191114 02:01:02.225"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:02.227" starttime="20191114 02:01:02.226"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:02.232" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:02.672" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:02.672" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:02.672" starttime="20191114 02:01:02.230"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:02.675" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:02.675" starttime="20191114 02:01:02.673"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:02.676" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:02.676" starttime="20191114 02:01:02.675"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:02.677" starttime="20191114 02:01:02.229"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:02.681" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:03.126" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:03.126" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:03.126" starttime="20191114 02:01:02.678"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:03.128" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:03.129" starttime="20191114 02:01:03.127"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:03.130" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:03.130" starttime="20191114 02:01:03.129"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:03.130" starttime="20191114 02:01:02.677"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:03.134" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:03.647" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:03.647" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:03.648" starttime="20191114 02:01:03.132"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:03.650" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:03.650" starttime="20191114 02:01:03.649"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:03.652" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:03.652" starttime="20191114 02:01:03.651"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:03.653" starttime="20191114 02:01:03.131"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:03.658" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:04.133" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:04.133" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:04.133" starttime="20191114 02:01:03.654"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:04.135" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:04.135" starttime="20191114 02:01:04.134"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:04.136" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:04.136" starttime="20191114 02:01:04.135"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:04.137" starttime="20191114 02:01:03.653"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:04.137" starttime="20191114 02:01:02.228"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:04.137" starttime="20191114 02:01:02.227"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:04.137" starttime="20191114 02:01:02.224"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:04.137" starttime="20191114 02:01:02.223"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:04.138" starttime="20191114 02:01:04.138"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:04.139" starttime="20191114 02:01:01.201"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey4 --storage-class REDUCED_REDUNDANCY</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:04.143" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-68578 --key multipartKey4 --storage-class REDUCED_REDUNDANCY 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:15.632" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:01:15.632" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:15.633" starttime="20191114 02:01:04.141"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:15.634" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:15.635" starttime="20191114 02:01:15.633"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:15.636" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:01:15.636" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:01:15.636" starttime="20191114 02:01:15.635"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:15.637" starttime="20191114 02:01:04.140"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:15.637" starttime="20191114 02:01:04.139"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:15.638" critical="yes" starttime="20191114 02:01:01.199">255 != 0</status>
</test>
<test id="s1-s5-t6" name="Test abort Multipart upload with invalid uploadId">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:15.645" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:15.651" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:01:15.651" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:01:15.652" starttime="20191114 02:01:15.643"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:15.654" starttime="20191114 02:01:15.653"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:15.656" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:15.862" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:15.863" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:01:15.863" starttime="20191114 02:01:15.654"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:15.869" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:16.615" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:16.615" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:01:16.616" starttime="20191114 02:01:15.866"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:16.617" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:01:16.617" starttime="20191114 02:01:16.616"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:16.618" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:16.619" starttime="20191114 02:01:16.618"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:16.619" starttime="20191114 02:01:15.865"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:16.619" starttime="20191114 02:01:15.865"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:16.620" starttime="20191114 02:01:15.863"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:16.620" starttime="20191114 02:01:15.642"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:16.620" starttime="20191114 02:01:15.641"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:16.623" starttime="20191114 02:01:16.622"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:16.624" starttime="20191114 02:01:16.624"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:16.629" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:17.030" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:17.030" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:17.030" starttime="20191114 02:01:16.627"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:17.032" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:17.032" starttime="20191114 02:01:17.031"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:17.033" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:17.034" starttime="20191114 02:01:17.033"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:17.034" starttime="20191114 02:01:16.626"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:17.038" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:17.524" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:17.524" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:17.524" starttime="20191114 02:01:17.035"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:17.527" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:17.527" starttime="20191114 02:01:17.525"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:17.528" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:17.529" starttime="20191114 02:01:17.527"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:17.529" starttime="20191114 02:01:17.034"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:17.533" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:17.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:17.985" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:17.985" starttime="20191114 02:01:17.531"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:17.987" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:17.987" starttime="20191114 02:01:17.986"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:17.988" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:17.988" starttime="20191114 02:01:17.987"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:17.989" starttime="20191114 02:01:17.530"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:17.993" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:18.488" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:18.488" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:18.488" starttime="20191114 02:01:17.991"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:18.490" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:18.490" starttime="20191114 02:01:18.489"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:18.491" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:18.492" starttime="20191114 02:01:18.491"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:18.492" starttime="20191114 02:01:17.989"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:18.493" starttime="20191114 02:01:16.625"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:18.493" starttime="20191114 02:01:16.625"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:18.493" starttime="20191114 02:01:16.622"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:18.493" starttime="20191114 02:01:16.621"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:18.495" starttime="20191114 02:01:18.494"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:18.495" starttime="20191114 02:01:15.640"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>abort-multipart-upload --bucket ${BUCKET} --key multipartKey5 --upload-id "random"</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:18.501" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 abort-multipart-upload --bucket bucket-68578 --key multipartKey5 --upload-id "random" 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:27.059" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:01:27.060" level="INFO">${output} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:27.060" starttime="20191114 02:01:18.498"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:27.062" level="INFO">
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:27.062" starttime="20191114 02:01:27.061"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 02:01:27.063" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:27.064" starttime="20191114 02:01:27.062"></status>
</kw>
<msg timestamp="20191114 02:01:27.064" level="INFO">${output} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:27.064" starttime="20191114 02:01:18.497"></status>
</kw>
<msg timestamp="20191114 02:01:27.065" level="INFO">${result} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:27.065" starttime="20191114 02:01:18.496"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:27.066" critical="yes" starttime="20191114 02:01:15.639"></status>
</test>
<test id="s1-s5-t7" name="Upload part with Incorrect uploadID">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:27.073" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:27.080" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:01:27.080" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:01:27.080" starttime="20191114 02:01:27.071"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:27.082" starttime="20191114 02:01:27.081"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:27.084" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:27.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:27.292" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:01:27.292" starttime="20191114 02:01:27.082"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:27.298" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:28.033" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:28.033" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 02:01:28.033" starttime="20191114 02:01:27.296"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:28.035" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:01:28.035" starttime="20191114 02:01:28.034"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:28.036" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:28.036" starttime="20191114 02:01:28.035"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:28.037" starttime="20191114 02:01:27.295"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:28.037" starttime="20191114 02:01:27.294"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:28.037" starttime="20191114 02:01:27.293"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:28.038" starttime="20191114 02:01:27.070"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:28.038" starttime="20191114 02:01:27.069"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:28.041" starttime="20191114 02:01:28.040"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:28.042" starttime="20191114 02:01:28.041"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:28.047" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:28.561" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:28.561" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:28.561" starttime="20191114 02:01:28.044"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:28.563" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:28.564" starttime="20191114 02:01:28.562"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:28.565" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:28.565" starttime="20191114 02:01:28.564"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:28.565" starttime="20191114 02:01:28.044"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:28.569" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:29.032" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:29.032" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:29.032" starttime="20191114 02:01:28.567"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:29.034" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:29.034" starttime="20191114 02:01:29.033"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:29.035" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:29.035" starttime="20191114 02:01:29.034"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:29.035" starttime="20191114 02:01:28.566"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:29.038" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:29.506" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:29.507" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:29.507" starttime="20191114 02:01:29.036"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:29.511" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:29.511" starttime="20191114 02:01:29.508"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:29.512" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:29.513" starttime="20191114 02:01:29.512"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:29.513" starttime="20191114 02:01:29.036"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:29.517" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:29.967" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:29.967" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:29.967" starttime="20191114 02:01:29.515"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:29.969" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:29.969" starttime="20191114 02:01:29.968"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:29.970" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:29.970" starttime="20191114 02:01:29.969"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:29.970" starttime="20191114 02:01:29.514"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:29.971" starttime="20191114 02:01:28.043"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:29.971" starttime="20191114 02:01:28.042"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:29.971" starttime="20191114 02:01:28.039"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:29.971" starttime="20191114 02:01:28.038"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:29.972" starttime="20191114 02:01:29.971"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:29.973" starttime="20191114 02:01:27.068"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>echo "Multipart upload" &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:29.976" level="INFO">Running command 'echo "Multipart upload" &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 02:01:29.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:29.980" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:29.981" starttime="20191114 02:01:29.974"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:29.982" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:29.982" starttime="20191114 02:01:29.981"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:29.983" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:29.983" starttime="20191114 02:01:29.982"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:29.983" starttime="20191114 02:01:29.973"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>upload-part --bucket ${BUCKET} --key multipartKey --part-number 1 --body /tmp/testfile --upload-id "random"</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:29.987" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 upload-part --bucket bucket-68578 --key multipartKey --part-number 1 --body /tmp/testfile --upload-id "random" 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:38.692" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:01:38.692" level="INFO">${output} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:38.692" starttime="20191114 02:01:29.986"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:38.694" level="INFO">
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:38.694" starttime="20191114 02:01:38.693"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 02:01:38.694" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:38.695" starttime="20191114 02:01:38.694"></status>
</kw>
<msg timestamp="20191114 02:01:38.695" level="INFO">${output} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:38.695" starttime="20191114 02:01:29.985"></status>
</kw>
<msg timestamp="20191114 02:01:38.695" level="INFO">${result} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:38.695" starttime="20191114 02:01:29.984"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchUpload</arg>
</arguments>
<msg timestamp="20191114 02:01:38.696" level="FAIL">'
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchUpload'</msg>
<status status="FAIL" endtime="20191114 02:01:38.696" starttime="20191114 02:01:38.696"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:38.697" critical="yes" starttime="20191114 02:01:27.066">'
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchUpload'</status>
</test>
<test id="s1-s5-t8" name="Test list parts">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:38.701" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:38.707" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:01:38.707" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:01:38.707" starttime="20191114 02:01:38.699"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:38.709" starttime="20191114 02:01:38.708"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:38.710" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:38.897" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:38.898" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:01:38.898" starttime="20191114 02:01:38.709"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:38.904" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:39.678" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:39.678" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:01:39.679" starttime="20191114 02:01:38.902"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:39.680" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:01:39.680" starttime="20191114 02:01:39.679"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:39.681" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:39.682" starttime="20191114 02:01:39.681"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:39.682" starttime="20191114 02:01:38.901"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:39.683" starttime="20191114 02:01:38.900"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:39.683" starttime="20191114 02:01:38.899"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:39.683" starttime="20191114 02:01:38.699"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:39.683" starttime="20191114 02:01:38.698"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:39.685" starttime="20191114 02:01:39.685"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:39.686" starttime="20191114 02:01:39.686"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:39.690" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:40.161" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:40.161" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:40.161" starttime="20191114 02:01:39.688"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:40.163" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:40.163" starttime="20191114 02:01:40.162"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:40.163" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:40.164" starttime="20191114 02:01:40.163"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:40.164" starttime="20191114 02:01:39.688"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:40.166" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:40.601" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:40.601" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:40.602" starttime="20191114 02:01:40.165"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:40.603" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:40.604" starttime="20191114 02:01:40.602"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:40.605" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:40.605" starttime="20191114 02:01:40.604"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:40.605" starttime="20191114 02:01:40.164"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:40.609" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:41.082" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:41.083" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:41.083" starttime="20191114 02:01:40.607"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:41.084" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:41.084" starttime="20191114 02:01:41.083"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:41.085" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:41.085" starttime="20191114 02:01:41.084"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:41.085" starttime="20191114 02:01:40.606"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:41.088" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:41.635" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:41.635" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:41.635" starttime="20191114 02:01:41.086"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:41.637" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:41.637" starttime="20191114 02:01:41.636"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:41.637" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:41.637" starttime="20191114 02:01:41.637"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:41.638" starttime="20191114 02:01:41.085"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:41.638" starttime="20191114 02:01:39.687"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:41.638" starttime="20191114 02:01:39.686"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:41.638" starttime="20191114 02:01:39.684"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:41.638" starttime="20191114 02:01:39.683"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:41.639" starttime="20191114 02:01:41.639"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:41.639" starttime="20191114 02:01:38.698"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey5</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:41.643" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-68578 --key multipartKey5 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:46.711" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:01:46.712" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:46.712" starttime="20191114 02:01:41.641"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:46.714" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:46.714" starttime="20191114 02:01:46.713"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:46.715" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:01:46.716" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:01:46.716" starttime="20191114 02:01:46.714"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:46.716" starttime="20191114 02:01:41.640"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:46.717" starttime="20191114 02:01:41.640"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:46.717" critical="yes" starttime="20191114 02:01:38.697">255 != 0</status>
</test>
<test id="s1-s5-t9" name="Test Multipart Upload with the simplified aws s3 cp API">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:46.725" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:46.731" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:01:46.731" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:01:46.731" starttime="20191114 02:01:46.722"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:46.734" starttime="20191114 02:01:46.732"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:46.736" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:46.939" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:46.939" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:01:46.939" starttime="20191114 02:01:46.734"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:46.943" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:47.724" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:47.724" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:01:47.725" starttime="20191114 02:01:46.942"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:47.726" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:01:47.726" starttime="20191114 02:01:47.725"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:47.727" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:47.727" starttime="20191114 02:01:47.727"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:47.728" starttime="20191114 02:01:46.941"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:47.728" starttime="20191114 02:01:46.941"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:47.728" starttime="20191114 02:01:46.940"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:47.728" starttime="20191114 02:01:46.722"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:47.729" starttime="20191114 02:01:46.721"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:47.730" starttime="20191114 02:01:47.730"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:47.731" starttime="20191114 02:01:47.731"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:47.735" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:48.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:48.183" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:48.183" starttime="20191114 02:01:47.733"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:48.185" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:48.185" starttime="20191114 02:01:48.184"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:48.186" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:48.186" starttime="20191114 02:01:48.186"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:48.187" starttime="20191114 02:01:47.732"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:48.191" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:48.632" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:48.632" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:48.632" starttime="20191114 02:01:48.188"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:48.634" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:48.634" starttime="20191114 02:01:48.633"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:48.635" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:48.636" starttime="20191114 02:01:48.635"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:48.636" starttime="20191114 02:01:48.187"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:48.640" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:49.129" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:49.129" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:49.129" starttime="20191114 02:01:48.637"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:49.131" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:49.131" starttime="20191114 02:01:49.130"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:49.133" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:49.133" starttime="20191114 02:01:49.131"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:49.133" starttime="20191114 02:01:48.636"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:49.136" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:49.576" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:49.576" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:49.576" starttime="20191114 02:01:49.134"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:49.578" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:49.578" starttime="20191114 02:01:49.577"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:49.579" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:49.579" starttime="20191114 02:01:49.578"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:49.580" starttime="20191114 02:01:49.133"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:49.580" starttime="20191114 02:01:47.732"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:49.580" starttime="20191114 02:01:47.731"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:49.580" starttime="20191114 02:01:47.729"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:49.581" starttime="20191114 02:01:47.729"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:49.582" starttime="20191114 02:01:49.581"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:49.582" starttime="20191114 02:01:46.719"></status>
</kw>
<kw name="Create Random file">
<arguments>
<arg>22</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:49.586" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=22 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:49.780" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:49.780" level="INFO">${output} = 22+0 records in
22+0 records out
23068672 bytes (23 MB) copied, 0.186729 s, 124 MB/s</msg>
<status status="PASS" endtime="20191114 02:01:49.780" starttime="20191114 02:01:49.584"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:49.782" level="INFO">22+0 records in
22+0 records out
23068672 bytes (23 MB) copied, 0.186729 s, 124 MB/s</msg>
<status status="PASS" endtime="20191114 02:01:49.782" starttime="20191114 02:01:49.781"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:49.784" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:49.784" starttime="20191114 02:01:49.783"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:49.784" starttime="20191114 02:01:49.583"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:49.785" starttime="20191114 02:01:49.582"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/part1 s3://${BUCKET}/mpyawscli</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:49.790" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/part1 s3://bucket-68578/mpyawscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:55.216" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:01:55.217" level="INFO">${output} = upload failed: ../../tmp/part1 to s3://bucket-68578/mpyawscli An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:55.217" starttime="20191114 02:01:49.788"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:55.219" level="INFO">upload failed: ../../tmp/part1 to s3://bucket-68578/mpyawscli An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:01:55.219" starttime="20191114 02:01:55.218"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:55.220" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:01:55.221" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 02:01:55.221" starttime="20191114 02:01:55.219"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:55.221" starttime="20191114 02:01:49.786"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:55.222" starttime="20191114 02:01:49.785"></status>
</kw>
<status status="FAIL" endtime="20191114 02:01:55.222" critical="yes" starttime="20191114 02:01:46.718">1 != 0</status>
</test>
<test id="s1-s5-t10" name="Test Multipart Upload Put With Copy">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:55.229" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:55.236" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:01:55.236" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:01:55.237" starttime="20191114 02:01:55.227"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:55.239" starttime="20191114 02:01:55.237"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:55.241" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:55.431" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:55.432" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:01:55.432" starttime="20191114 02:01:55.239"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:55.439" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:56.212" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:56.212" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 02:01:56.213" starttime="20191114 02:01:55.436"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:56.214" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:01:56.214" starttime="20191114 02:01:56.213"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:56.215" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:56.216" starttime="20191114 02:01:56.215"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:56.216" starttime="20191114 02:01:55.435"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:56.216" starttime="20191114 02:01:55.434"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:56.216" starttime="20191114 02:01:55.433"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:56.217" starttime="20191114 02:01:55.226"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:56.217" starttime="20191114 02:01:55.225"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:56.220" starttime="20191114 02:01:56.219"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:56.221" starttime="20191114 02:01:56.220"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:56.226" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:56.683" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:56.684" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:56.684" starttime="20191114 02:01:56.224"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:56.686" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:56.686" starttime="20191114 02:01:56.685"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:56.687" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:56.688" starttime="20191114 02:01:56.686"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:56.688" starttime="20191114 02:01:56.223"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:56.692" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:57.121" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:57.121" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:57.121" starttime="20191114 02:01:56.690"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:57.123" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:57.123" starttime="20191114 02:01:57.122"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:57.124" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:57.124" starttime="20191114 02:01:57.123"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:57.125" starttime="20191114 02:01:56.688"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:57.128" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:57.558" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:57.559" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:57.559" starttime="20191114 02:01:57.126"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:57.561" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:57.561" starttime="20191114 02:01:57.560"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:57.562" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:57.562" starttime="20191114 02:01:57.561"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:57.563" starttime="20191114 02:01:57.125"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:57.566" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:57.956" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:57.956" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:01:57.956" starttime="20191114 02:01:57.564"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:57.958" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:01:57.959" starttime="20191114 02:01:57.957"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:57.960" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:57.960" starttime="20191114 02:01:57.959"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:57.960" starttime="20191114 02:01:57.563"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:57.961" starttime="20191114 02:01:56.222"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:57.961" starttime="20191114 02:01:56.221"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:57.961" starttime="20191114 02:01:56.218"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:57.961" starttime="20191114 02:01:56.217"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:01:57.963" starttime="20191114 02:01:57.962"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:57.963" starttime="20191114 02:01:55.225"></status>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Create Random file</arg>
<arg>5</arg>
</arguments>
<kw name="Create Random file">
<arguments>
<arg>5</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:57.968" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=5 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:01:58.018" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:01:58.019" level="INFO">${output} = 5+0 records in
5+0 records out
5242880 bytes (5.2 MB) copied, 0.036754 s, 143 MB/s</msg>
<status status="PASS" endtime="20191114 02:01:58.019" starttime="20191114 02:01:57.966"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:01:58.021" level="INFO">5+0 records in
5+0 records out
5242880 bytes (5.2 MB) copied, 0.036754 s, 143 MB/s</msg>
<status status="PASS" endtime="20191114 02:01:58.021" starttime="20191114 02:01:58.020"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:01:58.022" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:01:58.022" starttime="20191114 02:01:58.021"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:58.023" starttime="20191114 02:01:57.965"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:58.023" starttime="20191114 02:01:57.964"></status>
</kw>
<status status="PASS" endtime="20191114 02:01:58.023" starttime="20191114 02:01:57.963"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>put-object --bucket ${BUCKET} --key copytest/source --body /tmp/part1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:01:58.028" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket bucket-68578 --key copytest/source --body /tmp/part1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:03.570" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:02:03.570" level="INFO">${output} = 
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 02:02:03.570" starttime="20191114 02:01:58.026"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:03.571" level="INFO">
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 02:02:03.571" starttime="20191114 02:02:03.570"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:03.572" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:02:03.573" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:02:03.573" starttime="20191114 02:02:03.572"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:03.573" starttime="20191114 02:01:58.025"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:03.573" starttime="20191114 02:01:58.024"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:03.574" critical="yes" starttime="20191114 02:01:55.223">255 != 0</status>
</test>
<test id="s1-s5-t11" name="Test Multipart Upload Put With Copy and range">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:03.579" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:03.585" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:02:03.585" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:02:03.585" starttime="20191114 02:02:03.577"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:03.587" starttime="20191114 02:02:03.586"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:03.589" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:03.795" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:03.795" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:02:03.796" starttime="20191114 02:02:03.587"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:03.803" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:04.512" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:04.512" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:02:04.512" starttime="20191114 02:02:03.800"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:04.514" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:02:04.515" starttime="20191114 02:02:04.513"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:04.516" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:04.516" starttime="20191114 02:02:04.515"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:04.517" starttime="20191114 02:02:03.799"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:04.517" starttime="20191114 02:02:03.798"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:04.517" starttime="20191114 02:02:03.797"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:04.517" starttime="20191114 02:02:03.577"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:04.518" starttime="20191114 02:02:03.576"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:04.521" starttime="20191114 02:02:04.520"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:04.522" starttime="20191114 02:02:04.521"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:04.527" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:05.032" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:05.032" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:05.032" starttime="20191114 02:02:04.525"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:05.034" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:05.035" starttime="20191114 02:02:05.033"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:05.036" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:05.036" starttime="20191114 02:02:05.035"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:05.036" starttime="20191114 02:02:04.524"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:05.040" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:05.517" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:05.518" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:05.518" starttime="20191114 02:02:05.038"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:05.520" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:05.520" starttime="20191114 02:02:05.519"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:05.521" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:05.522" starttime="20191114 02:02:05.520"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:05.523" starttime="20191114 02:02:05.037"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:05.529" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:06.013" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:06.013" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:06.013" starttime="20191114 02:02:05.525"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:06.015" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:06.015" starttime="20191114 02:02:06.014"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:06.017" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:06.017" starttime="20191114 02:02:06.015"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.018" starttime="20191114 02:02:05.523"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:06.021" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:06.481" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:06.481" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:06.482" starttime="20191114 02:02:06.019"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:06.483" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:06.483" starttime="20191114 02:02:06.482"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:06.484" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:06.484" starttime="20191114 02:02:06.484"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.485" starttime="20191114 02:02:06.018"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.485" starttime="20191114 02:02:04.523"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.485" starttime="20191114 02:02:04.522"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.486" starttime="20191114 02:02:04.519"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.486" starttime="20191114 02:02:04.518"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:06.487" starttime="20191114 02:02:06.486"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.487" starttime="20191114 02:02:03.575"></status>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Create Random file</arg>
<arg>10</arg>
</arguments>
<kw name="Create Random file">
<arguments>
<arg>10</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:06.492" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=10 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:06.594" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:06.594" level="INFO">${output} = 10+0 records in
10+0 records out
10485760 bytes (10 MB) copied, 0.0932642 s, 112 MB/s</msg>
<status status="PASS" endtime="20191114 02:02:06.595" starttime="20191114 02:02:06.490"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:06.597" level="INFO">10+0 records in
10+0 records out
10485760 bytes (10 MB) copied, 0.0932642 s, 112 MB/s</msg>
<status status="PASS" endtime="20191114 02:02:06.597" starttime="20191114 02:02:06.596"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:06.598" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:06.598" starttime="20191114 02:02:06.597"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.599" starttime="20191114 02:02:06.489"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.599" starttime="20191114 02:02:06.488"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:06.599" starttime="20191114 02:02:06.488"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>put-object --bucket ${BUCKET} --key copyrange/source --body /tmp/part1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:06.605" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket bucket-68578 --key copyrange/source --body /tmp/part1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:16.159" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:02:16.159" level="INFO">${output} = 
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 02:02:16.159" starttime="20191114 02:02:06.602"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:16.161" level="INFO">
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 02:02:16.161" starttime="20191114 02:02:16.160"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:16.162" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:02:16.162" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:02:16.162" starttime="20191114 02:02:16.161"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:16.163" starttime="20191114 02:02:06.601"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:16.163" starttime="20191114 02:02:06.600"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:16.163" critical="yes" starttime="20191114 02:02:03.574">255 != 0</status>
</test>
<test id="s1-s5-t12" name="Test Multipart Upload list">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:16.168" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:16.174" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:02:16.174" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:02:16.174" starttime="20191114 02:02:16.167"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:16.175" starttime="20191114 02:02:16.174"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:16.177" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:16.356" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:16.356" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:02:16.356" starttime="20191114 02:02:16.175"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:16.361" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:17.142" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:17.142" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 02:02:17.142" starttime="20191114 02:02:16.359"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:17.144" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:02:17.144" starttime="20191114 02:02:17.143"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:17.145" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:17.146" starttime="20191114 02:02:17.145"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:17.146" starttime="20191114 02:02:16.358"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:17.147" starttime="20191114 02:02:16.358"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:17.147" starttime="20191114 02:02:16.357"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:17.147" starttime="20191114 02:02:16.166"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:17.147" starttime="20191114 02:02:16.166"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:17.151" starttime="20191114 02:02:17.150"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:17.152" starttime="20191114 02:02:17.151"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:17.158" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:17.631" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:17.631" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:17.631" starttime="20191114 02:02:17.155"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:17.633" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:17.633" starttime="20191114 02:02:17.632"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:17.634" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:17.635" starttime="20191114 02:02:17.634"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:17.635" starttime="20191114 02:02:17.154"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:17.639" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:18.111" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:18.112" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:18.112" starttime="20191114 02:02:17.636"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:18.114" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:18.114" starttime="20191114 02:02:18.113"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:18.115" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:18.115" starttime="20191114 02:02:18.114"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:18.116" starttime="20191114 02:02:17.635"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:18.120" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:18.578" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:18.578" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:18.578" starttime="20191114 02:02:18.117"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:18.580" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:18.580" starttime="20191114 02:02:18.579"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:18.580" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:18.580" starttime="20191114 02:02:18.580"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:18.581" starttime="20191114 02:02:18.116"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:18.583" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:19.128" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:19.128" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:19.128" starttime="20191114 02:02:18.582"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:19.130" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:19.130" starttime="20191114 02:02:19.129"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:19.131" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:19.131" starttime="20191114 02:02:19.130"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:19.132" starttime="20191114 02:02:18.581"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:19.132" starttime="20191114 02:02:17.154"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:19.132" starttime="20191114 02:02:17.152"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:19.132" starttime="20191114 02:02:17.149"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:19.132" starttime="20191114 02:02:17.148"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:19.133" starttime="20191114 02:02:19.133"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:19.134" starttime="20191114 02:02:16.165"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key listtest/key1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:19.138" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-68578 --key listtest/key1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:30.001" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:02:30.001" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:30.001" starttime="20191114 02:02:19.136"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:30.003" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:30.003" starttime="20191114 02:02:30.002"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:30.004" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:02:30.004" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:02:30.004" starttime="20191114 02:02:30.003"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:30.005" starttime="20191114 02:02:19.135"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:30.005" starttime="20191114 02:02:19.134"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:30.006" critical="yes" starttime="20191114 02:02:16.164">255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 02:02:30.009" starttime="20191114 02:00:11.385"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectcopy.robot" id="s1-s6" name="Objectcopy">
<test id="s1-s6-t1" name="Copy Object Happy Scenario">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:30.032" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:30.037" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:02:30.037" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:02:30.038" starttime="20191114 02:02:30.030"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:30.039" starttime="20191114 02:02:30.038"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:30.041" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:30.213" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:30.213" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:02:30.213" starttime="20191114 02:02:30.040"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:30.220" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:30.989" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:30.989" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: centos.sonn.com
 * updates: mirror.keystealth.org
Package awsc...</msg>
<status status="PASS" endtime="20191114 02:02:30.989" starttime="20191114 02:02:30.217"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:30.991" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: centos.sonn.com
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:02:30.991" starttime="20191114 02:02:30.990"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:30.992" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:30.993" starttime="20191114 02:02:30.992"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:30.993" starttime="20191114 02:02:30.216"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:30.993" starttime="20191114 02:02:30.215"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:30.994" starttime="20191114 02:02:30.214"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:30.994" starttime="20191114 02:02:30.029"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:30.994" starttime="20191114 02:02:30.029"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:30.997" starttime="20191114 02:02:30.996"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:30.998" starttime="20191114 02:02:30.998"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:31.004" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:31.491" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:31.491" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:31.491" starttime="20191114 02:02:31.001"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:31.493" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:31.493" starttime="20191114 02:02:31.492"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:31.495" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:31.495" starttime="20191114 02:02:31.494"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:31.496" starttime="20191114 02:02:31.000"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:31.500" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:31.958" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:31.958" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:31.958" starttime="20191114 02:02:31.497"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:31.960" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:31.961" starttime="20191114 02:02:31.959"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:31.962" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:31.962" starttime="20191114 02:02:31.961"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:31.963" starttime="20191114 02:02:31.496"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:31.967" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:32.431" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:32.431" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:32.431" starttime="20191114 02:02:31.964"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:32.433" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:32.433" starttime="20191114 02:02:32.432"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:32.433" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:32.434" starttime="20191114 02:02:32.433"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:32.434" starttime="20191114 02:02:31.963"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:32.437" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:32.926" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:32.926" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:32.926" starttime="20191114 02:02:32.435"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:32.927" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:32.927" starttime="20191114 02:02:32.927"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:32.928" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:32.928" starttime="20191114 02:02:32.928"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:32.929" starttime="20191114 02:02:32.434"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:32.929" starttime="20191114 02:02:31.000"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:32.929" starttime="20191114 02:02:30.999"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:32.929" starttime="20191114 02:02:30.996"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:32.929" starttime="20191114 02:02:30.995"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 02:02:32.931" level="INFO">${postfix} = 58152</msg>
<status status="PASS" endtime="20191114 02:02:32.931" starttime="20191114 02:02:32.931"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 02:02:32.932" level="INFO">${BUCKET} = bucket-58152</msg>
<status status="PASS" endtime="20191114 02:02:32.932" starttime="20191114 02:02:32.931"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:32.935" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-58152 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:37.429" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:02:37.430" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:37.430" starttime="20191114 02:02:32.933"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:37.432" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:37.432" starttime="20191114 02:02:37.431"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:37.433" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:02:37.434" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:02:37.434" starttime="20191114 02:02:37.432"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:37.434" starttime="20191114 02:02:32.933"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:37.435" starttime="20191114 02:02:32.932"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:37.435" starttime="20191114 02:02:32.930"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:37.435" starttime="20191114 02:02:32.929"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:37.436" starttime="20191114 02:02:30.028"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:37.436" critical="yes" starttime="20191114 02:02:30.028">Setup failed:
255 != 0</status>
</test>
<test id="s1-s6-t2" name="Copy Object Where Bucket is not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:37.443" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:37.450" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:02:37.450" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:02:37.450" starttime="20191114 02:02:37.441"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:37.452" starttime="20191114 02:02:37.451"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:37.454" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:37.677" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:37.677" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:02:37.677" starttime="20191114 02:02:37.452"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:37.682" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:38.394" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:38.394" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:02:38.394" starttime="20191114 02:02:37.680"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:38.396" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:02:38.396" starttime="20191114 02:02:38.395"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:38.396" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:38.397" starttime="20191114 02:02:38.396"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:38.397" starttime="20191114 02:02:37.679"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:38.397" starttime="20191114 02:02:37.678"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:38.397" starttime="20191114 02:02:37.677"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:38.398" starttime="20191114 02:02:37.440"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:38.398" starttime="20191114 02:02:37.439"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:38.400" starttime="20191114 02:02:38.399"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:38.400" starttime="20191114 02:02:38.400"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:38.404" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:38.882" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:38.882" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:38.882" starttime="20191114 02:02:38.402"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:38.884" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:38.884" starttime="20191114 02:02:38.883"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:38.885" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:38.885" starttime="20191114 02:02:38.885"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:38.886" starttime="20191114 02:02:38.401"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:38.890" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:39.378" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:39.378" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:39.378" starttime="20191114 02:02:38.887"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:39.380" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:39.381" starttime="20191114 02:02:39.379"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:39.382" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:39.382" starttime="20191114 02:02:39.381"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:39.382" starttime="20191114 02:02:38.886"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:39.387" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:39.890" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:39.890" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:39.890" starttime="20191114 02:02:39.384"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:39.892" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:39.893" starttime="20191114 02:02:39.891"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:39.894" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:39.894" starttime="20191114 02:02:39.893"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:39.894" starttime="20191114 02:02:39.383"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:39.898" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:40.382" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:40.382" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:40.382" starttime="20191114 02:02:39.896"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:40.384" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:40.384" starttime="20191114 02:02:40.383"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:40.385" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:40.386" starttime="20191114 02:02:40.385"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:40.386" starttime="20191114 02:02:39.895"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:40.387" starttime="20191114 02:02:38.401"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:40.387" starttime="20191114 02:02:38.401"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:40.387" starttime="20191114 02:02:38.399"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:40.387" starttime="20191114 02:02:38.398"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:40.388" starttime="20191114 02:02:40.388"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:40.389" starttime="20191114 02:02:37.438"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>copy-object --bucket dfdfdfdfdfnonexistent --key copyobject/f1 --copy-source ${BUCKET}/copyobject/f1</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:40.394" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --bucket dfdfdfdfdfnonexistent --key copyobject/f1 --copy-source bucket-58152/copyobject/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:46.186" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:02:46.186" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:46.186" starttime="20191114 02:02:40.392"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:46.188" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:46.189" starttime="20191114 02:02:46.187"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 02:02:46.190" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:46.190" starttime="20191114 02:02:46.189"></status>
</kw>
<msg timestamp="20191114 02:02:46.191" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:46.191" starttime="20191114 02:02:40.390"></status>
</kw>
<msg timestamp="20191114 02:02:46.192" level="INFO">${result} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:46.192" starttime="20191114 02:02:40.389"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchBucket</arg>
</arguments>
<msg timestamp="20191114 02:02:46.193" level="FAIL">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</msg>
<status status="FAIL" endtime="20191114 02:02:46.194" starttime="20191114 02:02:46.192"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:46.194" critical="yes" starttime="20191114 02:02:37.437">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</status>
</test>
<test id="s1-s6-t3" name="Copy Object Where both source and dest are same with change to storageclass">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:46.202" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:46.208" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:02:46.209" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:02:46.209" starttime="20191114 02:02:46.200"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:46.211" starttime="20191114 02:02:46.210"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:46.213" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:46.398" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:46.399" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:02:46.399" starttime="20191114 02:02:46.211"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:46.405" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:47.189" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:47.189" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.lease...</msg>
<status status="PASS" endtime="20191114 02:02:47.190" starttime="20191114 02:02:46.403"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:47.192" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:02:47.192" starttime="20191114 02:02:47.191"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:47.193" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:47.194" starttime="20191114 02:02:47.192"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:47.194" starttime="20191114 02:02:46.402"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:47.195" starttime="20191114 02:02:46.401"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:47.195" starttime="20191114 02:02:46.400"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:47.195" starttime="20191114 02:02:46.199"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:47.195" starttime="20191114 02:02:46.198"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:47.199" starttime="20191114 02:02:47.198"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:47.200" starttime="20191114 02:02:47.199"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:47.205" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:47.661" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:47.661" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:47.661" starttime="20191114 02:02:47.202"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:47.663" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:47.663" starttime="20191114 02:02:47.662"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:47.664" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:47.664" starttime="20191114 02:02:47.663"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:47.665" starttime="20191114 02:02:47.202"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:47.668" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:48.086" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:48.086" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:48.086" starttime="20191114 02:02:47.666"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:48.087" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:48.088" starttime="20191114 02:02:48.087"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:48.088" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:48.088" starttime="20191114 02:02:48.088"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:48.089" starttime="20191114 02:02:47.665"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:48.091" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:48.520" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:48.520" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:48.520" starttime="20191114 02:02:48.089"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:48.522" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:48.522" starttime="20191114 02:02:48.521"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:48.523" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:48.523" starttime="20191114 02:02:48.522"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:48.524" starttime="20191114 02:02:48.089"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:48.527" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:49.018" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:49.018" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:49.018" starttime="20191114 02:02:48.525"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:49.020" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:49.020" starttime="20191114 02:02:49.019"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:49.021" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:49.021" starttime="20191114 02:02:49.020"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:49.022" starttime="20191114 02:02:48.524"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:49.022" starttime="20191114 02:02:47.201"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:49.022" starttime="20191114 02:02:47.200"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:49.023" starttime="20191114 02:02:47.197"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:49.023" starttime="20191114 02:02:47.196"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:49.024" starttime="20191114 02:02:49.023"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:49.024" starttime="20191114 02:02:46.197"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>copy-object --storage-class REDUCED_REDUNDANCY --bucket ${DESTBUCKET} --key copyobject/f1 --copy-source ${DESTBUCKET}/copyobject/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:49.029" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --storage-class REDUCED_REDUNDANCY --bucket generated1 --key copyobject/f1 --copy-source generated1/copyobject/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:55.976" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:02:55.977" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:55.977" starttime="20191114 02:02:49.027"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:55.979" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:02:55.979" starttime="20191114 02:02:55.978"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:55.980" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:02:55.981" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:02:55.981" starttime="20191114 02:02:55.979"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:55.982" starttime="20191114 02:02:49.026"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:55.982" starttime="20191114 02:02:49.025"></status>
</kw>
<status status="FAIL" endtime="20191114 02:02:55.982" critical="yes" starttime="20191114 02:02:46.195">255 != 0</status>
</test>
<test id="s1-s6-t4" name="Copy Object Where Key not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:55.989" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:55.996" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:02:55.996" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:02:55.996" starttime="20191114 02:02:55.987"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:55.998" starttime="20191114 02:02:55.997"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:56.001" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:56.200" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:56.200" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:02:56.200" starttime="20191114 02:02:55.999"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:56.206" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:56.998" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:56.999" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:02:56.999" starttime="20191114 02:02:56.204"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:57.001" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:02:57.001" starttime="20191114 02:02:57.000"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:57.002" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:57.002" starttime="20191114 02:02:57.001"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:57.003" starttime="20191114 02:02:56.203"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:57.003" starttime="20191114 02:02:56.202"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:57.003" starttime="20191114 02:02:56.201"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:57.004" starttime="20191114 02:02:55.986"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:57.004" starttime="20191114 02:02:55.985"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:57.007" starttime="20191114 02:02:57.006"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:57.008" starttime="20191114 02:02:57.007"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:57.014" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:57.488" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:57.489" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:57.489" starttime="20191114 02:02:57.011"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:57.491" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:57.491" starttime="20191114 02:02:57.490"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:57.492" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:57.492" starttime="20191114 02:02:57.491"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:57.493" starttime="20191114 02:02:57.010"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:57.497" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:58.002" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:58.002" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:58.002" starttime="20191114 02:02:57.494"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:58.004" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:58.004" starttime="20191114 02:02:58.003"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:58.005" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:58.006" starttime="20191114 02:02:58.005"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:58.006" starttime="20191114 02:02:57.493"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:58.009" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:58.510" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:58.510" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:58.511" starttime="20191114 02:02:58.007"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:58.512" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:58.513" starttime="20191114 02:02:58.511"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:58.514" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:58.514" starttime="20191114 02:02:58.513"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:58.514" starttime="20191114 02:02:58.006"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:58.518" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:02:58.947" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:02:58.947" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:02:58.947" starttime="20191114 02:02:58.516"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:02:58.949" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:02:58.950" starttime="20191114 02:02:58.948"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:02:58.951" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:02:58.951" starttime="20191114 02:02:58.950"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:58.951" starttime="20191114 02:02:58.515"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:58.952" starttime="20191114 02:02:57.009"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:58.952" starttime="20191114 02:02:57.008"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:58.952" starttime="20191114 02:02:57.005"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:58.952" starttime="20191114 02:02:57.004"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:02:58.954" starttime="20191114 02:02:58.953"></status>
</kw>
<status status="PASS" endtime="20191114 02:02:58.954" starttime="20191114 02:02:55.984"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>copy-object --bucket ${DESTBUCKET} --key copyobject/f1 --copy-source ${BUCKET}/nonnonexistentkey</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:02:58.959" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --bucket generated1 --key copyobject/f1 --copy-source bucket-58152/nonnonexistentkey 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:08.642" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:03:08.642" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:08.642" starttime="20191114 02:02:58.957"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:08.644" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:08.644" starttime="20191114 02:03:08.643"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 02:03:08.645" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:08.646" starttime="20191114 02:03:08.645"></status>
</kw>
<msg timestamp="20191114 02:03:08.646" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:08.647" starttime="20191114 02:02:58.956"></status>
</kw>
<msg timestamp="20191114 02:03:08.647" level="INFO">${result} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:08.647" starttime="20191114 02:02:58.954"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchKey</arg>
</arguments>
<msg timestamp="20191114 02:03:08.649" level="FAIL">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchKey'</msg>
<status status="FAIL" endtime="20191114 02:03:08.649" starttime="20191114 02:03:08.648"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:08.649" critical="yes" starttime="20191114 02:02:55.983">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchKey'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 02:03:08.651" starttime="20191114 02:02:30.017"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectdelete.robot" id="s1-s7" name="Objectdelete">
<test id="s1-s7-t1" name="Delete file with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:08.674" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:08.680" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:03:08.680" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:03:08.680" starttime="20191114 02:03:08.672"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:08.682" starttime="20191114 02:03:08.681"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:08.684" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:08.881" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:08.881" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:03:08.881" starttime="20191114 02:03:08.682"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:08.888" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:09.681" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:09.682" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.lease...</msg>
<status status="PASS" endtime="20191114 02:03:09.682" starttime="20191114 02:03:08.885"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:09.684" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:03:09.684" starttime="20191114 02:03:09.683"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:09.685" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:09.685" starttime="20191114 02:03:09.684"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:09.686" starttime="20191114 02:03:08.884"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:09.686" starttime="20191114 02:03:08.884"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:09.687" starttime="20191114 02:03:08.882"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:09.687" starttime="20191114 02:03:08.671"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:09.687" starttime="20191114 02:03:08.670"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:09.690" starttime="20191114 02:03:09.690"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:09.691" starttime="20191114 02:03:09.691"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:09.697" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:10.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:10.132" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:10.133" starttime="20191114 02:03:09.694"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:10.134" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:10.135" starttime="20191114 02:03:10.134"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:10.136" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:10.136" starttime="20191114 02:03:10.135"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:10.137" starttime="20191114 02:03:09.693"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:10.142" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:10.614" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:10.615" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:10.615" starttime="20191114 02:03:10.138"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:10.617" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:10.617" starttime="20191114 02:03:10.616"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:10.618" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:10.618" starttime="20191114 02:03:10.617"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:10.619" starttime="20191114 02:03:10.137"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:10.623" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:11.107" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:11.107" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:11.107" starttime="20191114 02:03:10.620"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:11.109" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:11.109" starttime="20191114 02:03:11.108"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:11.110" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:11.111" starttime="20191114 02:03:11.110"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:11.111" starttime="20191114 02:03:10.619"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:11.115" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:11.596" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:11.596" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:11.597" starttime="20191114 02:03:11.113"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:11.598" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:11.598" starttime="20191114 02:03:11.597"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:11.598" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:11.599" starttime="20191114 02:03:11.598"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:11.599" starttime="20191114 02:03:11.112"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:11.599" starttime="20191114 02:03:09.693"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:11.599" starttime="20191114 02:03:09.692"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:11.599" starttime="20191114 02:03:09.689"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:11.600" starttime="20191114 02:03:09.688"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 02:03:11.601" level="INFO">${postfix} = 01258</msg>
<status status="PASS" endtime="20191114 02:03:11.601" starttime="20191114 02:03:11.601"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 02:03:11.602" level="INFO">${BUCKET} = bucket-01258</msg>
<status status="PASS" endtime="20191114 02:03:11.602" starttime="20191114 02:03:11.602"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:11.605" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-01258 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:19.577" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:03:19.577" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:19.577" starttime="20191114 02:03:11.604"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:19.579" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:19.579" starttime="20191114 02:03:19.578"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:19.580" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:03:19.581" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:03:19.581" starttime="20191114 02:03:19.579"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:19.581" starttime="20191114 02:03:11.603"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:19.582" starttime="20191114 02:03:11.602"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:19.582" starttime="20191114 02:03:11.600"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:19.582" starttime="20191114 02:03:11.600"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:19.583" starttime="20191114 02:03:08.670"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:19.583" critical="yes" starttime="20191114 02:03:08.669">Setup failed:
255 != 0</status>
</test>
<test id="s1-s7-t2" name="Delete file with s3api, file doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:19.588" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:19.594" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:03:19.595" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:03:19.595" starttime="20191114 02:03:19.586"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:19.597" starttime="20191114 02:03:19.595"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:19.599" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:19.763" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:19.764" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:03:19.764" starttime="20191114 02:03:19.597"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:19.770" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:20.463" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:20.463" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 02:03:20.463" starttime="20191114 02:03:19.768"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:20.466" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:03:20.466" starttime="20191114 02:03:20.464"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:20.467" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:20.468" starttime="20191114 02:03:20.467"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:20.468" starttime="20191114 02:03:19.767"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:20.468" starttime="20191114 02:03:19.766"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:20.469" starttime="20191114 02:03:19.765"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:20.469" starttime="20191114 02:03:19.586"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:20.469" starttime="20191114 02:03:19.585"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:20.472" starttime="20191114 02:03:20.471"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:20.473" starttime="20191114 02:03:20.473"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:20.478" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:20.940" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:20.940" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:20.940" starttime="20191114 02:03:20.476"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:20.941" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:20.941" starttime="20191114 02:03:20.940"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:20.942" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:20.942" starttime="20191114 02:03:20.941"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:20.942" starttime="20191114 02:03:20.475"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:20.945" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:21.402" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:21.402" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:21.402" starttime="20191114 02:03:20.943"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:21.404" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:21.404" starttime="20191114 02:03:21.403"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:21.405" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:21.405" starttime="20191114 02:03:21.405"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:21.406" starttime="20191114 02:03:20.943"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:21.409" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:21.896" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:21.896" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:21.896" starttime="20191114 02:03:21.407"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:21.898" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:21.898" starttime="20191114 02:03:21.897"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:21.899" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:21.899" starttime="20191114 02:03:21.899"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:21.900" starttime="20191114 02:03:21.406"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:21.903" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:22.327" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:22.327" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:22.327" starttime="20191114 02:03:21.901"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:22.329" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:22.329" starttime="20191114 02:03:22.328"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:22.330" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:22.331" starttime="20191114 02:03:22.330"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:22.331" starttime="20191114 02:03:21.900"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:22.332" starttime="20191114 02:03:20.474"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:22.332" starttime="20191114 02:03:20.474"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:22.332" starttime="20191114 02:03:20.470"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:22.332" starttime="20191114 02:03:20.469"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:22.334" starttime="20191114 02:03:22.333"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:22.334" starttime="20191114 02:03:19.585"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:22.339" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 ls s3://bucket-01258/ 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:29.672" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:03:29.672" level="INFO">${output} = 
An error occurred (500) when calling the ListObjects operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:29.672" starttime="20191114 02:03:22.337"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:29.674" level="INFO">
An error occurred (500) when calling the ListObjects operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:29.674" starttime="20191114 02:03:29.673"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:29.674" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:03:29.675" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:03:29.675" starttime="20191114 02:03:29.674"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:29.675" starttime="20191114 02:03:22.336"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:29.676" starttime="20191114 02:03:22.335"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:29.676" critical="yes" starttime="20191114 02:03:19.584">255 != 0</status>
</test>
<test id="s1-s7-t3" name="Delete dir with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:29.682" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:29.687" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:03:29.687" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:03:29.688" starttime="20191114 02:03:29.680"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:29.690" starttime="20191114 02:03:29.689"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:29.693" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:29.894" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:29.895" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:03:29.895" starttime="20191114 02:03:29.690"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:29.901" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:31.503" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:31.504" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leas...</msg>
<status status="PASS" endtime="20191114 02:03:31.504" starttime="20191114 02:03:29.899"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:31.506" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:03:31.506" starttime="20191114 02:03:31.505"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:31.507" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:31.507" starttime="20191114 02:03:31.506"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:31.508" starttime="20191114 02:03:29.898"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:31.508" starttime="20191114 02:03:29.897"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:31.508" starttime="20191114 02:03:29.896"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:31.509" starttime="20191114 02:03:29.679"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:31.509" starttime="20191114 02:03:29.678"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:31.512" starttime="20191114 02:03:31.511"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:31.513" starttime="20191114 02:03:31.512"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:31.518" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:31.946" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:31.946" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:31.947" starttime="20191114 02:03:31.515"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:31.948" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:31.948" starttime="20191114 02:03:31.947"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:31.949" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:31.949" starttime="20191114 02:03:31.948"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:31.950" starttime="20191114 02:03:31.515"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:31.953" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:32.453" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:32.453" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:32.453" starttime="20191114 02:03:31.951"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:32.455" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:32.455" starttime="20191114 02:03:32.454"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:32.456" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:32.457" starttime="20191114 02:03:32.456"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:32.457" starttime="20191114 02:03:31.950"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:32.461" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:32.907" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:32.907" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:32.907" starttime="20191114 02:03:32.459"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:32.909" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:32.909" starttime="20191114 02:03:32.908"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:32.911" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:32.912" starttime="20191114 02:03:32.910"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:32.912" starttime="20191114 02:03:32.458"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:32.916" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:33.391" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:33.392" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:33.392" starttime="20191114 02:03:32.914"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:33.393" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:33.393" starttime="20191114 02:03:33.392"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:33.394" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:33.394" starttime="20191114 02:03:33.393"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:33.394" starttime="20191114 02:03:32.913"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:33.394" starttime="20191114 02:03:31.514"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:33.394" starttime="20191114 02:03:31.513"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:33.395" starttime="20191114 02:03:31.510"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:33.395" starttime="20191114 02:03:31.509"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:33.395" starttime="20191114 02:03:33.395"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:33.396" starttime="20191114 02:03:29.678"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:33.398" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 02:03:33.405" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:33.405" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:33.405" starttime="20191114 02:03:33.396"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:33.407" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:33.407" starttime="20191114 02:03:33.406"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:33.408" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:33.408" starttime="20191114 02:03:33.407"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:33.409" starttime="20191114 02:03:33.396"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/deletetestapidir/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:33.413" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-01258/deletetestapidir/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:40.390" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:03:40.391" level="INFO">${output} = Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-01258/deletetestapidir/f1 An error occurred (500) when calling the PutObject operation...</msg>
<status status="PASS" endtime="20191114 02:03:40.391" starttime="20191114 02:03:33.411"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:40.393" level="INFO">Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-01258/deletetestapidir/f1 An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:40.393" starttime="20191114 02:03:40.392"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:40.394" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:03:40.395" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 02:03:40.395" starttime="20191114 02:03:40.393"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:40.396" starttime="20191114 02:03:33.410"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:40.396" starttime="20191114 02:03:33.409"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:40.396" critical="yes" starttime="20191114 02:03:29.677">1 != 0</status>
</test>
<test id="s1-s7-t4" name="Delete file with s3api, file doesn't exist, prefix of a real file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:40.404" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:40.410" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:03:40.410" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:03:40.410" starttime="20191114 02:03:40.401"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:40.413" starttime="20191114 02:03:40.411"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:40.415" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:40.623" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:40.623" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:03:40.623" starttime="20191114 02:03:40.413"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:40.629" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:41.388" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:41.388" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth....</msg>
<status status="PASS" endtime="20191114 02:03:41.388" starttime="20191114 02:03:40.627"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:41.390" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:03:41.391" starttime="20191114 02:03:41.389"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:41.392" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:41.392" starttime="20191114 02:03:41.391"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:41.393" starttime="20191114 02:03:40.626"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:41.394" starttime="20191114 02:03:40.625"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:41.394" starttime="20191114 02:03:40.624"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:41.395" starttime="20191114 02:03:40.401"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:41.395" starttime="20191114 02:03:40.400"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:41.398" starttime="20191114 02:03:41.397"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:41.399" starttime="20191114 02:03:41.398"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:41.405" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:41.883" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:41.883" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:41.883" starttime="20191114 02:03:41.402"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:41.885" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:41.885" starttime="20191114 02:03:41.884"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:41.886" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:41.886" starttime="20191114 02:03:41.885"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:41.886" starttime="20191114 02:03:41.402"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:41.890" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:42.315" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:42.315" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:42.315" starttime="20191114 02:03:41.888"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:42.317" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:42.318" starttime="20191114 02:03:42.316"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:42.319" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:42.319" starttime="20191114 02:03:42.318"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:42.320" starttime="20191114 02:03:41.887"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:42.324" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:42.784" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:42.785" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:42.785" starttime="20191114 02:03:42.321"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:42.787" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:42.787" starttime="20191114 02:03:42.786"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:42.788" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:42.788" starttime="20191114 02:03:42.787"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:42.789" starttime="20191114 02:03:42.320"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:42.793" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:43.256" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:43.256" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:43.256" starttime="20191114 02:03:42.790"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:43.258" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:43.258" starttime="20191114 02:03:43.257"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:43.259" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:43.259" starttime="20191114 02:03:43.258"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:43.260" starttime="20191114 02:03:42.789"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:43.260" starttime="20191114 02:03:41.400"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:43.260" starttime="20191114 02:03:41.399"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:43.261" starttime="20191114 02:03:41.396"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:43.261" starttime="20191114 02:03:41.395"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:43.262" starttime="20191114 02:03:43.261"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:43.262" starttime="20191114 02:03:40.399"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:43.266" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 02:03:43.273" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:43.273" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:43.273" starttime="20191114 02:03:43.264"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:43.275" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:43.275" starttime="20191114 02:03:43.274"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:43.276" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:43.276" starttime="20191114 02:03:43.275"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:43.277" starttime="20191114 02:03:43.263"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/deletetestapiprefix/filefile</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:43.281" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-01258/deletetestapiprefix/filefile 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:53.664" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:03:53.664" level="INFO">${output} = Completed 29 Bytes/29 Bytes (3 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-01258/deletetestapiprefix/filefile An error occurred (500) when calling the PutObject ...</msg>
<status status="PASS" endtime="20191114 02:03:53.664" starttime="20191114 02:03:43.279"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:53.666" level="INFO">Completed 29 Bytes/29 Bytes (3 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-01258/deletetestapiprefix/filefile An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:03:53.666" starttime="20191114 02:03:53.665"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:53.667" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:03:53.667" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 02:03:53.667" starttime="20191114 02:03:53.666"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:53.667" starttime="20191114 02:03:43.278"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:53.668" starttime="20191114 02:03:43.277"></status>
</kw>
<status status="FAIL" endtime="20191114 02:03:53.668" critical="yes" starttime="20191114 02:03:40.397">1 != 0</status>
</test>
<test id="s1-s7-t5" name="Delete file with s3api, bucket doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:53.673" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:53.679" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:03:53.680" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:03:53.680" starttime="20191114 02:03:53.671"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:53.681" starttime="20191114 02:03:53.680"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:53.683" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:53.880" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:53.881" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:03:53.881" starttime="20191114 02:03:53.681"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:53.887" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:54.638" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:54.638" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 02:03:54.639" starttime="20191114 02:03:53.885"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:54.640" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:03:54.641" starttime="20191114 02:03:54.639"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:54.642" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:54.642" starttime="20191114 02:03:54.641"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:54.643" starttime="20191114 02:03:53.884"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:54.643" starttime="20191114 02:03:53.883"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:54.643" starttime="20191114 02:03:53.882"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:54.643" starttime="20191114 02:03:53.670"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:54.644" starttime="20191114 02:03:53.670"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:54.647" starttime="20191114 02:03:54.646"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:54.648" starttime="20191114 02:03:54.647"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:54.653" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:55.141" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:55.141" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:55.142" starttime="20191114 02:03:54.650"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:55.143" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:55.144" starttime="20191114 02:03:55.142"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:55.145" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:55.145" starttime="20191114 02:03:55.144"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:55.146" starttime="20191114 02:03:54.650"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:55.150" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:55.650" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:55.650" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:55.650" starttime="20191114 02:03:55.147"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:55.651" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:55.651" starttime="20191114 02:03:55.650"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:55.652" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:55.652" starttime="20191114 02:03:55.651"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:55.652" starttime="20191114 02:03:55.146"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:55.655" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:56.099" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:56.099" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:56.099" starttime="20191114 02:03:55.653"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:56.101" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:56.101" starttime="20191114 02:03:56.100"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:56.101" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:56.102" starttime="20191114 02:03:56.101"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:56.102" starttime="20191114 02:03:55.653"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:56.105" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:03:56.543" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:03:56.543" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:03:56.543" starttime="20191114 02:03:56.103"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:03:56.546" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:03:56.546" starttime="20191114 02:03:56.544"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:03:56.547" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:03:56.547" starttime="20191114 02:03:56.546"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:56.548" starttime="20191114 02:03:56.102"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:56.548" starttime="20191114 02:03:54.649"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:56.548" starttime="20191114 02:03:54.648"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:56.548" starttime="20191114 02:03:54.645"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:56.548" starttime="20191114 02:03:54.644"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:03:56.550" starttime="20191114 02:03:56.549"></status>
</kw>
<status status="PASS" endtime="20191114 02:03:56.550" starttime="20191114 02:03:53.669"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET}-nosuchbucket --key f1</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:03:56.555" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 delete-object --bucket bucket-01258-nosuchbucket --key f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:01.722" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:04:01.722" level="INFO">${output} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:01.722" starttime="20191114 02:03:56.552"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:01.724" level="INFO">
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:01.725" starttime="20191114 02:04:01.723"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 02:04:01.726" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:01.726" starttime="20191114 02:04:01.725"></status>
</kw>
<msg timestamp="20191114 02:04:01.727" level="INFO">${output} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:01.727" starttime="20191114 02:03:56.551"></status>
</kw>
<msg timestamp="20191114 02:04:01.728" level="INFO">${result} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:01.728" starttime="20191114 02:03:56.550"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchBucket</arg>
</arguments>
<msg timestamp="20191114 02:04:01.729" level="FAIL">'
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</msg>
<status status="FAIL" endtime="20191114 02:04:01.729" starttime="20191114 02:04:01.728"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:01.730" critical="yes" starttime="20191114 02:03:53.669">'
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 02:04:01.732" starttime="20191114 02:03:08.656"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectmultidelete.robot" id="s1-s8" name="Objectmultidelete">
<test id="s1-s8-t1" name="Delete file with multi delete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:01.755" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:01.760" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:04:01.760" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:04:01.760" starttime="20191114 02:04:01.753"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:01.762" starttime="20191114 02:04:01.761"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:01.766" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:01.976" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:01.977" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:04:01.977" starttime="20191114 02:04:01.763"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:01.984" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:03.581" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:03.581" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 02:04:03.582" starttime="20191114 02:04:01.982"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:03.584" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:04:03.584" starttime="20191114 02:04:03.583"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:03.585" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:03.585" starttime="20191114 02:04:03.584"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:03.585" starttime="20191114 02:04:01.981"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:03.586" starttime="20191114 02:04:01.980"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:03.586" starttime="20191114 02:04:01.978"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:03.586" starttime="20191114 02:04:01.752"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:03.586" starttime="20191114 02:04:01.751"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:03.589" starttime="20191114 02:04:03.588"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:03.590" starttime="20191114 02:04:03.589"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:03.594" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:04.069" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:04.069" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:04.069" starttime="20191114 02:04:03.592"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:04.071" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:04.072" starttime="20191114 02:04:04.070"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:04.073" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:04.073" starttime="20191114 02:04:04.072"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:04.074" starttime="20191114 02:04:03.591"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:04.077" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:04.527" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:04.527" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:04.528" starttime="20191114 02:04:04.075"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:04.529" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:04.530" starttime="20191114 02:04:04.528"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:04.531" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:04.531" starttime="20191114 02:04:04.530"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:04.531" starttime="20191114 02:04:04.074"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:04.535" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:04.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:04.935" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:04.935" starttime="20191114 02:04:04.533"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:04.936" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:04.936" starttime="20191114 02:04:04.935"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:04.937" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:04.937" starttime="20191114 02:04:04.937"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:04.938" starttime="20191114 02:04:04.532"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:04.941" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:05.400" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:05.400" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:05.400" starttime="20191114 02:04:04.939"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:05.403" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:05.403" starttime="20191114 02:04:05.401"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:05.404" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:05.405" starttime="20191114 02:04:05.404"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:05.405" starttime="20191114 02:04:04.938"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:05.406" starttime="20191114 02:04:03.591"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:05.406" starttime="20191114 02:04:03.590"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:05.406" starttime="20191114 02:04:03.588"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:05.406" starttime="20191114 02:04:03.587"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 02:04:05.409" level="INFO">${postfix} = 38927</msg>
<status status="PASS" endtime="20191114 02:04:05.409" starttime="20191114 02:04:05.408"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 02:04:05.410" level="INFO">${BUCKET} = bucket-38927</msg>
<status status="PASS" endtime="20191114 02:04:05.411" starttime="20191114 02:04:05.410"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:05.415" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-38927 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:13.756" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:04:13.756" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:13.756" starttime="20191114 02:04:05.413"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:13.758" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:13.758" starttime="20191114 02:04:13.757"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:13.759" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:04:13.759" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:04:13.759" starttime="20191114 02:04:13.758"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:13.760" starttime="20191114 02:04:05.412"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:13.760" starttime="20191114 02:04:05.411"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:13.760" starttime="20191114 02:04:05.408"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:13.760" starttime="20191114 02:04:05.407"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:13.761" starttime="20191114 02:04:01.750"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:13.761" critical="yes" starttime="20191114 02:04:01.749">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 02:04:13.762" starttime="20191114 02:04:01.737"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectputget.robot" id="s1-s9" name="Objectputget">
<test id="s1-s9-t1" name="Put object to s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:13.777" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:13.784" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:04:13.784" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:04:13.784" starttime="20191114 02:04:13.775"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:13.786" starttime="20191114 02:04:13.785"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:13.789" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:13.973" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:13.974" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:04:13.974" starttime="20191114 02:04:13.787"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:13.980" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:14.725" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:14.726" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:04:14.726" starttime="20191114 02:04:13.978"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:14.728" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:04:14.728" starttime="20191114 02:04:14.727"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:14.729" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:14.729" starttime="20191114 02:04:14.728"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:14.730" starttime="20191114 02:04:13.977"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:14.730" starttime="20191114 02:04:13.976"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:14.730" starttime="20191114 02:04:13.975"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:14.731" starttime="20191114 02:04:13.774"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:14.731" starttime="20191114 02:04:13.774"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:14.734" starttime="20191114 02:04:14.733"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:14.735" starttime="20191114 02:04:14.734"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:14.740" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:15.226" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:15.227" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:15.227" starttime="20191114 02:04:14.738"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:15.229" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:15.229" starttime="20191114 02:04:15.228"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:15.230" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:15.230" starttime="20191114 02:04:15.229"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:15.231" starttime="20191114 02:04:14.737"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:15.235" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:15.700" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:15.701" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:15.701" starttime="20191114 02:04:15.232"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:15.702" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:15.702" starttime="20191114 02:04:15.701"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:15.703" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:15.703" starttime="20191114 02:04:15.702"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:15.703" starttime="20191114 02:04:15.231"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:15.706" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:16.199" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:16.199" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:16.200" starttime="20191114 02:04:15.704"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:16.202" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:16.202" starttime="20191114 02:04:16.201"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:16.203" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:16.203" starttime="20191114 02:04:16.202"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:16.204" starttime="20191114 02:04:15.704"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:16.208" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:16.673" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:16.673" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:16.673" starttime="20191114 02:04:16.205"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:16.675" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:16.675" starttime="20191114 02:04:16.674"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:16.676" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:16.676" starttime="20191114 02:04:16.675"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:16.677" starttime="20191114 02:04:16.204"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:16.677" starttime="20191114 02:04:14.736"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:16.677" starttime="20191114 02:04:14.735"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:16.678" starttime="20191114 02:04:14.732"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:16.678" starttime="20191114 02:04:14.731"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 02:04:16.681" level="INFO">${postfix} = 01163</msg>
<status status="PASS" endtime="20191114 02:04:16.681" starttime="20191114 02:04:16.680"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 02:04:16.682" level="INFO">${BUCKET} = bucket-01163</msg>
<status status="PASS" endtime="20191114 02:04:16.682" starttime="20191114 02:04:16.681"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:16.699" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-01163 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:24.399" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:04:24.400" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:24.400" starttime="20191114 02:04:16.697"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:24.402" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:24.402" starttime="20191114 02:04:24.401"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:24.403" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:04:24.404" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:04:24.404" starttime="20191114 02:04:24.402"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:24.404" starttime="20191114 02:04:16.695"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:24.405" starttime="20191114 02:04:16.683"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:24.405" starttime="20191114 02:04:16.679"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:24.405" starttime="20191114 02:04:16.678"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:24.406" starttime="20191114 02:04:13.773"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:24.406" critical="yes" starttime="20191114 02:04:13.772">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t2" name="Get object from s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:24.413" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:24.419" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:04:24.419" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:04:24.420" starttime="20191114 02:04:24.410"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:24.421" starttime="20191114 02:04:24.420"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:24.424" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:24.602" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:24.603" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:04:24.603" starttime="20191114 02:04:24.422"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:24.612" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:25.365" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:25.366" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:04:25.366" starttime="20191114 02:04:24.609"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:25.368" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:04:25.368" starttime="20191114 02:04:25.367"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:25.369" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:25.369" starttime="20191114 02:04:25.368"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:25.370" starttime="20191114 02:04:24.607"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:25.370" starttime="20191114 02:04:24.606"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:25.370" starttime="20191114 02:04:24.604"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:25.371" starttime="20191114 02:04:24.409"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:25.371" starttime="20191114 02:04:24.409"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:25.374" starttime="20191114 02:04:25.373"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:25.375" starttime="20191114 02:04:25.374"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:25.381" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:25.889" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:25.890" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:25.890" starttime="20191114 02:04:25.378"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:25.891" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:25.892" starttime="20191114 02:04:25.891"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:25.893" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:25.893" starttime="20191114 02:04:25.892"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:25.893" starttime="20191114 02:04:25.377"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:25.897" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:26.341" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:26.341" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:26.342" starttime="20191114 02:04:25.894"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:26.344" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:26.344" starttime="20191114 02:04:26.343"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:26.345" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:26.345" starttime="20191114 02:04:26.344"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:26.346" starttime="20191114 02:04:25.893"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:26.350" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:26.892" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:26.892" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:26.892" starttime="20191114 02:04:26.347"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:26.894" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:26.895" starttime="20191114 02:04:26.893"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:26.896" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:26.896" starttime="20191114 02:04:26.895"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:26.897" starttime="20191114 02:04:26.346"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:26.900" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:27.385" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:27.385" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:27.386" starttime="20191114 02:04:26.898"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:27.387" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:27.387" starttime="20191114 02:04:27.386"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:27.388" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:27.388" starttime="20191114 02:04:27.387"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:27.388" starttime="20191114 02:04:26.897"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:27.389" starttime="20191114 02:04:25.376"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:27.389" starttime="20191114 02:04:25.375"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:27.389" starttime="20191114 02:04:25.372"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:27.389" starttime="20191114 02:04:25.371"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:27.390" starttime="20191114 02:04:27.390"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:27.390" starttime="20191114 02:04:24.408"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 /tmp/testfile.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:27.394" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-01163 --key putobject/f1 /tmp/testfile.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:38.232" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:04:38.233" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:38.233" starttime="20191114 02:04:27.392"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:38.235" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:38.235" starttime="20191114 02:04:38.234"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:38.236" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:04:38.237" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:04:38.237" starttime="20191114 02:04:38.235"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:38.237" starttime="20191114 02:04:27.392"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:38.238" starttime="20191114 02:04:27.391"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:38.238" critical="yes" starttime="20191114 02:04:24.407">255 != 0</status>
</test>
<test id="s1-s9-t3" name="Get Partial object from s3 with both start and endoffset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:38.245" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:38.252" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:04:38.252" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:04:38.252" starttime="20191114 02:04:38.243"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:38.255" starttime="20191114 02:04:38.253"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:38.257" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:38.447" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:38.447" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:04:38.447" starttime="20191114 02:04:38.255"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:38.456" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:39.169" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:39.169" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:04:39.169" starttime="20191114 02:04:38.453"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:39.171" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:04:39.171" starttime="20191114 02:04:39.170"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:39.172" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:39.172" starttime="20191114 02:04:39.172"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:39.173" starttime="20191114 02:04:38.450"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:39.173" starttime="20191114 02:04:38.450"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:39.174" starttime="20191114 02:04:38.448"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:39.174" starttime="20191114 02:04:38.242"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:39.174" starttime="20191114 02:04:38.242"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:39.177" starttime="20191114 02:04:39.176"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:39.178" starttime="20191114 02:04:39.178"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:39.183" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:39.684" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:39.685" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:39.685" starttime="20191114 02:04:39.181"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:39.687" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:39.687" starttime="20191114 02:04:39.686"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:39.688" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:39.688" starttime="20191114 02:04:39.687"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:39.689" starttime="20191114 02:04:39.180"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:39.693" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:40.193" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:40.193" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:40.193" starttime="20191114 02:04:39.691"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:40.196" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:40.196" starttime="20191114 02:04:40.194"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:40.197" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:40.197" starttime="20191114 02:04:40.196"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:40.198" starttime="20191114 02:04:39.689"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:40.202" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:40.698" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:40.698" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:40.698" starttime="20191114 02:04:40.199"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:40.700" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:40.700" starttime="20191114 02:04:40.699"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:40.701" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:40.701" starttime="20191114 02:04:40.700"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:40.702" starttime="20191114 02:04:40.198"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:40.705" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:41.224" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:41.224" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:41.224" starttime="20191114 02:04:40.703"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:41.226" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:41.226" starttime="20191114 02:04:41.225"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:41.227" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:41.227" starttime="20191114 02:04:41.226"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:41.228" starttime="20191114 02:04:40.702"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:41.228" starttime="20191114 02:04:39.180"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:41.228" starttime="20191114 02:04:39.179"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:41.228" starttime="20191114 02:04:39.175"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:41.229" starttime="20191114 02:04:39.174"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:41.230" starttime="20191114 02:04:41.229"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:41.230" starttime="20191114 02:04:38.241"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-4 /tmp/testfile1.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:41.235" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-01163 --key putobject/f1 --range bytes=0-4 /tmp/testfile1.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:52.535" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:04:52.536" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:52.536" starttime="20191114 02:04:41.233"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:52.538" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:52.538" starttime="20191114 02:04:52.537"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:52.539" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:04:52.540" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:04:52.540" starttime="20191114 02:04:52.539"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:52.541" starttime="20191114 02:04:41.232"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:52.541" starttime="20191114 02:04:41.231"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:52.542" critical="yes" starttime="20191114 02:04:38.239">255 != 0</status>
</test>
<test id="s1-s9-t4" name="Get Partial object from s3 with both start and endoffset(start offset and endoffset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:52.561" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:52.568" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:04:52.569" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:04:52.569" starttime="20191114 02:04:52.558"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:52.571" starttime="20191114 02:04:52.570"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:52.574" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:52.768" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:52.768" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:04:52.768" starttime="20191114 02:04:52.572"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:52.772" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:53.541" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:53.541" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 02:04:53.541" starttime="20191114 02:04:52.771"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:53.544" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:04:53.544" starttime="20191114 02:04:53.542"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:53.545" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:53.545" starttime="20191114 02:04:53.544"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:53.546" starttime="20191114 02:04:52.770"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:53.546" starttime="20191114 02:04:52.770"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:53.546" starttime="20191114 02:04:52.769"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:53.546" starttime="20191114 02:04:52.556"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:53.546" starttime="20191114 02:04:52.546"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:53.549" starttime="20191114 02:04:53.548"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:53.550" starttime="20191114 02:04:53.549"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:53.554" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:54.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:54.054" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:54.055" starttime="20191114 02:04:53.552"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:54.057" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:54.057" starttime="20191114 02:04:54.055"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:54.058" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:54.058" starttime="20191114 02:04:54.057"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:54.059" starttime="20191114 02:04:53.552"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:54.063" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:54.580" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:54.580" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:54.580" starttime="20191114 02:04:54.060"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:54.582" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:54.582" starttime="20191114 02:04:54.581"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:54.583" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:54.584" starttime="20191114 02:04:54.583"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:54.584" starttime="20191114 02:04:54.059"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:54.588" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:55.063" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:55.063" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:55.063" starttime="20191114 02:04:54.586"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:55.065" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:55.065" starttime="20191114 02:04:55.064"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:55.067" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:55.067" starttime="20191114 02:04:55.065"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:55.068" starttime="20191114 02:04:54.585"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:55.071" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:55.579" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:55.580" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:04:55.580" starttime="20191114 02:04:55.069"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:55.582" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:04:55.582" starttime="20191114 02:04:55.581"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:04:55.583" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:55.584" starttime="20191114 02:04:55.582"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:55.584" starttime="20191114 02:04:55.068"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:55.585" starttime="20191114 02:04:53.551"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:55.585" starttime="20191114 02:04:53.550"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:55.585" starttime="20191114 02:04:53.548"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:55.585" starttime="20191114 02:04:53.547"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:55.587" starttime="20191114 02:04:55.586"></status>
</kw>
<status status="PASS" endtime="20191114 02:04:55.587" starttime="20191114 02:04:52.545"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=10000-10000 /tmp/testfile2.result</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:55.594" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-01163 --key putobject/f1 --range bytes=10000-10000 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:59.592" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:04:59.592" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:59.592" starttime="20191114 02:04:55.591"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:04:59.594" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:59.594" starttime="20191114 02:04:59.593"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 02:04:59.595" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:04:59.595" starttime="20191114 02:04:59.594"></status>
</kw>
<msg timestamp="20191114 02:04:59.596" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:59.596" starttime="20191114 02:04:55.589"></status>
</kw>
<msg timestamp="20191114 02:04:59.596" level="INFO">${result} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:04:59.596" starttime="20191114 02:04:55.588"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>InvalidRange</arg>
</arguments>
<msg timestamp="20191114 02:04:59.598" level="FAIL">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</msg>
<status status="FAIL" endtime="20191114 02:04:59.598" starttime="20191114 02:04:59.596"></status>
</kw>
<status status="FAIL" endtime="20191114 02:04:59.598" critical="yes" starttime="20191114 02:04:52.543">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</status>
</test>
<test id="s1-s9-t5" name="Get Partial object from s3 with both start and endoffset(end offset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:59.604" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:59.610" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:04:59.610" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:04:59.610" starttime="20191114 02:04:59.602"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:04:59.612" starttime="20191114 02:04:59.611"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:59.614" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:04:59.781" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:04:59.782" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:04:59.782" starttime="20191114 02:04:59.612"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:04:59.787" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:00.549" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:00.550" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:05:00.550" starttime="20191114 02:04:59.785"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:00.552" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:05:00.552" starttime="20191114 02:05:00.551"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:00.553" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:00.553" starttime="20191114 02:05:00.552"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:00.554" starttime="20191114 02:04:59.784"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:00.554" starttime="20191114 02:04:59.784"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:00.554" starttime="20191114 02:04:59.782"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:00.555" starttime="20191114 02:04:59.602"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:00.555" starttime="20191114 02:04:59.601"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:00.558" starttime="20191114 02:05:00.557"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:00.559" starttime="20191114 02:05:00.559"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:00.566" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:00.962" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:00.963" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:00.963" starttime="20191114 02:05:00.563"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:00.965" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:00.965" starttime="20191114 02:05:00.964"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:00.966" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:00.966" starttime="20191114 02:05:00.965"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:00.967" starttime="20191114 02:05:00.561"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:00.971" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:01.522" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:01.522" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:01.522" starttime="20191114 02:05:00.968"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:01.524" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:01.524" starttime="20191114 02:05:01.523"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:01.526" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:01.526" starttime="20191114 02:05:01.525"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:01.527" starttime="20191114 02:05:00.967"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:01.532" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:01.973" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:01.973" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:01.973" starttime="20191114 02:05:01.529"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:01.975" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:01.975" starttime="20191114 02:05:01.974"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:01.976" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:01.977" starttime="20191114 02:05:01.976"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:01.977" starttime="20191114 02:05:01.527"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:01.981" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:02.471" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:02.472" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:02.472" starttime="20191114 02:05:01.978"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:02.474" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:02.474" starttime="20191114 02:05:02.473"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:02.475" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:02.475" starttime="20191114 02:05:02.474"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:02.476" starttime="20191114 02:05:01.977"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:02.476" starttime="20191114 02:05:00.561"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:02.476" starttime="20191114 02:05:00.560"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:02.476" starttime="20191114 02:05:00.557"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:02.477" starttime="20191114 02:05:00.555"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:02.478" starttime="20191114 02:05:02.477"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:02.478" starttime="20191114 02:04:59.601"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-10000 /tmp/testfile2.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:02.484" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-01163 --key putobject/f1 --range bytes=0-10000 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:07.436" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:05:07.436" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:07.436" starttime="20191114 02:05:02.481"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:07.438" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:07.438" starttime="20191114 02:05:07.437"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:07.439" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:05:07.440" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:05:07.440" starttime="20191114 02:05:07.438"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:07.440" starttime="20191114 02:05:02.480"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:07.441" starttime="20191114 02:05:02.479"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:07.441" critical="yes" starttime="20191114 02:04:59.599">255 != 0</status>
</test>
<test id="s1-s9-t6" name="Get Partial object from s3 with only start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:07.448" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:07.455" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:05:07.455" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:05:07.455" starttime="20191114 02:05:07.445"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:07.457" starttime="20191114 02:05:07.456"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:07.460" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:07.678" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:07.678" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:05:07.678" starttime="20191114 02:05:07.458"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:07.686" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:08.422" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:08.422" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:05:08.422" starttime="20191114 02:05:07.684"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:08.424" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:05:08.425" starttime="20191114 02:05:08.423"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:08.426" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:08.426" starttime="20191114 02:05:08.425"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:08.427" starttime="20191114 02:05:07.682"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:08.427" starttime="20191114 02:05:07.681"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:08.427" starttime="20191114 02:05:07.679"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:08.428" starttime="20191114 02:05:07.445"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:08.428" starttime="20191114 02:05:07.444"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:08.431" starttime="20191114 02:05:08.430"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:08.432" starttime="20191114 02:05:08.431"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:08.437" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:08.916" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:08.916" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:08.916" starttime="20191114 02:05:08.435"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:08.918" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:08.919" starttime="20191114 02:05:08.917"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:08.920" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:08.920" starttime="20191114 02:05:08.919"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:08.921" starttime="20191114 02:05:08.434"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:08.925" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:09.458" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:09.458" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:09.458" starttime="20191114 02:05:08.922"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:09.460" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:09.461" starttime="20191114 02:05:09.459"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:09.462" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:09.462" starttime="20191114 02:05:09.461"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:09.463" starttime="20191114 02:05:08.921"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:09.467" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:09.988" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:09.988" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:09.988" starttime="20191114 02:05:09.464"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:09.990" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:09.990" starttime="20191114 02:05:09.989"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:09.991" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:09.992" starttime="20191114 02:05:09.991"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:09.992" starttime="20191114 02:05:09.463"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:09.996" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:10.530" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:10.530" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:10.530" starttime="20191114 02:05:09.994"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:10.533" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:10.533" starttime="20191114 02:05:10.531"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:10.534" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:10.534" starttime="20191114 02:05:10.533"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:10.535" starttime="20191114 02:05:09.993"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:10.535" starttime="20191114 02:05:08.433"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:10.535" starttime="20191114 02:05:08.432"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:10.536" starttime="20191114 02:05:08.429"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:10.536" starttime="20191114 02:05:08.428"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:10.537" starttime="20191114 02:05:10.537"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:10.538" starttime="20191114 02:05:07.443"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0- /tmp/testfile3.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:10.544" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-01163 --key putobject/f1 --range bytes=0- /tmp/testfile3.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:13.778" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:05:13.778" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:13.778" starttime="20191114 02:05:10.541"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:13.780" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:13.781" starttime="20191114 02:05:13.779"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:13.782" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:05:13.782" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:05:13.782" starttime="20191114 02:05:13.781"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:13.783" starttime="20191114 02:05:10.540"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:13.783" starttime="20191114 02:05:10.538"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:13.784" critical="yes" starttime="20191114 02:05:07.442">255 != 0</status>
</test>
<test id="s1-s9-t7" name="Get Partial object from s3 with both start and endoffset which are equal">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:13.790" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:13.797" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:05:13.798" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:05:13.798" starttime="20191114 02:05:13.788"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:13.800" starttime="20191114 02:05:13.799"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:13.802" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:13.999" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:13.999" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:05:13.999" starttime="20191114 02:05:13.800"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:14.006" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:14.694" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:14.694" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: centos.sonn.com
 * updates: mirror.keystealth.org
Package awsc...</msg>
<status status="PASS" endtime="20191114 02:05:14.694" starttime="20191114 02:05:14.004"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:14.696" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: centos.sonn.com
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:05:14.696" starttime="20191114 02:05:14.695"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:14.696" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:14.697" starttime="20191114 02:05:14.696"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:14.697" starttime="20191114 02:05:14.003"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:14.697" starttime="20191114 02:05:14.002"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:14.697" starttime="20191114 02:05:14.000"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:14.698" starttime="20191114 02:05:13.788"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:14.698" starttime="20191114 02:05:13.786"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:14.700" starttime="20191114 02:05:14.699"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:14.701" starttime="20191114 02:05:14.700"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:14.704" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:15.184" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:15.185" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:15.185" starttime="20191114 02:05:14.702"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:15.186" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:15.187" starttime="20191114 02:05:15.186"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:15.188" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:15.188" starttime="20191114 02:05:15.187"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:15.188" starttime="20191114 02:05:14.702"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:15.192" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:15.707" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:15.707" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:15.708" starttime="20191114 02:05:15.190"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:15.709" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:15.709" starttime="20191114 02:05:15.708"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:15.710" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:15.710" starttime="20191114 02:05:15.709"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:15.710" starttime="20191114 02:05:15.189"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:15.713" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:16.182" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:16.183" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:16.183" starttime="20191114 02:05:15.711"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:16.185" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:16.185" starttime="20191114 02:05:16.184"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:16.187" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:16.187" starttime="20191114 02:05:16.185"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:16.188" starttime="20191114 02:05:15.711"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:16.192" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:16.626" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:16.626" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:16.626" starttime="20191114 02:05:16.189"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:16.628" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:16.628" starttime="20191114 02:05:16.627"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:16.629" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:16.629" starttime="20191114 02:05:16.628"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:16.630" starttime="20191114 02:05:16.188"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:16.630" starttime="20191114 02:05:14.701"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:16.630" starttime="20191114 02:05:14.701"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:16.630" starttime="20191114 02:05:14.699"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:16.630" starttime="20191114 02:05:14.698"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:16.632" starttime="20191114 02:05:16.631"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:16.632" starttime="20191114 02:05:13.786"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-0 /tmp/testfile4.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:16.637" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-01163 --key putobject/f1 --range bytes=0-0 /tmp/testfile4.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:27.918" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:05:27.918" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:27.919" starttime="20191114 02:05:16.635"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:27.921" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:27.921" starttime="20191114 02:05:27.920"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:27.922" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:05:27.923" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:05:27.923" starttime="20191114 02:05:27.921"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:27.923" starttime="20191114 02:05:16.634"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:27.924" starttime="20191114 02:05:16.632"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:27.925" critical="yes" starttime="20191114 02:05:13.784">255 != 0</status>
</test>
<test id="s1-s9-t8" name="Get Partial object from s3 to get last n bytes">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:27.932" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:27.938" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:05:27.939" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:05:27.939" starttime="20191114 02:05:27.929"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:27.941" starttime="20191114 02:05:27.940"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:27.943" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:28.143" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:28.143" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:05:28.143" starttime="20191114 02:05:27.941"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:28.147" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:28.848" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:28.848" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 02:05:28.848" starttime="20191114 02:05:28.146"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:28.850" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:05:28.850" starttime="20191114 02:05:28.849"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:28.851" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:28.851" starttime="20191114 02:05:28.850"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:28.852" starttime="20191114 02:05:28.145"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:28.852" starttime="20191114 02:05:28.145"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:28.852" starttime="20191114 02:05:28.144"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:28.853" starttime="20191114 02:05:27.928"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:28.853" starttime="20191114 02:05:27.928"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:28.856" starttime="20191114 02:05:28.855"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:28.857" starttime="20191114 02:05:28.856"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:28.862" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:29.368" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:29.369" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:29.369" starttime="20191114 02:05:28.860"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:29.370" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:29.371" starttime="20191114 02:05:29.370"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:29.372" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:29.372" starttime="20191114 02:05:29.371"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:29.372" starttime="20191114 02:05:28.859"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:29.376" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:29.905" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:29.905" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:29.905" starttime="20191114 02:05:29.373"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:29.906" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:29.906" starttime="20191114 02:05:29.906"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:29.907" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:29.907" starttime="20191114 02:05:29.907"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:29.907" starttime="20191114 02:05:29.373"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:29.910" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:30.383" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:30.383" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:30.383" starttime="20191114 02:05:29.908"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:30.385" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:30.385" starttime="20191114 02:05:30.384"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:30.387" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:30.387" starttime="20191114 02:05:30.386"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:30.387" starttime="20191114 02:05:29.908"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:30.392" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:30.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:30.908" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:30.909" starttime="20191114 02:05:30.389"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:30.910" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:30.911" starttime="20191114 02:05:30.909"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:30.912" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:30.912" starttime="20191114 02:05:30.911"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:30.913" starttime="20191114 02:05:30.388"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:30.913" starttime="20191114 02:05:28.858"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:30.913" starttime="20191114 02:05:28.857"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:30.914" starttime="20191114 02:05:28.854"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:30.914" starttime="20191114 02:05:28.853"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:30.915" starttime="20191114 02:05:30.914"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:30.915" starttime="20191114 02:05:27.927"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=-4 /tmp/testfile6.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:30.921" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-01163 --key putobject/f1 --range bytes=-4 /tmp/testfile6.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:34.377" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:05:34.377" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:34.377" starttime="20191114 02:05:30.919"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:34.379" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:34.379" starttime="20191114 02:05:34.378"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:34.379" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:05:34.380" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:05:34.380" starttime="20191114 02:05:34.379"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:34.380" starttime="20191114 02:05:30.917"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:34.380" starttime="20191114 02:05:30.916"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:34.381" critical="yes" starttime="20191114 02:05:27.925">255 != 0</status>
</test>
<test id="s1-s9-t9" name="Incorrect values for end and start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:34.385" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:34.390" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:05:34.390" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:05:34.390" starttime="20191114 02:05:34.384"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:34.392" starttime="20191114 02:05:34.391"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:34.393" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:34.580" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:34.580" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:05:34.580" starttime="20191114 02:05:34.392"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:34.589" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:35.374" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:35.374" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:05:35.374" starttime="20191114 02:05:34.585"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:35.376" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:05:35.376" starttime="20191114 02:05:35.375"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:35.377" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:35.377" starttime="20191114 02:05:35.376"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:35.378" starttime="20191114 02:05:34.584"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:35.378" starttime="20191114 02:05:34.583"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:35.378" starttime="20191114 02:05:34.581"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:35.378" starttime="20191114 02:05:34.383"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:35.379" starttime="20191114 02:05:34.383"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:35.381" starttime="20191114 02:05:35.380"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:35.382" starttime="20191114 02:05:35.381"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:35.386" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:35.897" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:35.898" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:35.898" starttime="20191114 02:05:35.384"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:35.899" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:35.899" starttime="20191114 02:05:35.898"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:35.900" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:35.900" starttime="20191114 02:05:35.899"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:35.900" starttime="20191114 02:05:35.384"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:35.903" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:36.343" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:36.344" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:36.344" starttime="20191114 02:05:35.901"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:36.346" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:36.346" starttime="20191114 02:05:36.345"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:36.347" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:36.347" starttime="20191114 02:05:36.346"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:36.348" starttime="20191114 02:05:35.900"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:36.352" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:36.866" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:36.866" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:36.866" starttime="20191114 02:05:36.349"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:36.867" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:36.867" starttime="20191114 02:05:36.867"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:36.868" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:36.868" starttime="20191114 02:05:36.868"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:36.869" starttime="20191114 02:05:36.348"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:36.871" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:37.338" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:37.338" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:37.338" starttime="20191114 02:05:36.869"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:37.340" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:37.340" starttime="20191114 02:05:37.339"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:37.341" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:37.341" starttime="20191114 02:05:37.340"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:37.341" starttime="20191114 02:05:36.869"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:37.341" starttime="20191114 02:05:35.383"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:37.342" starttime="20191114 02:05:35.382"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:37.342" starttime="20191114 02:05:35.380"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:37.342" starttime="20191114 02:05:35.379"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:37.343" starttime="20191114 02:05:37.342"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:37.343" starttime="20191114 02:05:34.382"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=-11-10000 /tmp/testfile8.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:37.348" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-01163 --key putobject/f1 --range bytes=-11-10000 /tmp/testfile8.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:43.461" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:05:43.461" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:43.461" starttime="20191114 02:05:37.346"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:43.463" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:43.463" starttime="20191114 02:05:43.462"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:43.464" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:05:43.465" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:05:43.465" starttime="20191114 02:05:43.463"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:43.465" starttime="20191114 02:05:37.345"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:43.466" starttime="20191114 02:05:37.344"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:43.466" critical="yes" starttime="20191114 02:05:34.381">255 != 0</status>
</test>
<test id="s1-s9-t10" name="Zero byte file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:43.474" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:43.480" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:05:43.481" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:05:43.481" starttime="20191114 02:05:43.471"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:43.483" starttime="20191114 02:05:43.482"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:43.485" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:43.698" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:43.699" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:05:43.699" starttime="20191114 02:05:43.483"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:43.703" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:44.457" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:44.458" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:05:44.458" starttime="20191114 02:05:43.701"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:44.460" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:05:44.460" starttime="20191114 02:05:44.459"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:44.461" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:44.461" starttime="20191114 02:05:44.460"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:44.462" starttime="20191114 02:05:43.701"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:44.462" starttime="20191114 02:05:43.700"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:44.462" starttime="20191114 02:05:43.699"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:44.462" starttime="20191114 02:05:43.471"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:44.463" starttime="20191114 02:05:43.469"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:44.466" starttime="20191114 02:05:44.465"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:44.467" starttime="20191114 02:05:44.466"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:44.472" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:44.944" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:44.944" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:44.944" starttime="20191114 02:05:44.470"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:44.946" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:44.946" starttime="20191114 02:05:44.945"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:44.947" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:44.947" starttime="20191114 02:05:44.947"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:44.948" starttime="20191114 02:05:44.469"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:44.951" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:45.419" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:45.419" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:45.419" starttime="20191114 02:05:44.949"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:45.421" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:45.421" starttime="20191114 02:05:45.420"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:45.422" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:45.423" starttime="20191114 02:05:45.422"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:45.423" starttime="20191114 02:05:44.948"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:45.427" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:45.924" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:45.925" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:45.925" starttime="20191114 02:05:45.424"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:45.926" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:45.926" starttime="20191114 02:05:45.925"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:45.927" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:45.928" starttime="20191114 02:05:45.926"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:45.928" starttime="20191114 02:05:45.424"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:45.931" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:46.373" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:46.374" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:46.374" starttime="20191114 02:05:45.929"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:46.376" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:46.376" starttime="20191114 02:05:46.375"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:46.377" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:46.377" starttime="20191114 02:05:46.376"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:46.378" starttime="20191114 02:05:45.928"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:46.378" starttime="20191114 02:05:44.468"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:46.378" starttime="20191114 02:05:44.467"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:46.378" starttime="20191114 02:05:44.464"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:46.379" starttime="20191114 02:05:44.463"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:46.380" starttime="20191114 02:05:46.379"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:46.380" starttime="20191114 02:05:43.468"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/zerobyte --range bytes=0-0 /tmp/testfile2.result</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:46.386" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-01163 --key putobject/zerobyte --range bytes=0-0 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:50.822" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:05:50.822" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:50.822" starttime="20191114 02:05:46.383"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:50.824" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:50.825" starttime="20191114 02:05:50.823"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 02:05:50.826" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:50.826" starttime="20191114 02:05:50.825"></status>
</kw>
<msg timestamp="20191114 02:05:50.827" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:50.827" starttime="20191114 02:05:46.382"></status>
</kw>
<msg timestamp="20191114 02:05:50.828" level="INFO">${result} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:05:50.828" starttime="20191114 02:05:46.381"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>InvalidRange</arg>
</arguments>
<msg timestamp="20191114 02:05:50.829" level="FAIL">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</msg>
<status status="FAIL" endtime="20191114 02:05:50.829" starttime="20191114 02:05:50.828"></status>
</kw>
<status status="FAIL" endtime="20191114 02:05:50.830" critical="yes" starttime="20191114 02:05:43.467">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 02:05:50.834" starttime="20191114 02:04:13.764"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/webui.robot" id="s1-s10" name="Webui">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:50.862" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:50.869" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 02:05:50.869" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 02:05:50.869" starttime="20191114 02:05:50.860"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:50.871" starttime="20191114 02:05:50.870"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:50.874" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:51.062" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:51.062" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/__db.001'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 02:05:51.062" starttime="20191114 02:05:50.872"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:51.068" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:51.801" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:51.801" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 02:05:51.801" starttime="20191114 02:05:51.066"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:51.803" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 02:05:51.803" starttime="20191114 02:05:51.802"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:51.804" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:51.804" starttime="20191114 02:05:51.803"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:51.804" starttime="20191114 02:05:51.065"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:51.805" starttime="20191114 02:05:51.065"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:51.805" starttime="20191114 02:05:51.063"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:51.805" starttime="20191114 02:05:50.859"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:51.805" starttime="20191114 02:05:50.859"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:51.808" starttime="20191114 02:05:51.807"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 02:05:51.809" starttime="20191114 02:05:51.808"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:51.812" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:52.260" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:52.261" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:52.261" starttime="20191114 02:05:51.811"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:52.263" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:52.263" starttime="20191114 02:05:52.262"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:52.264" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:52.264" starttime="20191114 02:05:52.263"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:52.265" starttime="20191114 02:05:51.810"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:52.268" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:52.759" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:52.760" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:52.760" starttime="20191114 02:05:52.266"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:52.762" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:52.762" starttime="20191114 02:05:52.761"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:52.763" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:52.763" starttime="20191114 02:05:52.762"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:52.764" starttime="20191114 02:05:52.265"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:52.768" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:53.250" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:53.250" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:53.250" starttime="20191114 02:05:52.765"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:53.251" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:53.252" starttime="20191114 02:05:53.251"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:53.252" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:53.253" starttime="20191114 02:05:53.252"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:53.253" starttime="20191114 02:05:52.764"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:53.256" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:05:53.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 02:05:53.712" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 02:05:53.712" starttime="20191114 02:05:53.254"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:05:53.714" level="INFO"></msg>
<status status="PASS" endtime="20191114 02:05:53.714" starttime="20191114 02:05:53.712"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:05:53.715" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 02:05:53.715" starttime="20191114 02:05:53.715"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:53.715" starttime="20191114 02:05:53.253"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:53.716" starttime="20191114 02:05:51.810"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:53.716" starttime="20191114 02:05:51.809"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:53.716" starttime="20191114 02:05:51.806"></status>
</kw>
<status status="PASS" endtime="20191114 02:05:53.716" starttime="20191114 02:05:51.806"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 02:05:53.718" level="INFO">${postfix} = 31320</msg>
<status status="PASS" endtime="20191114 02:05:53.718" starttime="20191114 02:05:53.717"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 02:05:53.719" level="INFO">${BUCKET} = bucket-31320</msg>
<status status="PASS" endtime="20191114 02:05:53.719" starttime="20191114 02:05:53.718"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 02:05:53.722" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-31320 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 02:06:06.622" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 02:06:06.622" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:06:06.622" starttime="20191114 02:05:53.720"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 02:06:06.624" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 02:06:06.624" starttime="20191114 02:06:06.623"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 02:06:06.625" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 02:06:06.626" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 02:06:06.626" starttime="20191114 02:06:06.624"></status>
</kw>
<status status="FAIL" endtime="20191114 02:06:06.626" starttime="20191114 02:05:53.719"></status>
</kw>
<status status="FAIL" endtime="20191114 02:06:06.627" starttime="20191114 02:05:53.719"></status>
</kw>
<status status="FAIL" endtime="20191114 02:06:06.627" starttime="20191114 02:05:53.717"></status>
</kw>
<status status="FAIL" endtime="20191114 02:06:06.627" starttime="20191114 02:05:53.716"></status>
</kw>
<status status="FAIL" endtime="20191114 02:06:06.628" starttime="20191114 02:05:50.858"></status>
</kw>
<test id="s1-s10-t1" name="S3 Gateway Web UI">
<status status="FAIL" endtime="20191114 02:06:06.629" critical="yes" starttime="20191114 02:06:06.628">Parent suite setup failed:
255 != 0</status>
</test>
<doc>S3 gateway web ui test</doc>
<status status="FAIL" endtime="20191114 02:06:06.630" starttime="20191114 02:05:50.844">Suite setup failed:
255 != 0</status>
</suite>
<status status="FAIL" endtime="20191114 02:06:06.641" starttime="20191114 01:58:50.686"></status>
</suite>
<statistics>
<total>
<stat fail="36" pass="1">Critical Tests</stat>
<stat fail="36" pass="1">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="36" id="s1" name="ozones3-s3" pass="1">ozones3-s3</stat>
<stat fail="1" id="s1-s1" name="Awss3" pass="0">ozones3-s3.Awss3</stat>
<stat fail="1" id="s1-s2" name="Bucketcreate" pass="0">ozones3-s3.Bucketcreate</stat>
<stat fail="1" id="s1-s3" name="Buckethead" pass="0">ozones3-s3.Buckethead</stat>
<stat fail="1" id="s1-s4" name="Bucketlist" pass="0">ozones3-s3.Bucketlist</stat>
<stat fail="11" id="s1-s5" name="MultipartUpload" pass="1">ozones3-s3.MultipartUpload</stat>
<stat fail="4" id="s1-s6" name="Objectcopy" pass="0">ozones3-s3.Objectcopy</stat>
<stat fail="5" id="s1-s7" name="Objectdelete" pass="0">ozones3-s3.Objectdelete</stat>
<stat fail="1" id="s1-s8" name="Objectmultidelete" pass="0">ozones3-s3.Objectmultidelete</stat>
<stat fail="10" id="s1-s9" name="Objectputget" pass="0">ozones3-s3.Objectputget</stat>
<stat fail="1" id="s1-s10" name="Webui" pass="0">ozones3-s3.Webui</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
