<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20191114 01:21:19.736" generator="Robot 3.1.2 (Python 2.7.5 on linux2)">
<suite source="/opt/hadoop/smoketest/s3" id="s1" name="ozones3-s3">
<suite source="/opt/hadoop/smoketest/s3/awss3.robot" id="s1-s1" name="Awss3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:21:19.820" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:21:19.979" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:21:19.979" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:21:19.979" starttime="20191114 01:21:19.818"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:21:19.980" starttime="20191114 01:21:19.979"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:21:19.982" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:21:21.549" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:21:21.549" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:21:21.549" starttime="20191114 01:21:19.980"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:21:21.555" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:30.138" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:30.138" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
...</msg>
<status status="PASS" endtime="20191114 01:25:30.138" starttime="20191114 01:21:21.553"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:30.140" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package awscli.noarch 0:1.14.28-5.el7_5.1 will be installed
--&gt; Processing Dependency: python-s3transfer &gt;= 0.1.9 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-docutils &gt;= 0.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-cryptography &gt;= 1.7.2 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: PyYAML &gt;= 3.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Running transaction check
---&gt; Package PyYAML.x86_64 0:3.10-11.el7 will be installed
--&gt; Processing Dependency: libyaml-0.so.2()(64bit) for package: PyYAML-3.10-11.el7.x86_64
---&gt; Package python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7 will be installed
--&gt; Processing Dependency: python-imaging for package: python-docutils-0.11-0.3.20130715svn7687.el7.noarch
---&gt; Package python-s3transfer.noarch 0:0.1.13-1.el7.0.1 will be installed
--&gt; Processing Dependency: python-dateutil &gt;= 1.4 for package: python-s3transfer-0.1.13-1.el7.0.1.noarch
---&gt; Package python2-cryptography.x86_64 0:1.7.2-2.el7 will be installed
--&gt; Processing Dependency: python-six &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-pyasn1 &gt;= 0.1.8 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-idna &gt;= 2.0 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-cffi &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-enum34 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: openssl for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Running transaction check
---&gt; Package libyaml.x86_64 0:0.1.4-11.el7_0 will be installed
---&gt; Package openssl.x86_64 1:1.0.2k-19.el7 will be installed
--&gt; Processing Dependency: openssl-libs(x86-64) = 1:1.0.2k-19.el7 for package: 1:openssl-1.0.2k-19.el7.x86_64
--&gt; Processing Dependency: make for package: 1:openssl-1.0.2k-19.el7.x86_64
---&gt; Package python-cffi.x86_64 0:1.6.0-5.el7 will be installed
--&gt; Processing Dependency: python-pycparser for package: python-cffi-1.6.0-5.el7.x86_64
---&gt; Package python-dateutil.noarch 0:1.5-7.el7 will be installed
---&gt; Package python-enum34.noarch 0:1.0.4-1.el7 will be installed
---&gt; Package python-idna.noarch 0:2.4-1.el7 will be installed
---&gt; Package python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7 will be installed
--&gt; Processing Dependency: libtiff.so.5(LIBTIFF_4.0)(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libwebp.so.4()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libtiff.so.5()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
---&gt; Package python-six.noarch 0:1.9.0-2.el7 will be installed
---&gt; Package python2-pyasn1.noarch 0:0.1.9-7.el7 will be installed
--&gt; Running transaction check
---&gt; Package libtiff.x86_64 0:4.0.3-32.el7 will be installed
--&gt; Processing Dependency: libjbig.so.2.0()(64bit) for package: libtiff-4.0.3-32.el7.x86_64
---&gt; Package libwebp.x86_64 0:0.3.0-7.el7 will be installed
---&gt; Package make.x86_64 1:3.82-24.el7 will be installed
---&gt; Package openssl-libs.x86_64 1:1.0.2k-16.el7 will be updated
---&gt; Package openssl-libs.x86_64 1:1.0.2k-19.el7 will be an update
---&gt; Package python-pycparser.noarch 0:2.14-1.el7 will be installed
--&gt; Processing Dependency: python-ply for package: python-pycparser-2.14-1.el7.noarch
--&gt; Running transaction check
---&gt; Package jbigkit-libs.x86_64 0:2.0-11.el7 will be installed
---&gt; Package python-ply.noarch 0:3.4-11.el7 will be installed
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                Arch     Version                           Repository
                                                                           Size
================================================================================
Installing:
 awscli                 noarch   1.14.28-5.el7_5.1                 base   1.0 M
Installing for dependencies:
 PyYAML                 x86_64   3.10-11.el7                       base   153 k
 jbigkit-libs           x86_64   2.0-11.el7                        base    46 k
 libtiff                x86_64   4.0.3-32.el7                      base   171 k
 libwebp                x86_64   0.3.0-7.el7                       base   170 k
 libyaml                x86_64   0.1.4-11.el7_0                    base    55 k
 make                   x86_64   1:3.82-24.el7                     base   421 k
 openssl                x86_64   1:1.0.2k-19.el7                   base   493 k
 python-cffi            x86_64   1.6.0-5.el7                       base   218 k
 python-dateutil        noarch   1.5-7.el7                         base    85 k
 python-docutils        noarch   0.11-0.3.20130715svn7687.el7      base   1.5 M
 python-enum34          noarch   1.0.4-1.el7                       base    52 k
 python-idna            noarch   2.4-1.el7                         base    94 k
 python-pillow          x86_64   2.0.0-19.gitd1c6db8.el7           base   438 k
 python-ply             noarch   3.4-11.el7                        base   123 k
 python-pycparser       noarch   2.14-1.el7                        base   104 k
 python-s3transfer      noarch   0.1.13-1.el7.0.1                  base   2.9 M
 python-six             noarch   1.9.0-2.el7                       base    29 k
 python2-cryptography   x86_64   1.7.2-2.el7                       base   502 k
 python2-pyasn1         noarch   0.1.9-7.el7                       base   100 k
Updating for dependencies:
 openssl-libs           x86_64   1:1.0.2k-19.el7                   base   1.2 M

Transaction Summary
================================================================================
Install  1 Package  (+19 Dependent packages)
Upgrade             (  1 Dependent package)

Total download size: 9.9 M
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
--------------------------------------------------------------------------------
Total                                               29 MB/s | 9.9 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : 1:openssl-libs-1.0.2k-19.el7.x86_64                         1/22 
  Installing : python2-pyasn1-0.1.9-7.el7.noarch                           2/22 
  Installing : libyaml-0.1.4-11.el7_0.x86_64                               3/22 
  Installing : PyYAML-3.10-11.el7.x86_64                                   4/22 
  Installing : jbigkit-libs-2.0-11.el7.x86_64                              5/22 
  Installing : libtiff-4.0.3-32.el7.x86_64                                 6/22 
  Installing : python-ply-3.4-11.el7.noarch                                7/22 
  Installing : python-pycparser-2.14-1.el7.noarch                          8/22 
  Installing : python-cffi-1.6.0-5.el7.x86_64                              9/22 
  Installing : python-idna-2.4-1.el7.noarch                               10/22 
  Installing : python-six-1.9.0-2.el7.noarch                              11/22 
  Installing : 1:make-3.82-24.el7.x86_64                                  12/22 
  Installing : 1:openssl-1.0.2k-19.el7.x86_64                             13/22 
  Installing : python-dateutil-1.5-7.el7.noarch                           14/22 
  Installing : python-enum34-1.0.4-1.el7.noarch                           15/22 
  Installing : python2-cryptography-1.7.2-2.el7.x86_64                    16/22 
  Installing : libwebp-0.3.0-7.el7.x86_64                                 17/22 
  Installing : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               18/22 
  Installing : python-docutils-0.11-0.3.20130715svn7687.el7.noarch        19/22 
  Installing : python-s3transfer-0.1.13-1.el7.0.1.noarch                  20/22 
  Installing : awscli-1.14.28-5.el7_5.1.noarch                            21/22 
  Cleanup    : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 
  Verifying  : libwebp-0.3.0-7.el7.x86_64                                  1/22 
  Verifying  : python-enum34-1.0.4-1.el7.noarch                            2/22 
  Verifying  : python-docutils-0.11-0.3.20130715svn7687.el7.noarch         3/22 
  Verifying  : 1:openssl-libs-1.0.2k-19.el7.x86_64                         4/22 
  Verifying  : python-dateutil-1.5-7.el7.noarch                            5/22 
  Verifying  : 1:make-3.82-24.el7.x86_64                                   6/22 
  Verifying  : python-six-1.9.0-2.el7.noarch                               7/22 
  Verifying  : python-s3transfer-0.1.13-1.el7.0.1.noarch                   8/22 
  Verifying  : python-idna-2.4-1.el7.noarch                                9/22 
  Verifying  : python-ply-3.4-11.el7.noarch                               10/22 
  Verifying  : 1:openssl-1.0.2k-19.el7.x86_64                             11/22 
  Verifying  : python-cffi-1.6.0-5.el7.x86_64                             12/22 
  Verifying  : awscli-1.14.28-5.el7_5.1.noarch                            13/22 
  Verifying  : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               14/22 
  Verifying  : jbigkit-libs-2.0-11.el7.x86_64                             15/22 
  Verifying  : python-pycparser-2.14-1.el7.noarch                         16/22 
  Verifying  : libyaml-0.1.4-11.el7_0.x86_64                              17/22 
  Verifying  : libtiff-4.0.3-32.el7.x86_64                                18/22 
  Verifying  : python2-pyasn1-0.1.9-7.el7.noarch                          19/22 
  Verifying  : PyYAML-3.10-11.el7.x86_64                                  20/22 
  Verifying  : python2-cryptography-1.7.2-2.el7.x86_64                    21/22 
  Verifying  : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 

Installed:
  awscli.noarch 0:1.14.28-5.el7_5.1                                             

Dependency Installed:
  PyYAML.x86_64 0:3.10-11.el7                                                   
  jbigkit-libs.x86_64 0:2.0-11.el7                                              
  libtiff.x86_64 0:4.0.3-32.el7                                                 
  libwebp.x86_64 0:0.3.0-7.el7                                                  
  libyaml.x86_64 0:0.1.4-11.el7_0                                               
  make.x86_64 1:3.82-24.el7                                                     
  openssl.x86_64 1:1.0.2k-19.el7                                                
  python-cffi.x86_64 0:1.6.0-5.el7                                              
  python-dateutil.noarch 0:1.5-7.el7                                            
  python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7                         
  python-enum34.noarch 0:1.0.4-1.el7                                            
  python-idna.noarch 0:2.4-1.el7                                                
  python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7                                
  python-ply.noarch 0:3.4-11.el7                                                
  python-pycparser.noarch 0:2.14-1.el7                                          
  python-s3transfer.noarch 0:0.1.13-1.el7.0.1                                   
  python-six.noarch 0:1.9.0-2.el7                                               
  python2-cryptography.x86_64 0:1.7.2-2.el7                                     
  python2-pyasn1.noarch 0:0.1.9-7.el7                                           

Dependency Updated:
  openssl-libs.x86_64 1:1.0.2k-19.el7                                           

Complete!</msg>
<status status="PASS" endtime="20191114 01:25:30.141" starttime="20191114 01:25:30.139"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:30.141" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:30.142" starttime="20191114 01:25:30.141"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:30.142" starttime="20191114 01:21:21.552"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:30.142" starttime="20191114 01:21:21.552"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:30.143" starttime="20191114 01:21:21.550"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:30.143" starttime="20191114 01:21:19.818"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:30.143" starttime="20191114 01:21:19.818"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:25:30.146" starttime="20191114 01:25:30.145"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:25:30.147" starttime="20191114 01:25:30.146"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:30.151" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:32.095" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:32.095" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:25:32.095" starttime="20191114 01:25:30.149"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:32.097" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:25:32.097" starttime="20191114 01:25:32.096"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:32.098" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:32.098" starttime="20191114 01:25:32.097"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:32.099" starttime="20191114 01:25:30.149"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:32.102" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:32.593" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:32.594" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:25:32.594" starttime="20191114 01:25:32.100"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:32.596" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:25:32.596" starttime="20191114 01:25:32.595"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:32.597" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:32.597" starttime="20191114 01:25:32.596"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:32.598" starttime="20191114 01:25:32.099"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:32.602" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:33.123" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:33.123" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:25:33.123" starttime="20191114 01:25:32.599"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:33.125" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:25:33.125" starttime="20191114 01:25:33.124"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:33.126" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:33.126" starttime="20191114 01:25:33.125"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:33.127" starttime="20191114 01:25:32.598"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:33.130" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:33.610" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:33.610" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:25:33.610" starttime="20191114 01:25:33.128"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:33.612" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:25:33.612" starttime="20191114 01:25:33.611"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:33.614" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:33.614" starttime="20191114 01:25:33.613"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:33.614" starttime="20191114 01:25:33.127"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:33.615" starttime="20191114 01:25:30.148"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:33.615" starttime="20191114 01:25:30.147"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:33.615" starttime="20191114 01:25:30.144"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:33.615" starttime="20191114 01:25:30.143"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:25:33.618" level="INFO">${postfix} = 55418</msg>
<status status="PASS" endtime="20191114 01:25:33.618" starttime="20191114 01:25:33.617"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:25:33.620" level="INFO">${BUCKET} = bucket-55418</msg>
<status status="PASS" endtime="20191114 01:25:33.620" starttime="20191114 01:25:33.619"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:33.625" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-55418 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:39.353" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:25:39.353" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:25:39.353" starttime="20191114 01:25:33.622"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:39.354" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:25:39.355" starttime="20191114 01:25:39.354"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:39.355" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:25:39.356" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:25:39.356" starttime="20191114 01:25:39.355"></status>
</kw>
<status status="FAIL" endtime="20191114 01:25:39.356" starttime="20191114 01:25:33.621"></status>
</kw>
<status status="FAIL" endtime="20191114 01:25:39.356" starttime="20191114 01:25:33.620"></status>
</kw>
<status status="FAIL" endtime="20191114 01:25:39.357" starttime="20191114 01:25:33.617"></status>
</kw>
<status status="FAIL" endtime="20191114 01:25:39.357" starttime="20191114 01:25:33.616"></status>
</kw>
<status status="FAIL" endtime="20191114 01:25:39.357" starttime="20191114 01:21:19.817"></status>
</kw>
<test id="s1-s1-t1" name="File upload and directory list">
<status status="FAIL" endtime="20191114 01:25:39.358" critical="yes" starttime="20191114 01:25:39.357">Parent suite setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:25:39.359" starttime="20191114 01:21:19.809">Suite setup failed:
255 != 0</status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketcreate.robot" id="s1-s2" name="Bucketcreate">
<test id="s1-s2-t1" name="Create bucket which already exists">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:39.373" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:39.378" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:25:39.378" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:25:39.378" starttime="20191114 01:25:39.371"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:25:39.379" starttime="20191114 01:25:39.379"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:39.381" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:39.546" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:39.547" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:25:39.547" starttime="20191114 01:25:39.380"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:39.553" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:40.409" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:40.409" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keysteal...</msg>
<status status="PASS" endtime="20191114 01:25:40.410" starttime="20191114 01:25:39.550"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:40.412" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:25:40.412" starttime="20191114 01:25:40.411"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:40.413" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:40.413" starttime="20191114 01:25:40.412"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:40.414" starttime="20191114 01:25:39.550"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:40.414" starttime="20191114 01:25:39.549"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:40.414" starttime="20191114 01:25:39.548"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:40.415" starttime="20191114 01:25:39.370"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:40.415" starttime="20191114 01:25:39.370"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:25:40.418" starttime="20191114 01:25:40.417"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:25:40.419" starttime="20191114 01:25:40.418"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:40.424" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:46.075" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:46.075" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:25:46.075" starttime="20191114 01:25:40.422"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:46.077" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:25:46.077" starttime="20191114 01:25:46.076"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:46.078" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:46.079" starttime="20191114 01:25:46.078"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:46.079" starttime="20191114 01:25:40.421"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:46.083" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:46.481" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:46.481" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:25:46.481" starttime="20191114 01:25:46.081"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:46.482" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:25:46.482" starttime="20191114 01:25:46.481"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:46.483" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:46.483" starttime="20191114 01:25:46.483"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:46.483" starttime="20191114 01:25:46.080"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:46.486" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:51.062" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:51.062" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:25:51.062" starttime="20191114 01:25:46.484"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:51.064" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:25:51.064" starttime="20191114 01:25:51.063"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:51.064" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:51.065" starttime="20191114 01:25:51.064"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:51.065" starttime="20191114 01:25:46.484"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:51.068" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:25:52.656" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:25:52.656" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:25:52.656" starttime="20191114 01:25:51.066"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:25:52.658" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:25:52.658" starttime="20191114 01:25:52.657"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:25:52.659" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:25:52.660" starttime="20191114 01:25:52.659"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:52.660" starttime="20191114 01:25:51.065"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:52.660" starttime="20191114 01:25:40.420"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:52.661" starttime="20191114 01:25:40.419"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:52.661" starttime="20191114 01:25:40.416"></status>
</kw>
<status status="PASS" endtime="20191114 01:25:52.661" starttime="20191114 01:25:40.415"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:25:52.664" level="INFO">${postfix} = 26989</msg>
<status status="PASS" endtime="20191114 01:25:52.664" starttime="20191114 01:25:52.663"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:25:52.666" level="INFO">${BUCKET} = bucket-26989</msg>
<status status="PASS" endtime="20191114 01:25:52.666" starttime="20191114 01:25:52.665"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:25:52.670" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-26989 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:01.676" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:26:01.676" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:01.676" starttime="20191114 01:25:52.668"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:01.678" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:01.679" starttime="20191114 01:26:01.677"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:01.680" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:26:01.680" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:26:01.680" starttime="20191114 01:26:01.679"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:01.681" starttime="20191114 01:25:52.667"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:01.681" starttime="20191114 01:25:52.666"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:01.682" starttime="20191114 01:25:52.663"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:01.682" starttime="20191114 01:25:52.662"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:01.682" starttime="20191114 01:25:39.369"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:01.683" critical="yes" starttime="20191114 01:25:39.369">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:26:01.684" starttime="20191114 01:25:39.360"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/buckethead.robot" id="s1-s3" name="Buckethead">
<test id="s1-s3-t1" name="Head Bucket not existent">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:01.703" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:01.710" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:26:01.710" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:26:01.710" starttime="20191114 01:26:01.701"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:01.712" starttime="20191114 01:26:01.711"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:01.715" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:01.925" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:01.925" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:26:01.925" starttime="20191114 01:26:01.713"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:01.931" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:02.692" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:02.692" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:26:02.693" starttime="20191114 01:26:01.928"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:02.694" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:26:02.694" starttime="20191114 01:26:02.693"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:02.695" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:02.695" starttime="20191114 01:26:02.694"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:02.695" starttime="20191114 01:26:01.928"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:02.695" starttime="20191114 01:26:01.927"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:02.695" starttime="20191114 01:26:01.926"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:02.696" starttime="20191114 01:26:01.700"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:02.696" starttime="20191114 01:26:01.700"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:02.698" starttime="20191114 01:26:02.697"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:02.698" starttime="20191114 01:26:02.698"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:02.702" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:03.179" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:03.179" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:03.179" starttime="20191114 01:26:02.700"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:03.181" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:03.181" starttime="20191114 01:26:03.180"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:03.182" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:03.182" starttime="20191114 01:26:03.181"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:03.183" starttime="20191114 01:26:02.699"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:03.186" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:03.663" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:03.663" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:03.664" starttime="20191114 01:26:03.184"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:03.665" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:03.665" starttime="20191114 01:26:03.664"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:03.666" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:03.667" starttime="20191114 01:26:03.666"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:03.667" starttime="20191114 01:26:03.183"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:03.670" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:04.163" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:04.163" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:04.163" starttime="20191114 01:26:03.668"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:04.165" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:04.165" starttime="20191114 01:26:04.164"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:04.166" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:04.166" starttime="20191114 01:26:04.165"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:04.167" starttime="20191114 01:26:03.667"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:04.171" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:04.649" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:04.649" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:04.650" starttime="20191114 01:26:04.168"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:04.651" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:04.652" starttime="20191114 01:26:04.650"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:04.653" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:04.653" starttime="20191114 01:26:04.652"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:04.654" starttime="20191114 01:26:04.167"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:04.654" starttime="20191114 01:26:02.699"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:04.654" starttime="20191114 01:26:02.698"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:04.654" starttime="20191114 01:26:02.697"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:04.654" starttime="20191114 01:26:02.696"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:26:04.658" level="INFO">${postfix} = 57158</msg>
<status status="PASS" endtime="20191114 01:26:04.658" starttime="20191114 01:26:04.657"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:26:04.659" level="INFO">${BUCKET} = bucket-57158</msg>
<status status="PASS" endtime="20191114 01:26:04.659" starttime="20191114 01:26:04.658"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:04.664" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-57158 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:08.755" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:26:08.755" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:08.755" starttime="20191114 01:26:04.661"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:08.756" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:08.756" starttime="20191114 01:26:08.756"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:08.757" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:26:08.757" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:26:08.758" starttime="20191114 01:26:08.757"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:08.758" starttime="20191114 01:26:04.660"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:08.758" starttime="20191114 01:26:04.659"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:08.758" starttime="20191114 01:26:04.656"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:08.759" starttime="20191114 01:26:04.655"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:08.759" starttime="20191114 01:26:01.699"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:08.759" critical="yes" starttime="20191114 01:26:01.698">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:26:08.760" starttime="20191114 01:26:01.687"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketlist.robot" id="s1-s4" name="Bucketlist">
<test id="s1-s4-t1" name="List buckets">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:08.774" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:08.781" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:26:08.782" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:26:08.782" starttime="20191114 01:26:08.772"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:08.784" starttime="20191114 01:26:08.783"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:08.786" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:08.990" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:08.991" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:26:08.991" starttime="20191114 01:26:08.784"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:08.997" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:09.829" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:09.829" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
...</msg>
<status status="PASS" endtime="20191114 01:26:09.829" starttime="20191114 01:26:08.995"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:09.830" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:26:09.830" starttime="20191114 01:26:09.830"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:09.831" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:09.831" starttime="20191114 01:26:09.831"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:09.831" starttime="20191114 01:26:08.994"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:09.831" starttime="20191114 01:26:08.993"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:09.832" starttime="20191114 01:26:08.992"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:09.832" starttime="20191114 01:26:08.771"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:09.832" starttime="20191114 01:26:08.771"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:09.833" starttime="20191114 01:26:09.833"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:09.834" starttime="20191114 01:26:09.834"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:09.837" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:10.295" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:10.295" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:10.295" starttime="20191114 01:26:09.835"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:10.297" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:10.298" starttime="20191114 01:26:10.296"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:10.299" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:10.299" starttime="20191114 01:26:10.298"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:10.300" starttime="20191114 01:26:09.835"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:10.303" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:10.769" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:10.769" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:10.769" starttime="20191114 01:26:10.301"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:10.771" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:10.771" starttime="20191114 01:26:10.770"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:10.771" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:10.772" starttime="20191114 01:26:10.771"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:10.772" starttime="20191114 01:26:10.300"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:10.775" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:11.269" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:11.269" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:11.269" starttime="20191114 01:26:10.773"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:11.271" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:11.271" starttime="20191114 01:26:11.270"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:11.272" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:11.272" starttime="20191114 01:26:11.271"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:11.272" starttime="20191114 01:26:10.772"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:11.276" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:11.708" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:11.708" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:11.708" starttime="20191114 01:26:11.273"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:11.710" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:11.710" starttime="20191114 01:26:11.709"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:11.711" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:11.711" starttime="20191114 01:26:11.710"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:11.712" starttime="20191114 01:26:11.273"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:11.712" starttime="20191114 01:26:09.834"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:11.712" starttime="20191114 01:26:09.834"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:11.713" starttime="20191114 01:26:09.833"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:11.713" starttime="20191114 01:26:09.832"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:26:11.716" level="INFO">${postfix} = 10542</msg>
<status status="PASS" endtime="20191114 01:26:11.716" starttime="20191114 01:26:11.715"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:26:11.717" level="INFO">${BUCKET} = bucket-10542</msg>
<status status="PASS" endtime="20191114 01:26:11.717" starttime="20191114 01:26:11.716"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:11.722" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-10542 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:20.909" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:26:20.909" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:20.909" starttime="20191114 01:26:11.720"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:20.911" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:20.911" starttime="20191114 01:26:20.910"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:20.911" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:26:20.912" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:26:20.912" starttime="20191114 01:26:20.911"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:20.912" starttime="20191114 01:26:11.719"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:20.913" starttime="20191114 01:26:11.718"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:20.913" starttime="20191114 01:26:11.714"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:20.913" starttime="20191114 01:26:11.713"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:20.913" starttime="20191114 01:26:08.770"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:20.914" critical="yes" starttime="20191114 01:26:08.770">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:26:20.914" starttime="20191114 01:26:08.762"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/MultipartUpload.robot" id="s1-s5" name="MultipartUpload">
<test id="s1-s5-t1" name="Test Multipart Upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:20.930" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:20.936" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:26:20.936" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:26:20.937" starttime="20191114 01:26:20.928"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:20.938" starttime="20191114 01:26:20.937"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:20.940" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:21.145" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:21.145" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:26:21.145" starttime="20191114 01:26:20.938"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:21.150" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:21.878" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:21.878" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth....</msg>
<status status="PASS" endtime="20191114 01:26:21.878" starttime="20191114 01:26:21.148"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:21.880" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:26:21.880" starttime="20191114 01:26:21.879"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:21.880" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:21.880" starttime="20191114 01:26:21.880"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:21.881" starttime="20191114 01:26:21.148"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:21.881" starttime="20191114 01:26:21.147"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:21.881" starttime="20191114 01:26:21.146"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:21.881" starttime="20191114 01:26:20.926"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:21.881" starttime="20191114 01:26:20.926"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:21.883" starttime="20191114 01:26:21.883"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:21.884" starttime="20191114 01:26:21.883"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:21.887" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:22.325" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:22.325" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:22.326" starttime="20191114 01:26:21.885"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:22.327" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:22.328" starttime="20191114 01:26:22.326"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:22.329" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:22.329" starttime="20191114 01:26:22.328"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:22.329" starttime="20191114 01:26:21.885"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:22.333" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:22.747" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:22.747" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:22.747" starttime="20191114 01:26:22.331"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:22.749" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:22.749" starttime="20191114 01:26:22.748"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:22.750" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:22.751" starttime="20191114 01:26:22.750"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:22.751" starttime="20191114 01:26:22.330"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:22.755" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:23.205" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:23.205" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:23.206" starttime="20191114 01:26:22.752"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:23.207" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:23.207" starttime="20191114 01:26:23.206"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:24.711" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:24.711" starttime="20191114 01:26:24.710"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:24.712" starttime="20191114 01:26:22.751"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:24.716" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:25.241" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:25.241" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:25.241" starttime="20191114 01:26:24.713"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:25.243" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:25.243" starttime="20191114 01:26:25.242"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:25.244" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:25.244" starttime="20191114 01:26:25.244"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:25.245" starttime="20191114 01:26:24.712"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:25.245" starttime="20191114 01:26:21.884"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:25.245" starttime="20191114 01:26:21.884"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:25.246" starttime="20191114 01:26:21.882"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:25.246" starttime="20191114 01:26:21.882"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:26:25.249" level="INFO">${postfix} = 37933</msg>
<status status="PASS" endtime="20191114 01:26:25.249" starttime="20191114 01:26:25.248"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:26:25.250" level="INFO">${BUCKET} = bucket-37933</msg>
<status status="PASS" endtime="20191114 01:26:25.251" starttime="20191114 01:26:25.250"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:25.255" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-37933 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:32.980" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:26:32.980" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:32.980" starttime="20191114 01:26:25.253"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:32.982" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:32.982" starttime="20191114 01:26:32.981"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:32.983" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:26:32.983" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:26:32.984" starttime="20191114 01:26:32.982"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:32.984" starttime="20191114 01:26:25.252"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:32.984" starttime="20191114 01:26:25.251"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:32.985" starttime="20191114 01:26:25.247"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:32.985" starttime="20191114 01:26:25.246"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:32.985" starttime="20191114 01:26:20.925"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:32.986" critical="yes" starttime="20191114 01:26:20.925">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t2" name="Test Multipart Upload Complete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:32.993" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:32.998" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:26:32.999" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:26:32.999" starttime="20191114 01:26:32.990"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:33.001" starttime="20191114 01:26:33.000"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:33.003" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:33.176" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:33.176" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:26:33.176" starttime="20191114 01:26:33.001"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:33.182" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:33.907" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:33.907" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Pa...</msg>
<status status="PASS" endtime="20191114 01:26:33.908" starttime="20191114 01:26:33.180"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:33.909" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:26:33.910" starttime="20191114 01:26:33.908"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:33.911" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:33.911" starttime="20191114 01:26:33.910"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:33.912" starttime="20191114 01:26:33.179"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:33.912" starttime="20191114 01:26:33.178"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:33.912" starttime="20191114 01:26:33.177"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:33.913" starttime="20191114 01:26:32.989"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:33.913" starttime="20191114 01:26:32.988"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:33.916" starttime="20191114 01:26:33.915"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:33.918" starttime="20191114 01:26:33.917"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:33.924" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:34.343" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:34.343" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:34.343" starttime="20191114 01:26:33.922"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:34.344" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:34.345" starttime="20191114 01:26:34.344"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:34.345" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:34.345" starttime="20191114 01:26:34.345"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:34.346" starttime="20191114 01:26:33.920"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:34.348" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:34.726" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:34.726" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:34.726" starttime="20191114 01:26:34.346"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:34.728" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:34.728" starttime="20191114 01:26:34.727"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:34.729" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:34.729" starttime="20191114 01:26:34.728"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:34.730" starttime="20191114 01:26:34.346"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:34.733" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:35.212" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:35.212" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:35.212" starttime="20191114 01:26:34.731"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:35.213" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:35.213" starttime="20191114 01:26:35.212"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:35.214" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:35.214" starttime="20191114 01:26:35.214"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:35.215" starttime="20191114 01:26:34.730"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:35.218" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:35.700" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:35.700" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:35.700" starttime="20191114 01:26:35.216"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:35.702" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:35.702" starttime="20191114 01:26:35.701"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:35.703" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:35.703" starttime="20191114 01:26:35.702"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:35.704" starttime="20191114 01:26:35.215"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:35.704" starttime="20191114 01:26:33.919"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:35.704" starttime="20191114 01:26:33.918"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:35.704" starttime="20191114 01:26:33.914"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:35.705" starttime="20191114 01:26:33.913"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:35.706" starttime="20191114 01:26:35.705"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:35.706" starttime="20191114 01:26:32.988"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:35.711" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-37933 --key multipartKey1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:44.862" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:26:44.863" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:44.863" starttime="20191114 01:26:35.709"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:44.864" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:44.864" starttime="20191114 01:26:44.863"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:44.865" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:26:44.865" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:26:44.865" starttime="20191114 01:26:44.864"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:44.865" starttime="20191114 01:26:35.708"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:44.866" starttime="20191114 01:26:35.707"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:44.866" critical="yes" starttime="20191114 01:26:32.986">255 != 0</status>
</test>
<test id="s1-s5-t3" name="Test Multipart Upload Complete Entity too small">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:44.870" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:44.877" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:26:44.878" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:26:44.878" starttime="20191114 01:26:44.868"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:44.880" starttime="20191114 01:26:44.879"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:44.882" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:45.080" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:45.080" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:26:45.080" starttime="20191114 01:26:44.880"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:45.085" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:45.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:45.807" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Pa...</msg>
<status status="PASS" endtime="20191114 01:26:45.807" starttime="20191114 01:26:45.083"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:45.808" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:26:45.809" starttime="20191114 01:26:45.807"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:45.810" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:45.810" starttime="20191114 01:26:45.809"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:45.810" starttime="20191114 01:26:45.082"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:45.811" starttime="20191114 01:26:45.082"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:45.811" starttime="20191114 01:26:45.081"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:45.811" starttime="20191114 01:26:44.868"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:45.811" starttime="20191114 01:26:44.868"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:45.814" starttime="20191114 01:26:45.813"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:45.815" starttime="20191114 01:26:45.814"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:45.820" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:46.288" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:46.288" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:46.288" starttime="20191114 01:26:45.818"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:46.290" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:46.290" starttime="20191114 01:26:46.289"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:46.291" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:46.291" starttime="20191114 01:26:46.290"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:46.291" starttime="20191114 01:26:45.817"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:46.295" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:46.741" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:46.741" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:46.741" starttime="20191114 01:26:46.292"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:46.743" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:46.743" starttime="20191114 01:26:46.742"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:46.743" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:46.744" starttime="20191114 01:26:46.743"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:46.744" starttime="20191114 01:26:46.292"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:46.747" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:47.140" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:47.140" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:47.140" starttime="20191114 01:26:46.745"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:47.142" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:47.142" starttime="20191114 01:26:47.141"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:47.143" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:47.144" starttime="20191114 01:26:47.143"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:47.144" starttime="20191114 01:26:46.744"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:47.148" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:47.603" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:47.603" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:47.603" starttime="20191114 01:26:47.146"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:47.604" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:47.605" starttime="20191114 01:26:47.604"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:47.605" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:47.606" starttime="20191114 01:26:47.605"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:47.606" starttime="20191114 01:26:47.145"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:47.606" starttime="20191114 01:26:45.816"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:47.607" starttime="20191114 01:26:45.815"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:47.607" starttime="20191114 01:26:45.813"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:47.607" starttime="20191114 01:26:45.812"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:47.608" starttime="20191114 01:26:47.607"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:47.608" starttime="20191114 01:26:44.867"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey2</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:47.612" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-37933 --key multipartKey2 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:57.666" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:26:57.666" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:57.667" starttime="20191114 01:26:47.610"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:57.668" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:26:57.668" starttime="20191114 01:26:57.667"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:57.669" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:26:57.670" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:26:57.670" starttime="20191114 01:26:57.669"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:57.670" starttime="20191114 01:26:47.609"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:57.671" starttime="20191114 01:26:47.609"></status>
</kw>
<status status="FAIL" endtime="20191114 01:26:57.671" critical="yes" starttime="20191114 01:26:44.866">255 != 0</status>
</test>
<test id="s1-s5-t4" name="Test Multipart Upload Complete Invalid part errors and complete mpu with few parts">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:57.678" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:57.686" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:26:57.686" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:26:57.686" starttime="20191114 01:26:57.676"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:57.688" starttime="20191114 01:26:57.687"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:57.691" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:57.894" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:57.894" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:26:57.894" starttime="20191114 01:26:57.689"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:57.901" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:58.695" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:58.695" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 01:26:58.695" starttime="20191114 01:26:57.898"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:58.697" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:26:58.697" starttime="20191114 01:26:58.696"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:58.698" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:58.698" starttime="20191114 01:26:58.697"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:58.698" starttime="20191114 01:26:57.897"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:58.698" starttime="20191114 01:26:57.896"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:58.699" starttime="20191114 01:26:57.895"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:58.699" starttime="20191114 01:26:57.675"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:58.699" starttime="20191114 01:26:57.674"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:58.701" starttime="20191114 01:26:58.700"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:26:58.702" starttime="20191114 01:26:58.701"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:58.705" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:59.180" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:59.180" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:59.180" starttime="20191114 01:26:58.703"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:59.182" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:59.182" starttime="20191114 01:26:59.181"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:59.183" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:59.184" starttime="20191114 01:26:59.182"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:59.184" starttime="20191114 01:26:58.703"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:59.188" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:26:59.663" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:26:59.663" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:26:59.663" starttime="20191114 01:26:59.186"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:26:59.665" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:26:59.665" starttime="20191114 01:26:59.664"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:26:59.666" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:26:59.667" starttime="20191114 01:26:59.666"></status>
</kw>
<status status="PASS" endtime="20191114 01:26:59.667" starttime="20191114 01:26:59.184"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:26:59.671" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:00.123" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:00.123" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:00.123" starttime="20191114 01:26:59.669"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:00.124" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:00.125" starttime="20191114 01:27:00.124"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:00.126" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:00.126" starttime="20191114 01:27:00.125"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:00.127" starttime="20191114 01:26:59.667"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:00.129" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:00.555" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:00.555" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:00.555" starttime="20191114 01:27:00.127"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:00.557" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:00.557" starttime="20191114 01:27:00.556"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:00.558" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:00.558" starttime="20191114 01:27:00.558"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:00.559" starttime="20191114 01:27:00.127"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:00.559" starttime="20191114 01:26:58.702"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:00.560" starttime="20191114 01:26:58.702"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:00.560" starttime="20191114 01:26:58.700"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:00.560" starttime="20191114 01:26:58.699"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:00.561" starttime="20191114 01:27:00.560"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:00.561" starttime="20191114 01:26:57.673"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey3</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:00.566" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-37933 --key multipartKey3 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:11.473" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:27:11.473" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:11.473" starttime="20191114 01:27:00.564"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:11.475" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:11.475" starttime="20191114 01:27:11.474"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:11.476" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:27:11.477" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:27:11.477" starttime="20191114 01:27:11.475"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:11.477" starttime="20191114 01:27:00.563"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:11.478" starttime="20191114 01:27:00.562"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:11.478" critical="yes" starttime="20191114 01:26:57.672">255 != 0</status>
</test>
<test id="s1-s5-t5" name="Test abort Multipart upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:11.503" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:11.508" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:27:11.508" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:27:11.508" starttime="20191114 01:27:11.482"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:11.510" starttime="20191114 01:27:11.509"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:11.512" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:11.713" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:11.714" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:27:11.714" starttime="20191114 01:27:11.511"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:11.720" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:12.452" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:12.453" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
...</msg>
<status status="PASS" endtime="20191114 01:27:12.453" starttime="20191114 01:27:11.718"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:12.454" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:27:12.454" starttime="20191114 01:27:12.453"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:12.455" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:12.455" starttime="20191114 01:27:12.455"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:12.456" starttime="20191114 01:27:11.717"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:12.456" starttime="20191114 01:27:11.716"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:12.456" starttime="20191114 01:27:11.715"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:12.456" starttime="20191114 01:27:11.482"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:12.457" starttime="20191114 01:27:11.481"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:12.459" starttime="20191114 01:27:12.458"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:12.460" starttime="20191114 01:27:12.459"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:12.464" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:12.976" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:12.976" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:12.976" starttime="20191114 01:27:12.462"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:12.978" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:12.979" starttime="20191114 01:27:12.977"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:12.979" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:12.980" starttime="20191114 01:27:12.979"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:12.980" starttime="20191114 01:27:12.461"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:12.983" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:13.451" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:13.452" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:13.452" starttime="20191114 01:27:12.981"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:13.453" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:13.453" starttime="20191114 01:27:13.452"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:13.454" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:13.454" starttime="20191114 01:27:13.453"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:13.454" starttime="20191114 01:27:12.980"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:13.457" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:13.917" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:13.918" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:13.918" starttime="20191114 01:27:13.455"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:13.919" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:13.919" starttime="20191114 01:27:13.918"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:13.920" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:13.920" starttime="20191114 01:27:13.919"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:13.920" starttime="20191114 01:27:13.455"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:13.924" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:14.377" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:14.377" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:14.377" starttime="20191114 01:27:13.921"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:14.379" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:14.379" starttime="20191114 01:27:14.378"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:14.380" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:14.380" starttime="20191114 01:27:14.379"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:14.380" starttime="20191114 01:27:13.921"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:14.381" starttime="20191114 01:27:12.461"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:14.381" starttime="20191114 01:27:12.460"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:14.381" starttime="20191114 01:27:12.458"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:14.381" starttime="20191114 01:27:12.457"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:14.382" starttime="20191114 01:27:14.381"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:14.382" starttime="20191114 01:27:11.480"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey4 --storage-class REDUCED_REDUNDANCY</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:14.386" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-37933 --key multipartKey4 --storage-class REDUCED_REDUNDANCY 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:16.452" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:27:16.452" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:16.452" starttime="20191114 01:27:14.384"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:16.454" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:16.454" starttime="20191114 01:27:16.453"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:16.454" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:27:16.455" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:27:16.455" starttime="20191114 01:27:16.454"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:16.455" starttime="20191114 01:27:14.383"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:16.455" starttime="20191114 01:27:14.382"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:16.456" critical="yes" starttime="20191114 01:27:11.479">255 != 0</status>
</test>
<test id="s1-s5-t6" name="Test abort Multipart upload with invalid uploadId">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:16.460" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:16.467" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:27:16.467" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:27:16.467" starttime="20191114 01:27:16.458"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:16.469" starttime="20191114 01:27:16.468"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:16.471" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:16.659" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:16.660" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:27:16.660" starttime="20191114 01:27:16.470"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:16.667" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:18.336" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:18.336" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 01:27:18.337" starttime="20191114 01:27:16.664"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:18.338" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:27:18.339" starttime="20191114 01:27:18.337"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:18.340" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:18.340" starttime="20191114 01:27:18.339"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:18.340" starttime="20191114 01:27:16.663"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:18.341" starttime="20191114 01:27:16.662"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:18.341" starttime="20191114 01:27:16.661"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:18.341" starttime="20191114 01:27:16.458"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:18.341" starttime="20191114 01:27:16.457"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:18.344" starttime="20191114 01:27:18.344"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:18.345" starttime="20191114 01:27:18.345"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:18.350" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:18.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:18.836" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:18.836" starttime="20191114 01:27:18.348"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:18.838" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:18.838" starttime="20191114 01:27:18.837"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:18.838" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:18.839" starttime="20191114 01:27:18.838"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:18.839" starttime="20191114 01:27:18.347"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:18.842" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:19.313" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:19.313" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:19.314" starttime="20191114 01:27:18.840"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:19.315" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:19.315" starttime="20191114 01:27:19.314"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:19.315" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:19.316" starttime="20191114 01:27:19.315"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:19.316" starttime="20191114 01:27:18.839"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:19.318" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:19.804" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:19.804" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:19.804" starttime="20191114 01:27:19.317"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:19.806" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:19.806" starttime="20191114 01:27:19.805"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:19.807" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:19.807" starttime="20191114 01:27:19.806"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:19.808" starttime="20191114 01:27:19.316"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:19.811" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:20.254" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:20.254" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:20.254" starttime="20191114 01:27:19.809"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:20.256" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:20.256" starttime="20191114 01:27:20.255"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:20.257" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:20.257" starttime="20191114 01:27:20.256"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:20.258" starttime="20191114 01:27:19.808"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:20.258" starttime="20191114 01:27:18.346"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:20.258" starttime="20191114 01:27:18.346"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:20.258" starttime="20191114 01:27:18.343"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:20.259" starttime="20191114 01:27:18.342"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:20.260" starttime="20191114 01:27:20.259"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:20.260" starttime="20191114 01:27:16.457"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>abort-multipart-upload --bucket ${BUCKET} --key multipartKey5 --upload-id "random"</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:20.265" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 abort-multipart-upload --bucket bucket-37933 --key multipartKey5 --upload-id "random" 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:30.576" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:27:30.576" level="INFO">${output} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:30.576" starttime="20191114 01:27:20.263"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:30.578" level="INFO">
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:30.578" starttime="20191114 01:27:30.577"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:27:30.579" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:30.579" starttime="20191114 01:27:30.578"></status>
</kw>
<msg timestamp="20191114 01:27:30.579" level="INFO">${output} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:30.579" starttime="20191114 01:27:20.262"></status>
</kw>
<msg timestamp="20191114 01:27:30.580" level="INFO">${result} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:30.580" starttime="20191114 01:27:20.261"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:30.580" critical="yes" starttime="20191114 01:27:16.456"></status>
</test>
<test id="s1-s5-t7" name="Upload part with Incorrect uploadID">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:30.586" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:30.593" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:27:30.594" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:27:30.594" starttime="20191114 01:27:30.584"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:30.596" starttime="20191114 01:27:30.595"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:30.598" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:30.779" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:30.779" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:27:30.779" starttime="20191114 01:27:30.596"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:30.786" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:31.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:31.564" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.fileplanet.co...</msg>
<status status="PASS" endtime="20191114 01:27:31.564" starttime="20191114 01:27:30.783"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:31.565" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:27:31.565" starttime="20191114 01:27:31.565"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:31.566" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:31.566" starttime="20191114 01:27:31.565"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:31.566" starttime="20191114 01:27:30.783"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:31.566" starttime="20191114 01:27:30.782"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:31.567" starttime="20191114 01:27:30.780"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:31.567" starttime="20191114 01:27:30.584"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:31.567" starttime="20191114 01:27:30.583"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:31.569" starttime="20191114 01:27:31.568"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:31.569" starttime="20191114 01:27:31.569"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:31.573" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:32.034" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:32.034" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:32.035" starttime="20191114 01:27:31.571"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:32.036" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:32.037" starttime="20191114 01:27:32.035"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:32.038" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:32.038" starttime="20191114 01:27:32.037"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:32.038" starttime="20191114 01:27:31.571"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:32.042" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:32.561" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:32.561" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:32.561" starttime="20191114 01:27:32.040"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:32.563" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:32.563" starttime="20191114 01:27:32.562"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:32.564" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:32.565" starttime="20191114 01:27:32.564"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:32.565" starttime="20191114 01:27:32.039"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:32.569" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:33.034" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:33.034" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:33.034" starttime="20191114 01:27:32.566"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:33.038" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:33.038" starttime="20191114 01:27:33.035"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:33.039" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:33.039" starttime="20191114 01:27:33.038"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:33.040" starttime="20191114 01:27:32.565"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:33.044" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:33.485" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:33.485" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:33.485" starttime="20191114 01:27:33.041"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:33.487" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:33.487" starttime="20191114 01:27:33.486"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:33.488" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:33.488" starttime="20191114 01:27:33.488"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:33.489" starttime="20191114 01:27:33.040"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:33.489" starttime="20191114 01:27:31.570"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:33.489" starttime="20191114 01:27:31.570"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:33.490" starttime="20191114 01:27:31.568"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:33.490" starttime="20191114 01:27:31.567"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:33.491" starttime="20191114 01:27:33.490"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:33.491" starttime="20191114 01:27:30.582"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>echo "Multipart upload" &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:33.495" level="INFO">Running command 'echo "Multipart upload" &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 01:27:33.498" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:33.498" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:33.498" starttime="20191114 01:27:33.493"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:33.500" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:33.500" starttime="20191114 01:27:33.499"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:33.501" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:33.501" starttime="20191114 01:27:33.500"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:33.502" starttime="20191114 01:27:33.492"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>upload-part --bucket ${BUCKET} --key multipartKey --part-number 1 --body /tmp/testfile --upload-id "random"</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:33.506" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 upload-part --bucket bucket-37933 --key multipartKey --part-number 1 --body /tmp/testfile --upload-id "random" 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:38.730" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:27:38.730" level="INFO">${output} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:38.730" starttime="20191114 01:27:33.504"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:38.732" level="INFO">
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:38.732" starttime="20191114 01:27:38.731"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:27:38.733" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:38.733" starttime="20191114 01:27:38.732"></status>
</kw>
<msg timestamp="20191114 01:27:38.733" level="INFO">${output} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:38.734" starttime="20191114 01:27:33.503"></status>
</kw>
<msg timestamp="20191114 01:27:38.734" level="INFO">${result} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:38.734" starttime="20191114 01:27:33.502"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchUpload</arg>
</arguments>
<msg timestamp="20191114 01:27:38.735" level="FAIL">'
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchUpload'</msg>
<status status="FAIL" endtime="20191114 01:27:38.735" starttime="20191114 01:27:38.734"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:38.736" critical="yes" starttime="20191114 01:27:30.581">'
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchUpload'</status>
</test>
<test id="s1-s5-t8" name="Test list parts">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:38.741" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:38.748" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:27:38.748" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:27:38.749" starttime="20191114 01:27:38.739"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:38.750" starttime="20191114 01:27:38.749"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:38.752" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:38.963" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:38.963" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:27:38.963" starttime="20191114 01:27:38.750"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:38.970" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:39.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:39.705" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keysteal...</msg>
<status status="PASS" endtime="20191114 01:27:39.705" starttime="20191114 01:27:38.967"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:39.707" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:27:39.707" starttime="20191114 01:27:39.706"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:39.708" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:39.710" starttime="20191114 01:27:39.708"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:39.710" starttime="20191114 01:27:38.966"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:39.710" starttime="20191114 01:27:38.965"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:39.711" starttime="20191114 01:27:38.964"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:39.711" starttime="20191114 01:27:38.738"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:39.711" starttime="20191114 01:27:38.738"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:39.714" starttime="20191114 01:27:39.713"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:39.715" starttime="20191114 01:27:39.714"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:39.720" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:40.177" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:40.177" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:40.177" starttime="20191114 01:27:39.718"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:40.179" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:40.179" starttime="20191114 01:27:40.178"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:40.180" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:40.180" starttime="20191114 01:27:40.179"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:40.181" starttime="20191114 01:27:39.716"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:40.184" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:40.651" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:40.651" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:40.651" starttime="20191114 01:27:40.182"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:40.653" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:40.653" starttime="20191114 01:27:40.652"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:40.654" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:40.655" starttime="20191114 01:27:40.654"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:40.655" starttime="20191114 01:27:40.181"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:40.659" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:41.123" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:41.124" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:41.124" starttime="20191114 01:27:40.657"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:41.125" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:41.125" starttime="20191114 01:27:41.124"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:41.126" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:41.126" starttime="20191114 01:27:41.125"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:41.126" starttime="20191114 01:27:40.656"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:41.128" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:41.536" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:41.536" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:41.537" starttime="20191114 01:27:41.127"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:41.538" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:41.538" starttime="20191114 01:27:41.537"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:41.539" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:41.540" starttime="20191114 01:27:41.539"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:41.540" starttime="20191114 01:27:41.126"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:41.540" starttime="20191114 01:27:39.716"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:41.540" starttime="20191114 01:27:39.715"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:41.541" starttime="20191114 01:27:39.712"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:41.541" starttime="20191114 01:27:39.711"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:41.542" starttime="20191114 01:27:41.541"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:41.542" starttime="20191114 01:27:38.737"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey5</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:41.547" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-37933 --key multipartKey5 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:48.408" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:27:48.408" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:48.409" starttime="20191114 01:27:41.545"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:48.411" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:48.411" starttime="20191114 01:27:48.409"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:48.412" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:27:48.412" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:27:48.413" starttime="20191114 01:27:48.411"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:48.413" starttime="20191114 01:27:41.544"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:48.414" starttime="20191114 01:27:41.543"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:48.414" critical="yes" starttime="20191114 01:27:38.736">255 != 0</status>
</test>
<test id="s1-s5-t9" name="Test Multipart Upload with the simplified aws s3 cp API">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:48.422" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:48.428" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:27:48.428" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:27:48.428" starttime="20191114 01:27:48.419"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:48.429" starttime="20191114 01:27:48.429"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:48.431" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:48.614" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:48.614" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:27:48.615" starttime="20191114 01:27:48.430"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:48.619" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:49.346" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:49.347" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Packag...</msg>
<status status="PASS" endtime="20191114 01:27:49.347" starttime="20191114 01:27:48.617"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:49.348" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:27:49.349" starttime="20191114 01:27:49.347"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:49.350" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:49.350" starttime="20191114 01:27:49.349"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:49.351" starttime="20191114 01:27:48.616"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:49.351" starttime="20191114 01:27:48.616"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:49.351" starttime="20191114 01:27:48.615"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:49.351" starttime="20191114 01:27:48.418"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:49.351" starttime="20191114 01:27:48.418"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:49.354" starttime="20191114 01:27:49.353"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:49.355" starttime="20191114 01:27:49.354"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:49.360" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:49.823" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:49.823" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:49.823" starttime="20191114 01:27:49.358"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:49.825" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:49.825" starttime="20191114 01:27:49.824"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:49.826" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:49.826" starttime="20191114 01:27:49.825"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:49.827" starttime="20191114 01:27:49.357"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:49.830" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:50.293" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:50.293" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:50.293" starttime="20191114 01:27:49.828"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:50.295" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:50.295" starttime="20191114 01:27:50.294"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:50.296" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:50.296" starttime="20191114 01:27:50.295"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:50.297" starttime="20191114 01:27:49.827"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:50.301" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:50.792" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:50.792" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:50.793" starttime="20191114 01:27:50.298"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:50.794" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:50.794" starttime="20191114 01:27:50.793"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:50.797" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:50.797" starttime="20191114 01:27:50.795"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:50.797" starttime="20191114 01:27:50.297"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:50.800" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:51.318" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:51.319" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:27:51.319" starttime="20191114 01:27:50.798"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:51.320" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:27:51.321" starttime="20191114 01:27:51.320"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:51.322" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:51.322" starttime="20191114 01:27:51.321"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:51.322" starttime="20191114 01:27:50.798"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:51.323" starttime="20191114 01:27:49.356"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:51.323" starttime="20191114 01:27:49.355"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:51.323" starttime="20191114 01:27:49.353"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:51.323" starttime="20191114 01:27:49.352"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:51.324" starttime="20191114 01:27:51.324"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:51.325" starttime="20191114 01:27:48.416"></status>
</kw>
<kw name="Create Random file">
<arguments>
<arg>22</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:51.329" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=22 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:51.515" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:51.515" level="INFO">${output} = 22+0 records in
22+0 records out
23068672 bytes (23 MB) copied, 0.158004 s, 146 MB/s</msg>
<status status="PASS" endtime="20191114 01:27:51.515" starttime="20191114 01:27:51.327"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:51.516" level="INFO">22+0 records in
22+0 records out
23068672 bytes (23 MB) copied, 0.158004 s, 146 MB/s</msg>
<status status="PASS" endtime="20191114 01:27:51.517" starttime="20191114 01:27:51.516"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:51.517" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:51.517" starttime="20191114 01:27:51.517"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:51.518" starttime="20191114 01:27:51.326"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:51.518" starttime="20191114 01:27:51.325"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/part1 s3://${BUCKET}/mpyawscli</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:51.521" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/part1 s3://bucket-37933/mpyawscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:58.727" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:27:58.727" level="INFO">${output} = upload failed: ../../tmp/part1 to s3://bucket-37933/mpyawscli An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:58.727" starttime="20191114 01:27:51.519"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:58.729" level="INFO">upload failed: ../../tmp/part1 to s3://bucket-37933/mpyawscli An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:27:58.729" starttime="20191114 01:27:58.728"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:58.730" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:27:58.731" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 01:27:58.731" starttime="20191114 01:27:58.729"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:58.731" starttime="20191114 01:27:51.519"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:58.732" starttime="20191114 01:27:51.518"></status>
</kw>
<status status="FAIL" endtime="20191114 01:27:58.732" critical="yes" starttime="20191114 01:27:48.415">1 != 0</status>
</test>
<test id="s1-s5-t10" name="Test Multipart Upload Put With Copy">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:58.739" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:58.744" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:27:58.744" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:27:58.745" starttime="20191114 01:27:58.736"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:58.746" starttime="20191114 01:27:58.745"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:58.748" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:58.903" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:58.903" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:27:58.903" starttime="20191114 01:27:58.746"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:58.908" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:27:59.679" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:27:59.680" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Packag...</msg>
<status status="PASS" endtime="20191114 01:27:59.680" starttime="20191114 01:27:58.906"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:27:59.681" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:27:59.682" starttime="20191114 01:27:59.681"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:27:59.682" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:27:59.683" starttime="20191114 01:27:59.682"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:59.683" starttime="20191114 01:27:58.905"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:59.683" starttime="20191114 01:27:58.905"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:59.684" starttime="20191114 01:27:58.904"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:59.684" starttime="20191114 01:27:58.736"></status>
</kw>
<status status="PASS" endtime="20191114 01:27:59.684" starttime="20191114 01:27:58.735"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:59.687" starttime="20191114 01:27:59.686"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:27:59.688" starttime="20191114 01:27:59.687"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:27:59.692" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:00.194" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:00.194" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:00.194" starttime="20191114 01:27:59.690"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:00.196" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:00.197" starttime="20191114 01:28:00.195"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:00.198" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:00.198" starttime="20191114 01:28:00.197"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:00.199" starttime="20191114 01:27:59.690"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:00.204" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:00.672" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:00.673" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:00.673" starttime="20191114 01:28:00.200"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:00.674" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:00.674" starttime="20191114 01:28:00.673"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:00.675" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:00.676" starttime="20191114 01:28:00.675"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:00.676" starttime="20191114 01:28:00.199"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:00.679" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:01.149" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:01.150" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:01.150" starttime="20191114 01:28:00.677"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:01.151" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:01.151" starttime="20191114 01:28:01.150"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:01.152" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:01.152" starttime="20191114 01:28:01.152"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.153" starttime="20191114 01:28:00.676"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:01.156" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:01.652" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:01.652" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:01.653" starttime="20191114 01:28:01.154"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:01.655" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:01.655" starttime="20191114 01:28:01.653"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:01.656" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:01.656" starttime="20191114 01:28:01.655"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.657" starttime="20191114 01:28:01.153"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.657" starttime="20191114 01:27:59.689"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.657" starttime="20191114 01:27:59.688"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.658" starttime="20191114 01:27:59.685"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.658" starttime="20191114 01:27:59.684"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:01.659" starttime="20191114 01:28:01.658"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.659" starttime="20191114 01:27:58.734"></status>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Create Random file</arg>
<arg>5</arg>
</arguments>
<kw name="Create Random file">
<arguments>
<arg>5</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:01.665" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=5 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:01.734" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:01.734" level="INFO">${output} = 5+0 records in
5+0 records out
5242880 bytes (5.2 MB) copied, 0.0522887 s, 100 MB/s</msg>
<status status="PASS" endtime="20191114 01:28:01.734" starttime="20191114 01:28:01.663"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:01.736" level="INFO">5+0 records in
5+0 records out
5242880 bytes (5.2 MB) copied, 0.0522887 s, 100 MB/s</msg>
<status status="PASS" endtime="20191114 01:28:01.736" starttime="20191114 01:28:01.735"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:01.737" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:01.737" starttime="20191114 01:28:01.736"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.738" starttime="20191114 01:28:01.662"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.738" starttime="20191114 01:28:01.661"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:01.738" starttime="20191114 01:28:01.660"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>put-object --bucket ${BUCKET} --key copytest/source --body /tmp/part1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:01.743" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket bucket-37933 --key copytest/source --body /tmp/part1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:12.394" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:28:12.394" level="INFO">${output} = 
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 01:28:12.394" starttime="20191114 01:28:01.741"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:12.395" level="INFO">
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 01:28:12.395" starttime="20191114 01:28:12.394"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:12.396" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:28:12.396" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:28:12.396" starttime="20191114 01:28:12.395"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:12.397" starttime="20191114 01:28:01.740"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:12.397" starttime="20191114 01:28:01.739"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:12.397" critical="yes" starttime="20191114 01:27:58.733">255 != 0</status>
</test>
<test id="s1-s5-t11" name="Test Multipart Upload Put With Copy and range">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:12.405" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:12.409" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:28:12.409" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:28:12.409" starttime="20191114 01:28:12.402"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:12.411" starttime="20191114 01:28:12.410"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:12.414" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:12.593" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:12.594" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:28:12.594" starttime="20191114 01:28:12.412"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:12.600" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:13.310" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:13.311" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keystealt...</msg>
<status status="PASS" endtime="20191114 01:28:13.311" starttime="20191114 01:28:12.598"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:13.313" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:28:13.313" starttime="20191114 01:28:13.312"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:13.314" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:13.314" starttime="20191114 01:28:13.313"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:13.315" starttime="20191114 01:28:12.597"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:13.315" starttime="20191114 01:28:12.596"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:13.315" starttime="20191114 01:28:12.595"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:13.316" starttime="20191114 01:28:12.402"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:13.316" starttime="20191114 01:28:12.400"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:13.319" starttime="20191114 01:28:13.318"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:13.320" starttime="20191114 01:28:13.319"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:13.325" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:13.756" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:13.756" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:13.756" starttime="20191114 01:28:13.323"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:13.758" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:13.758" starttime="20191114 01:28:13.757"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:13.759" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:13.759" starttime="20191114 01:28:13.758"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:13.760" starttime="20191114 01:28:13.322"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:13.763" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:14.174" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:14.174" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:14.174" starttime="20191114 01:28:13.761"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:14.175" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:14.176" starttime="20191114 01:28:14.175"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:14.176" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:14.177" starttime="20191114 01:28:14.176"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:14.177" starttime="20191114 01:28:13.760"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:14.180" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:14.644" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:14.644" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:14.644" starttime="20191114 01:28:14.178"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:14.646" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:14.646" starttime="20191114 01:28:14.645"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:14.648" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:14.648" starttime="20191114 01:28:14.647"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:14.649" starttime="20191114 01:28:14.177"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:14.651" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:15.102" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:15.102" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:15.102" starttime="20191114 01:28:14.650"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:15.103" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:15.103" starttime="20191114 01:28:15.103"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:15.104" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:15.104" starttime="20191114 01:28:15.104"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:15.104" starttime="20191114 01:28:14.649"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:15.105" starttime="20191114 01:28:13.321"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:15.105" starttime="20191114 01:28:13.320"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:15.105" starttime="20191114 01:28:13.317"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:15.105" starttime="20191114 01:28:13.316"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:15.106" starttime="20191114 01:28:15.105"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:15.106" starttime="20191114 01:28:12.399"></status>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Create Random file</arg>
<arg>10</arg>
</arguments>
<kw name="Create Random file">
<arguments>
<arg>10</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:15.111" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=10 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:15.192" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:15.192" level="INFO">${output} = 10+0 records in
10+0 records out
10485760 bytes (10 MB) copied, 0.0740693 s, 142 MB/s</msg>
<status status="PASS" endtime="20191114 01:28:15.192" starttime="20191114 01:28:15.108"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:15.193" level="INFO">10+0 records in
10+0 records out
10485760 bytes (10 MB) copied, 0.0740693 s, 142 MB/s</msg>
<status status="PASS" endtime="20191114 01:28:15.193" starttime="20191114 01:28:15.192"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:15.194" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:15.194" starttime="20191114 01:28:15.193"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:15.194" starttime="20191114 01:28:15.108"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:15.195" starttime="20191114 01:28:15.107"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:15.195" starttime="20191114 01:28:15.106"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>put-object --bucket ${BUCKET} --key copyrange/source --body /tmp/part1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:15.198" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket bucket-37933 --key copyrange/source --body /tmp/part1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:22.514" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:28:22.514" level="INFO">${output} = 
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 01:28:22.514" starttime="20191114 01:28:15.196"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:22.516" level="INFO">
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 01:28:22.516" starttime="20191114 01:28:22.515"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:22.517" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:28:22.517" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:28:22.517" starttime="20191114 01:28:22.516"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:22.518" starttime="20191114 01:28:15.196"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:22.518" starttime="20191114 01:28:15.195"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:22.519" critical="yes" starttime="20191114 01:28:12.398">255 != 0</status>
</test>
<test id="s1-s5-t12" name="Test Multipart Upload list">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:22.524" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:22.530" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:28:22.530" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:28:22.530" starttime="20191114 01:28:22.523"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:22.532" starttime="20191114 01:28:22.531"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:22.533" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:22.700" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:22.701" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:28:22.701" starttime="20191114 01:28:22.532"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:22.707" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:23.434" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:23.435" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet....</msg>
<status status="PASS" endtime="20191114 01:28:23.435" starttime="20191114 01:28:22.705"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:23.436" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:28:23.437" starttime="20191114 01:28:23.435"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:23.437" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:23.438" starttime="20191114 01:28:23.437"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:23.438" starttime="20191114 01:28:22.704"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:23.438" starttime="20191114 01:28:22.703"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:23.439" starttime="20191114 01:28:22.702"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:23.439" starttime="20191114 01:28:22.522"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:23.439" starttime="20191114 01:28:22.521"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:23.442" starttime="20191114 01:28:23.441"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:23.442" starttime="20191114 01:28:23.442"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:23.447" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:23.940" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:23.940" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:23.940" starttime="20191114 01:28:23.445"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:23.942" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:23.942" starttime="20191114 01:28:23.941"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:23.942" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:23.943" starttime="20191114 01:28:23.942"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:23.943" starttime="20191114 01:28:23.445"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:23.945" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:24.360" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:24.360" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:24.360" starttime="20191114 01:28:23.944"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:24.362" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:24.362" starttime="20191114 01:28:24.361"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:24.362" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:24.363" starttime="20191114 01:28:24.362"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:24.363" starttime="20191114 01:28:23.943"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:24.365" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:24.830" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:24.830" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:24.830" starttime="20191114 01:28:24.364"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:24.831" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:24.831" starttime="20191114 01:28:24.831"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:24.832" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:24.832" starttime="20191114 01:28:24.832"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:24.833" starttime="20191114 01:28:24.363"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:24.835" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:25.331" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:25.332" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:25.332" starttime="20191114 01:28:24.833"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:25.333" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:25.333" starttime="20191114 01:28:25.332"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:25.333" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:25.334" starttime="20191114 01:28:25.333"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:25.334" starttime="20191114 01:28:24.833"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:25.334" starttime="20191114 01:28:23.444"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:25.334" starttime="20191114 01:28:23.443"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:25.334" starttime="20191114 01:28:23.440"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:25.335" starttime="20191114 01:28:23.439"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:25.335" starttime="20191114 01:28:25.335"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:25.335" starttime="20191114 01:28:22.521"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key listtest/key1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:25.339" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-37933 --key listtest/key1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:33.809" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:28:33.809" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:28:33.809" starttime="20191114 01:28:25.337"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:33.810" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:28:33.810" starttime="20191114 01:28:33.809"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:33.811" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:28:33.812" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:28:33.812" starttime="20191114 01:28:33.811"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:33.812" starttime="20191114 01:28:25.336"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:33.812" starttime="20191114 01:28:25.336"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:33.813" critical="yes" starttime="20191114 01:28:22.520">255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:28:33.815" starttime="20191114 01:26:20.916"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectcopy.robot" id="s1-s6" name="Objectcopy">
<test id="s1-s6-t1" name="Copy Object Happy Scenario">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:33.833" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:33.838" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:28:33.838" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:28:33.839" starttime="20191114 01:28:33.831"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:33.840" starttime="20191114 01:28:33.839"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:33.841" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:34.036" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:34.036" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:28:34.036" starttime="20191114 01:28:33.840"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:34.042" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:34.707" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:34.707" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
P...</msg>
<status status="PASS" endtime="20191114 01:28:34.707" starttime="20191114 01:28:34.040"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:34.709" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:28:34.709" starttime="20191114 01:28:34.708"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:34.710" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:34.710" starttime="20191114 01:28:34.710"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:34.711" starttime="20191114 01:28:34.039"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:34.711" starttime="20191114 01:28:34.038"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:34.711" starttime="20191114 01:28:34.037"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:34.712" starttime="20191114 01:28:33.831"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:34.712" starttime="20191114 01:28:33.831"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:34.715" starttime="20191114 01:28:34.714"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:34.716" starttime="20191114 01:28:34.715"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:34.721" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:35.199" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:35.199" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:35.199" starttime="20191114 01:28:34.718"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:35.200" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:35.200" starttime="20191114 01:28:35.200"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:35.201" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:35.202" starttime="20191114 01:28:35.201"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:35.202" starttime="20191114 01:28:34.718"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:35.204" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:35.647" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:35.647" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:35.647" starttime="20191114 01:28:35.203"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:35.648" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:35.648" starttime="20191114 01:28:35.647"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:35.649" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:35.649" starttime="20191114 01:28:35.649"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:35.650" starttime="20191114 01:28:35.202"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:35.652" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:36.139" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:36.139" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:36.139" starttime="20191114 01:28:35.650"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:36.140" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:36.141" starttime="20191114 01:28:36.140"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:36.141" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:36.141" starttime="20191114 01:28:36.141"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:36.142" starttime="20191114 01:28:35.650"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:36.144" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:36.598" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:36.598" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:36.598" starttime="20191114 01:28:36.142"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:36.600" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:36.601" starttime="20191114 01:28:36.599"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:36.602" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:36.602" starttime="20191114 01:28:36.601"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:36.602" starttime="20191114 01:28:36.142"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:36.603" starttime="20191114 01:28:34.717"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:36.603" starttime="20191114 01:28:34.716"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:36.603" starttime="20191114 01:28:34.713"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:36.603" starttime="20191114 01:28:34.712"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:28:36.606" level="INFO">${postfix} = 52809</msg>
<status status="PASS" endtime="20191114 01:28:36.606" starttime="20191114 01:28:36.605"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:28:36.607" level="INFO">${BUCKET} = bucket-52809</msg>
<status status="PASS" endtime="20191114 01:28:36.608" starttime="20191114 01:28:36.607"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:36.612" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-52809 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:47.677" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:28:47.677" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:28:47.678" starttime="20191114 01:28:36.610"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:47.679" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:28:47.680" starttime="20191114 01:28:47.678"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:47.681" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:28:47.681" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:28:47.681" starttime="20191114 01:28:47.680"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:47.682" starttime="20191114 01:28:36.609"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:47.682" starttime="20191114 01:28:36.608"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:47.683" starttime="20191114 01:28:36.605"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:47.683" starttime="20191114 01:28:36.604"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:47.683" starttime="20191114 01:28:33.830"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:47.684" critical="yes" starttime="20191114 01:28:33.830">Setup failed:
255 != 0</status>
</test>
<test id="s1-s6-t2" name="Copy Object Where Bucket is not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:47.690" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:47.697" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:28:47.697" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:28:47.698" starttime="20191114 01:28:47.688"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:47.700" starttime="20191114 01:28:47.699"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:47.703" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:47.866" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:47.866" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:28:47.866" starttime="20191114 01:28:47.700"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:47.874" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:48.519" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:48.519" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Packag...</msg>
<status status="PASS" endtime="20191114 01:28:48.519" starttime="20191114 01:28:47.871"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:48.521" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:28:48.521" starttime="20191114 01:28:48.520"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:48.521" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:48.522" starttime="20191114 01:28:48.521"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:48.522" starttime="20191114 01:28:47.869"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:48.522" starttime="20191114 01:28:47.869"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:48.522" starttime="20191114 01:28:47.867"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:48.522" starttime="20191114 01:28:47.687"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:48.523" starttime="20191114 01:28:47.686"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:48.524" starttime="20191114 01:28:48.524"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:48.525" starttime="20191114 01:28:48.525"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:48.529" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:48.937" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:48.937" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:48.938" starttime="20191114 01:28:48.527"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:48.940" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:48.940" starttime="20191114 01:28:48.938"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:48.941" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:48.941" starttime="20191114 01:28:48.940"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:48.942" starttime="20191114 01:28:48.526"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:48.945" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:49.436" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:49.436" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:49.436" starttime="20191114 01:28:48.943"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:49.438" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:49.438" starttime="20191114 01:28:49.437"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:49.439" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:49.439" starttime="20191114 01:28:49.438"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:49.440" starttime="20191114 01:28:48.942"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:49.443" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:49.884" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:49.885" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:49.885" starttime="20191114 01:28:49.441"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:49.886" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:49.886" starttime="20191114 01:28:49.885"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:49.887" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:49.887" starttime="20191114 01:28:49.886"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:49.887" starttime="20191114 01:28:49.440"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:49.890" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:50.339" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:50.340" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:28:50.340" starttime="20191114 01:28:49.888"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:50.341" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:28:50.342" starttime="20191114 01:28:50.340"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:28:50.343" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:50.343" starttime="20191114 01:28:50.342"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:50.343" starttime="20191114 01:28:49.888"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:50.344" starttime="20191114 01:28:48.526"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:50.344" starttime="20191114 01:28:48.525"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:50.344" starttime="20191114 01:28:48.523"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:50.344" starttime="20191114 01:28:48.523"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:50.345" starttime="20191114 01:28:50.345"></status>
</kw>
<status status="PASS" endtime="20191114 01:28:50.346" starttime="20191114 01:28:47.685"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>copy-object --bucket dfdfdfdfdfnonexistent --key copyobject/f1 --copy-source ${BUCKET}/copyobject/f1</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:50.351" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --bucket dfdfdfdfdfnonexistent --key copyobject/f1 --copy-source bucket-52809/copyobject/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:59.580" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:28:59.580" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:28:59.580" starttime="20191114 01:28:50.349"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:28:59.582" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:28:59.582" starttime="20191114 01:28:59.581"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:28:59.583" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:28:59.583" starttime="20191114 01:28:59.583"></status>
</kw>
<msg timestamp="20191114 01:28:59.584" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:28:59.584" starttime="20191114 01:28:50.347"></status>
</kw>
<msg timestamp="20191114 01:28:59.585" level="INFO">${result} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:28:59.585" starttime="20191114 01:28:50.346"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchBucket</arg>
</arguments>
<msg timestamp="20191114 01:28:59.586" level="FAIL">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</msg>
<status status="FAIL" endtime="20191114 01:28:59.586" starttime="20191114 01:28:59.585"></status>
</kw>
<status status="FAIL" endtime="20191114 01:28:59.587" critical="yes" starttime="20191114 01:28:47.684">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</status>
</test>
<test id="s1-s6-t3" name="Copy Object Where both source and dest are same with change to storageclass">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:59.594" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:59.599" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:28:59.600" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:28:59.600" starttime="20191114 01:28:59.592"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:28:59.601" starttime="20191114 01:28:59.600"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:59.603" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:28:59.798" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:28:59.798" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:28:59.799" starttime="20191114 01:28:59.602"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:28:59.804" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:00.483" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:00.483" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keysteal...</msg>
<status status="PASS" endtime="20191114 01:29:00.483" starttime="20191114 01:28:59.802"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:00.485" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:29:00.485" starttime="20191114 01:29:00.484"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:00.486" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:00.487" starttime="20191114 01:29:00.486"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:00.487" starttime="20191114 01:28:59.801"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:00.488" starttime="20191114 01:28:59.800"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:00.488" starttime="20191114 01:28:59.799"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:00.488" starttime="20191114 01:28:59.591"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:00.488" starttime="20191114 01:28:59.590"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:00.492" starttime="20191114 01:29:00.491"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:00.493" starttime="20191114 01:29:00.492"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:00.498" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:00.919" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:00.920" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:00.920" starttime="20191114 01:29:00.495"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:00.921" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:00.921" starttime="20191114 01:29:00.920"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:00.922" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:00.922" starttime="20191114 01:29:00.921"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:00.923" starttime="20191114 01:29:00.494"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:00.926" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:01.460" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:01.460" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:01.460" starttime="20191114 01:29:00.924"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:01.461" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:01.461" starttime="20191114 01:29:01.460"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:01.462" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:01.462" starttime="20191114 01:29:01.461"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:01.462" starttime="20191114 01:29:00.923"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:01.465" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:01.950" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:01.950" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:01.950" starttime="20191114 01:29:01.463"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:01.952" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:01.952" starttime="20191114 01:29:01.951"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:01.953" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:01.953" starttime="20191114 01:29:01.952"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:01.954" starttime="20191114 01:29:01.462"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:01.958" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:02.489" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:02.489" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:02.489" starttime="20191114 01:29:01.955"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:02.491" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:02.491" starttime="20191114 01:29:02.490"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:02.492" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:02.493" starttime="20191114 01:29:02.492"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:02.493" starttime="20191114 01:29:01.954"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:02.494" starttime="20191114 01:29:00.494"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:02.494" starttime="20191114 01:29:00.493"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:02.494" starttime="20191114 01:29:00.490"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:02.494" starttime="20191114 01:29:00.489"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:02.495" starttime="20191114 01:29:02.494"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:02.496" starttime="20191114 01:28:59.589"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>copy-object --storage-class REDUCED_REDUNDANCY --bucket ${DESTBUCKET} --key copyobject/f1 --copy-source ${DESTBUCKET}/copyobject/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:02.500" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --storage-class REDUCED_REDUNDANCY --bucket generated1 --key copyobject/f1 --copy-source generated1/copyobject/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:11.084" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:29:11.085" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:11.085" starttime="20191114 01:29:02.498"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:11.086" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:11.086" starttime="20191114 01:29:11.085"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:11.087" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:29:11.088" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:29:11.088" starttime="20191114 01:29:11.087"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:11.088" starttime="20191114 01:29:02.497"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:11.088" starttime="20191114 01:29:02.496"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:11.089" critical="yes" starttime="20191114 01:28:59.587">255 != 0</status>
</test>
<test id="s1-s6-t4" name="Copy Object Where Key not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:11.095" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:11.102" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:29:11.102" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:29:11.102" starttime="20191114 01:29:11.093"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:11.104" starttime="20191114 01:29:11.103"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:11.107" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:11.293" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:11.293" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:29:11.294" starttime="20191114 01:29:11.104"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:11.298" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:11.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:11.984" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn.com
Pack...</msg>
<status status="PASS" endtime="20191114 01:29:11.984" starttime="20191114 01:29:11.296"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:11.985" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:29:11.985" starttime="20191114 01:29:11.985"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:11.986" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:11.986" starttime="20191114 01:29:11.986"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:11.987" starttime="20191114 01:29:11.295"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:11.987" starttime="20191114 01:29:11.295"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:11.987" starttime="20191114 01:29:11.294"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:11.987" starttime="20191114 01:29:11.092"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:11.987" starttime="20191114 01:29:11.091"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:11.989" starttime="20191114 01:29:11.988"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:11.990" starttime="20191114 01:29:11.989"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:11.993" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:12.363" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:12.363" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:12.363" starttime="20191114 01:29:11.991"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:12.365" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:12.365" starttime="20191114 01:29:12.364"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:12.366" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:12.367" starttime="20191114 01:29:12.366"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:12.367" starttime="20191114 01:29:11.991"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:12.371" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:12.741" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:12.741" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:12.741" starttime="20191114 01:29:12.368"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:12.743" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:12.743" starttime="20191114 01:29:12.742"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:12.744" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:12.744" starttime="20191114 01:29:12.744"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:12.745" starttime="20191114 01:29:12.367"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:12.748" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:13.123" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:13.123" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:13.123" starttime="20191114 01:29:12.746"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:13.125" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:13.125" starttime="20191114 01:29:13.124"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:13.126" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:13.126" starttime="20191114 01:29:13.125"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:13.127" starttime="20191114 01:29:12.745"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:13.130" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:13.612" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:13.612" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:13.612" starttime="20191114 01:29:13.128"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:13.614" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:13.615" starttime="20191114 01:29:13.613"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:13.616" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:13.616" starttime="20191114 01:29:13.615"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:13.617" starttime="20191114 01:29:13.127"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:13.617" starttime="20191114 01:29:11.990"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:13.617" starttime="20191114 01:29:11.990"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:13.617" starttime="20191114 01:29:11.988"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:13.617" starttime="20191114 01:29:11.987"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:13.619" starttime="20191114 01:29:13.618"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:13.619" starttime="20191114 01:29:11.090"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>copy-object --bucket ${DESTBUCKET} --key copyobject/f1 --copy-source ${BUCKET}/nonnonexistentkey</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:13.624" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --bucket generated1 --key copyobject/f1 --copy-source bucket-52809/nonnonexistentkey 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:21.221" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:29:21.222" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:21.222" starttime="20191114 01:29:13.622"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:21.223" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:21.223" starttime="20191114 01:29:21.222"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:29:21.224" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:21.224" starttime="20191114 01:29:21.223"></status>
</kw>
<msg timestamp="20191114 01:29:21.224" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:21.224" starttime="20191114 01:29:13.621"></status>
</kw>
<msg timestamp="20191114 01:29:21.225" level="INFO">${result} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:21.225" starttime="20191114 01:29:13.620"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchKey</arg>
</arguments>
<msg timestamp="20191114 01:29:21.225" level="FAIL">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchKey'</msg>
<status status="FAIL" endtime="20191114 01:29:21.226" starttime="20191114 01:29:21.225"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:21.226" critical="yes" starttime="20191114 01:29:11.089">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchKey'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:29:21.227" starttime="20191114 01:28:33.822"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectdelete.robot" id="s1-s7" name="Objectdelete">
<test id="s1-s7-t1" name="Delete file with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:21.242" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:21.249" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:29:21.250" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:29:21.250" starttime="20191114 01:29:21.240"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:21.252" starttime="20191114 01:29:21.251"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:21.255" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:21.422" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:21.422" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:29:21.422" starttime="20191114 01:29:21.253"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:21.428" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:22.131" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:22.132" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.fileplan...</msg>
<status status="PASS" endtime="20191114 01:29:22.132" starttime="20191114 01:29:21.426"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:22.133" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:29:22.133" starttime="20191114 01:29:22.132"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:22.134" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:22.135" starttime="20191114 01:29:22.134"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:22.135" starttime="20191114 01:29:21.425"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:22.135" starttime="20191114 01:29:21.424"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:22.136" starttime="20191114 01:29:21.423"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:22.136" starttime="20191114 01:29:21.240"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:22.136" starttime="20191114 01:29:21.239"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:22.139" starttime="20191114 01:29:22.138"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:22.139" starttime="20191114 01:29:22.139"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:22.143" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:22.681" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:22.681" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:22.681" starttime="20191114 01:29:22.141"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:22.683" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:22.683" starttime="20191114 01:29:22.682"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:22.684" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:22.685" starttime="20191114 01:29:22.684"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:22.685" starttime="20191114 01:29:22.141"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:22.690" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:23.163" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:23.163" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:23.163" starttime="20191114 01:29:22.687"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:23.165" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:23.165" starttime="20191114 01:29:23.164"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:23.167" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:23.167" starttime="20191114 01:29:23.166"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:23.167" starttime="20191114 01:29:22.686"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:23.171" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:23.574" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:23.575" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:23.575" starttime="20191114 01:29:23.169"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:23.576" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:23.577" starttime="20191114 01:29:23.575"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:23.577" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:23.578" starttime="20191114 01:29:23.577"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:23.578" starttime="20191114 01:29:23.168"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:23.582" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:24.012" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:24.012" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:24.012" starttime="20191114 01:29:23.579"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:24.014" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:24.014" starttime="20191114 01:29:24.013"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:24.014" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:24.015" starttime="20191114 01:29:24.014"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:24.015" starttime="20191114 01:29:23.578"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:24.015" starttime="20191114 01:29:22.140"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:24.015" starttime="20191114 01:29:22.140"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:24.016" starttime="20191114 01:29:22.137"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:24.016" starttime="20191114 01:29:22.136"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:29:24.018" level="INFO">${postfix} = 32877</msg>
<status status="PASS" endtime="20191114 01:29:24.018" starttime="20191114 01:29:24.017"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:29:24.019" level="INFO">${BUCKET} = bucket-32877</msg>
<status status="PASS" endtime="20191114 01:29:24.019" starttime="20191114 01:29:24.018"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:24.022" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-32877 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:29.887" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:29:29.887" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:29.887" starttime="20191114 01:29:24.020"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:29.888" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:29.888" starttime="20191114 01:29:29.887"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:29.889" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:29:29.889" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:29:29.889" starttime="20191114 01:29:29.888"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:29.890" starttime="20191114 01:29:24.020"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:29.890" starttime="20191114 01:29:24.019"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:29.890" starttime="20191114 01:29:24.017"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:29.890" starttime="20191114 01:29:24.016"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:29.890" starttime="20191114 01:29:21.239"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:29.891" critical="yes" starttime="20191114 01:29:21.238">Setup failed:
255 != 0</status>
</test>
<test id="s1-s7-t2" name="Delete file with s3api, file doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:29.895" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:29.901" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:29:29.901" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:29:29.902" starttime="20191114 01:29:29.893"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:29.904" starttime="20191114 01:29:29.903"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:29.906" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:30.122" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:30.123" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:29:30.123" starttime="20191114 01:29:29.904"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:30.129" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:30.851" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:30.852" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Packag...</msg>
<status status="PASS" endtime="20191114 01:29:30.852" starttime="20191114 01:29:30.127"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:30.855" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:29:30.855" starttime="20191114 01:29:30.853"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:30.856" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:30.856" starttime="20191114 01:29:30.855"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:30.857" starttime="20191114 01:29:30.126"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:30.857" starttime="20191114 01:29:30.125"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:30.857" starttime="20191114 01:29:30.124"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:30.858" starttime="20191114 01:29:29.893"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:30.858" starttime="20191114 01:29:29.892"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:30.861" starttime="20191114 01:29:30.860"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:30.862" starttime="20191114 01:29:30.861"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:30.867" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:31.336" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:31.336" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:31.336" starttime="20191114 01:29:30.865"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:31.338" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:31.339" starttime="20191114 01:29:31.337"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:31.340" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:31.340" starttime="20191114 01:29:31.339"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:31.340" starttime="20191114 01:29:30.864"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:31.345" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:31.832" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:31.833" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:31.833" starttime="20191114 01:29:31.342"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:31.835" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:31.835" starttime="20191114 01:29:31.834"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:31.836" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:31.837" starttime="20191114 01:29:31.835"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:31.837" starttime="20191114 01:29:31.341"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:31.842" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:32.337" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:32.338" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:32.338" starttime="20191114 01:29:31.839"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:32.340" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:32.340" starttime="20191114 01:29:32.339"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:32.341" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:32.341" starttime="20191114 01:29:32.340"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:32.342" starttime="20191114 01:29:31.838"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:32.345" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:32.797" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:32.798" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:32.798" starttime="20191114 01:29:32.343"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:32.800" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:32.800" starttime="20191114 01:29:32.799"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:32.801" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:32.801" starttime="20191114 01:29:32.800"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:32.802" starttime="20191114 01:29:32.342"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:32.802" starttime="20191114 01:29:30.863"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:32.802" starttime="20191114 01:29:30.862"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:32.803" starttime="20191114 01:29:30.859"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:32.803" starttime="20191114 01:29:30.858"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:32.804" starttime="20191114 01:29:32.803"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:32.805" starttime="20191114 01:29:29.892"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:32.810" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 ls s3://bucket-32877/ 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:36.808" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:29:36.808" level="INFO">${output} = 
An error occurred (500) when calling the ListObjects operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:36.809" starttime="20191114 01:29:32.807"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:36.810" level="INFO">
An error occurred (500) when calling the ListObjects operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:36.810" starttime="20191114 01:29:36.809"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:36.811" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:29:36.812" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:29:36.812" starttime="20191114 01:29:36.811"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:36.812" starttime="20191114 01:29:32.806"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:36.813" starttime="20191114 01:29:32.805"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:36.813" critical="yes" starttime="20191114 01:29:29.891">255 != 0</status>
</test>
<test id="s1-s7-t3" name="Delete dir with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:36.819" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:36.826" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:29:36.826" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:29:36.826" starttime="20191114 01:29:36.817"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:36.828" starttime="20191114 01:29:36.827"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:36.831" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:37.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:37.029" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:29:37.029" starttime="20191114 01:29:36.829"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:37.033" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:37.805" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:37.805" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Packag...</msg>
<status status="PASS" endtime="20191114 01:29:37.805" starttime="20191114 01:29:37.032"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:37.806" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:29:37.806" starttime="20191114 01:29:37.806"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:37.807" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:37.807" starttime="20191114 01:29:37.807"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:37.808" starttime="20191114 01:29:37.031"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:37.808" starttime="20191114 01:29:37.031"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:37.808" starttime="20191114 01:29:37.030"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:37.808" starttime="20191114 01:29:36.816"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:37.808" starttime="20191114 01:29:36.815"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:37.810" starttime="20191114 01:29:37.810"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:37.811" starttime="20191114 01:29:37.810"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:37.814" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:38.296" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:38.296" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:38.296" starttime="20191114 01:29:37.812"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:38.298" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:38.298" starttime="20191114 01:29:38.297"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:38.298" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:38.298" starttime="20191114 01:29:38.298"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:38.299" starttime="20191114 01:29:37.812"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:38.301" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:38.756" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:38.756" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:38.756" starttime="20191114 01:29:38.300"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:38.758" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:38.758" starttime="20191114 01:29:38.757"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:38.759" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:38.760" starttime="20191114 01:29:38.759"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:38.760" starttime="20191114 01:29:38.299"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:38.763" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:39.250" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:39.250" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:39.250" starttime="20191114 01:29:38.761"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:39.251" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:39.252" starttime="20191114 01:29:39.251"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:39.253" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:39.254" starttime="20191114 01:29:39.252"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:39.254" starttime="20191114 01:29:38.760"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:39.257" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:39.669" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:39.669" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:39.670" starttime="20191114 01:29:39.255"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:39.671" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:39.672" starttime="20191114 01:29:39.670"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:39.673" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:39.673" starttime="20191114 01:29:39.672"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:39.674" starttime="20191114 01:29:39.254"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:39.674" starttime="20191114 01:29:37.811"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:39.674" starttime="20191114 01:29:37.811"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:39.674" starttime="20191114 01:29:37.809"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:39.675" starttime="20191114 01:29:37.808"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:39.676" starttime="20191114 01:29:39.675"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:39.676" starttime="20191114 01:29:36.815"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:39.680" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 01:29:39.695" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:39.695" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:39.696" starttime="20191114 01:29:39.678"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:39.697" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:39.697" starttime="20191114 01:29:39.696"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:39.698" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:39.698" starttime="20191114 01:29:39.698"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:39.699" starttime="20191114 01:29:39.677"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/deletetestapidir/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:39.703" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-32877/deletetestapidir/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:47.176" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:29:47.176" level="INFO">${output} = Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-32877/deletetestapidir/f1 An error occurred (500) when calling the PutObject operation...</msg>
<status status="PASS" endtime="20191114 01:29:47.176" starttime="20191114 01:29:39.701"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:47.178" level="INFO">Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-32877/deletetestapidir/f1 An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:47.178" starttime="20191114 01:29:47.177"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:47.179" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:29:47.180" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 01:29:47.180" starttime="20191114 01:29:47.179"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:47.181" starttime="20191114 01:29:39.700"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:47.181" starttime="20191114 01:29:39.699"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:47.182" critical="yes" starttime="20191114 01:29:36.814">1 != 0</status>
</test>
<test id="s1-s7-t4" name="Delete file with s3api, file doesn't exist, prefix of a real file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:47.189" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:47.194" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:29:47.194" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:29:47.194" starttime="20191114 01:29:47.186"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:47.197" starttime="20191114 01:29:47.195"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:47.199" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:47.363" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:47.363" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:29:47.363" starttime="20191114 01:29:47.197"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:47.368" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:48.069" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:48.069" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Package...</msg>
<status status="PASS" endtime="20191114 01:29:48.069" starttime="20191114 01:29:47.366"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:48.071" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:29:48.071" starttime="20191114 01:29:48.070"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:48.072" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:48.073" starttime="20191114 01:29:48.072"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:48.073" starttime="20191114 01:29:47.366"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:48.074" starttime="20191114 01:29:47.365"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:48.074" starttime="20191114 01:29:47.364"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:48.074" starttime="20191114 01:29:47.185"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:48.074" starttime="20191114 01:29:47.185"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:48.077" starttime="20191114 01:29:48.077"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:48.078" starttime="20191114 01:29:48.078"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:48.084" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:48.529" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:48.529" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:48.530" starttime="20191114 01:29:48.082"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:48.531" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:48.531" starttime="20191114 01:29:48.530"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:48.532" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:48.532" starttime="20191114 01:29:48.531"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:48.532" starttime="20191114 01:29:48.081"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:48.535" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:49.004" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:49.004" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:49.004" starttime="20191114 01:29:48.533"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:49.006" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:49.006" starttime="20191114 01:29:49.005"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:49.007" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:49.008" starttime="20191114 01:29:49.007"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:49.008" starttime="20191114 01:29:48.532"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:49.012" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:49.532" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:49.532" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:49.533" starttime="20191114 01:29:49.009"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:49.535" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:49.535" starttime="20191114 01:29:49.533"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:49.536" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:49.536" starttime="20191114 01:29:49.535"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:49.537" starttime="20191114 01:29:49.008"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:49.541" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:49.945" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:49.946" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:49.946" starttime="20191114 01:29:49.538"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:49.948" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:49.948" starttime="20191114 01:29:49.947"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:49.949" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:49.949" starttime="20191114 01:29:49.948"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:49.950" starttime="20191114 01:29:49.537"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:49.950" starttime="20191114 01:29:48.079"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:49.950" starttime="20191114 01:29:48.079"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:49.950" starttime="20191114 01:29:48.076"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:49.950" starttime="20191114 01:29:48.075"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:49.952" starttime="20191114 01:29:49.951"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:49.952" starttime="20191114 01:29:47.184"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:49.955" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 01:29:49.961" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:49.961" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:49.961" starttime="20191114 01:29:49.953"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:49.963" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:49.963" starttime="20191114 01:29:49.962"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:49.964" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:49.964" starttime="20191114 01:29:49.964"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:49.965" starttime="20191114 01:29:49.952"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/deletetestapiprefix/filefile</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:49.969" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-32877/deletetestapiprefix/filefile 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:56.446" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:29:56.446" level="INFO">${output} = Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-32877/deletetestapiprefix/filefile An error occurred (500) when calling the PutObject ...</msg>
<status status="PASS" endtime="20191114 01:29:56.446" starttime="20191114 01:29:49.967"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:56.448" level="INFO">Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-32877/deletetestapiprefix/filefile An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:29:56.448" starttime="20191114 01:29:56.447"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:56.448" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:29:56.449" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 01:29:56.449" starttime="20191114 01:29:56.448"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:56.449" starttime="20191114 01:29:49.966"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:56.449" starttime="20191114 01:29:49.965"></status>
</kw>
<status status="FAIL" endtime="20191114 01:29:56.450" critical="yes" starttime="20191114 01:29:47.183">1 != 0</status>
</test>
<test id="s1-s7-t5" name="Delete file with s3api, bucket doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:56.457" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:56.461" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:29:56.461" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:29:56.461" starttime="20191114 01:29:56.454"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:56.462" starttime="20191114 01:29:56.462"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:56.464" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:56.648" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:56.648" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:29:56.648" starttime="20191114 01:29:56.463"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:56.652" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:57.372" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:57.373" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn...</msg>
<status status="PASS" endtime="20191114 01:29:57.373" starttime="20191114 01:29:56.651"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:57.374" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:29:57.374" starttime="20191114 01:29:57.373"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:57.375" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:57.375" starttime="20191114 01:29:57.374"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:57.375" starttime="20191114 01:29:56.650"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:57.375" starttime="20191114 01:29:56.650"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:57.376" starttime="20191114 01:29:56.649"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:57.376" starttime="20191114 01:29:56.453"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:57.376" starttime="20191114 01:29:56.452"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:57.378" starttime="20191114 01:29:57.377"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:57.378" starttime="20191114 01:29:57.378"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:57.382" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:57.858" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:57.858" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:57.858" starttime="20191114 01:29:57.380"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:57.860" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:57.860" starttime="20191114 01:29:57.859"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:57.861" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:57.861" starttime="20191114 01:29:57.860"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:57.861" starttime="20191114 01:29:57.379"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:57.864" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:58.285" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:58.285" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:58.286" starttime="20191114 01:29:57.862"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:58.287" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:58.287" starttime="20191114 01:29:58.286"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:58.288" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:58.288" starttime="20191114 01:29:58.287"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:58.288" starttime="20191114 01:29:57.861"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:58.291" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:58.726" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:58.726" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:58.726" starttime="20191114 01:29:58.289"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:58.728" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:58.728" starttime="20191114 01:29:58.727"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:58.729" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:58.729" starttime="20191114 01:29:58.728"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:58.729" starttime="20191114 01:29:58.289"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:58.732" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:29:59.201" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:29:59.201" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:29:59.201" starttime="20191114 01:29:58.730"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:29:59.204" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:29:59.204" starttime="20191114 01:29:59.202"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:29:59.205" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:29:59.205" starttime="20191114 01:29:59.204"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:59.205" starttime="20191114 01:29:58.729"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:59.206" starttime="20191114 01:29:57.379"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:59.206" starttime="20191114 01:29:57.378"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:59.206" starttime="20191114 01:29:57.377"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:59.206" starttime="20191114 01:29:57.376"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:29:59.207" starttime="20191114 01:29:59.206"></status>
</kw>
<status status="PASS" endtime="20191114 01:29:59.207" starttime="20191114 01:29:56.452"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET}-nosuchbucket --key f1</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:29:59.211" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 delete-object --bucket bucket-32877-nosuchbucket --key f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:11.749" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:30:11.749" level="INFO">${output} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:11.749" starttime="20191114 01:29:59.209"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:11.750" level="INFO">
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:11.751" starttime="20191114 01:30:11.750"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:30:11.751" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:11.752" starttime="20191114 01:30:11.751"></status>
</kw>
<msg timestamp="20191114 01:30:11.752" level="INFO">${output} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:11.752" starttime="20191114 01:29:59.208"></status>
</kw>
<msg timestamp="20191114 01:30:11.752" level="INFO">${result} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:11.752" starttime="20191114 01:29:59.208"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchBucket</arg>
</arguments>
<msg timestamp="20191114 01:30:11.753" level="FAIL">'
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</msg>
<status status="FAIL" endtime="20191114 01:30:11.753" starttime="20191114 01:30:11.753"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:11.754" critical="yes" starttime="20191114 01:29:56.450">'
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:30:11.755" starttime="20191114 01:29:21.230"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectmultidelete.robot" id="s1-s8" name="Objectmultidelete">
<test id="s1-s8-t1" name="Delete file with multi delete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:11.770" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:11.776" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:30:11.776" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:30:11.776" starttime="20191114 01:30:11.768"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:11.777" starttime="20191114 01:30:11.776"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:11.779" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:11.924" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:11.924" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:30:11.924" starttime="20191114 01:30:11.777"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:11.931" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:12.629" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:12.629" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
P...</msg>
<status status="PASS" endtime="20191114 01:30:12.629" starttime="20191114 01:30:11.928"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:12.630" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:30:12.630" starttime="20191114 01:30:12.630"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:12.631" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:12.631" starttime="20191114 01:30:12.631"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:12.632" starttime="20191114 01:30:11.927"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:12.632" starttime="20191114 01:30:11.927"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:12.632" starttime="20191114 01:30:11.925"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:12.632" starttime="20191114 01:30:11.767"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:12.632" starttime="20191114 01:30:11.767"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:12.634" starttime="20191114 01:30:12.634"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:12.635" starttime="20191114 01:30:12.634"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:12.638" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:13.075" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:13.075" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:13.075" starttime="20191114 01:30:12.636"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:13.077" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:13.077" starttime="20191114 01:30:13.076"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:13.077" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:13.078" starttime="20191114 01:30:13.077"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:13.078" starttime="20191114 01:30:12.636"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:13.081" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:13.570" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:13.570" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:13.570" starttime="20191114 01:30:13.079"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:13.572" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:13.572" starttime="20191114 01:30:13.571"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:13.573" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:13.573" starttime="20191114 01:30:13.572"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:13.573" starttime="20191114 01:30:13.078"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:13.576" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:14.044" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:14.044" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:14.044" starttime="20191114 01:30:13.574"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:14.045" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:14.045" starttime="20191114 01:30:14.044"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:14.046" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:14.046" starttime="20191114 01:30:14.045"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:14.046" starttime="20191114 01:30:13.573"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:14.049" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:14.481" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:14.481" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:14.481" starttime="20191114 01:30:14.047"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:14.483" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:14.483" starttime="20191114 01:30:14.482"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:14.484" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:14.484" starttime="20191114 01:30:14.483"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:14.484" starttime="20191114 01:30:14.046"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:14.485" starttime="20191114 01:30:12.635"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:14.485" starttime="20191114 01:30:12.635"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:14.485" starttime="20191114 01:30:12.633"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:14.485" starttime="20191114 01:30:12.632"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:30:14.487" level="INFO">${postfix} = 78673</msg>
<status status="PASS" endtime="20191114 01:30:14.487" starttime="20191114 01:30:14.486"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:30:14.488" level="INFO">${BUCKET} = bucket-78673</msg>
<status status="PASS" endtime="20191114 01:30:14.488" starttime="20191114 01:30:14.487"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:14.491" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-78673 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:26.075" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:30:26.075" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:26.075" starttime="20191114 01:30:14.489"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:26.076" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:26.077" starttime="20191114 01:30:26.076"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:26.077" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:30:26.078" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:30:26.078" starttime="20191114 01:30:26.077"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:26.078" starttime="20191114 01:30:14.488"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:26.079" starttime="20191114 01:30:14.488"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:26.079" starttime="20191114 01:30:14.486"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:26.079" starttime="20191114 01:30:14.485"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:26.080" starttime="20191114 01:30:11.766"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:26.080" critical="yes" starttime="20191114 01:30:11.766">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:30:26.081" starttime="20191114 01:30:11.758"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectputget.robot" id="s1-s9" name="Objectputget">
<test id="s1-s9-t1" name="Put object to s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:26.096" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:26.101" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:30:26.101" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:30:26.101" starttime="20191114 01:30:26.095"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:26.102" starttime="20191114 01:30:26.101"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:26.103" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:26.288" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:26.289" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:30:26.289" starttime="20191114 01:30:26.102"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:26.295" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:27.048" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:27.048" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Pa...</msg>
<status status="PASS" endtime="20191114 01:30:27.048" starttime="20191114 01:30:26.293"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:27.049" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:30:27.049" starttime="20191114 01:30:27.048"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:27.050" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:27.050" starttime="20191114 01:30:27.049"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:27.050" starttime="20191114 01:30:26.292"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:27.051" starttime="20191114 01:30:26.291"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:27.051" starttime="20191114 01:30:26.290"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:27.051" starttime="20191114 01:30:26.094"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:27.051" starttime="20191114 01:30:26.093"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:27.053" starttime="20191114 01:30:27.052"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:27.053" starttime="20191114 01:30:27.053"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:27.057" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:27.505" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:27.505" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:27.505" starttime="20191114 01:30:27.055"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:27.506" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:27.506" starttime="20191114 01:30:27.506"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:27.507" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:27.507" starttime="20191114 01:30:27.506"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:27.507" starttime="20191114 01:30:27.055"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:27.510" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:27.898" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:27.898" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:27.898" starttime="20191114 01:30:27.508"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:27.900" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:27.900" starttime="20191114 01:30:27.899"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:27.901" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:27.901" starttime="20191114 01:30:27.900"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:27.901" starttime="20191114 01:30:27.508"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:27.904" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:28.332" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:28.332" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:28.333" starttime="20191114 01:30:27.902"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:28.334" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:28.335" starttime="20191114 01:30:28.333"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:28.336" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:28.336" starttime="20191114 01:30:28.335"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:28.337" starttime="20191114 01:30:27.902"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:28.340" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:28.845" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:28.845" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:28.845" starttime="20191114 01:30:28.338"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:28.846" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:28.846" starttime="20191114 01:30:28.845"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:28.847" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:28.847" starttime="20191114 01:30:28.846"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:28.847" starttime="20191114 01:30:28.337"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:28.847" starttime="20191114 01:30:27.054"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:28.847" starttime="20191114 01:30:27.054"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:28.847" starttime="20191114 01:30:27.052"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:28.847" starttime="20191114 01:30:27.051"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:30:28.849" level="INFO">${postfix} = 57415</msg>
<status status="PASS" endtime="20191114 01:30:28.849" starttime="20191114 01:30:28.849"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:30:28.850" level="INFO">${BUCKET} = bucket-57415</msg>
<status status="PASS" endtime="20191114 01:30:28.850" starttime="20191114 01:30:28.850"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:28.853" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-57415 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:40.183" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:30:40.183" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:40.183" starttime="20191114 01:30:28.852"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:40.185" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:40.185" starttime="20191114 01:30:40.184"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:40.186" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:30:40.187" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:30:40.187" starttime="20191114 01:30:40.186"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:40.188" starttime="20191114 01:30:28.851"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:40.188" starttime="20191114 01:30:28.850"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:40.189" starttime="20191114 01:30:28.848"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:40.189" starttime="20191114 01:30:28.848"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:40.189" starttime="20191114 01:30:26.093"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:40.190" critical="yes" starttime="20191114 01:30:26.092">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t2" name="Get object from s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:40.195" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:40.201" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:30:40.201" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:30:40.201" starttime="20191114 01:30:40.193"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:40.203" starttime="20191114 01:30:40.202"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:40.205" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:40.386" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:40.386" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:30:40.386" starttime="20191114 01:30:40.204"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:40.392" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:41.118" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:41.118" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keysteal...</msg>
<status status="PASS" endtime="20191114 01:30:41.118" starttime="20191114 01:30:40.390"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:41.119" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:30:41.119" starttime="20191114 01:30:41.118"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:41.120" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:41.120" starttime="20191114 01:30:41.119"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:41.120" starttime="20191114 01:30:40.389"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:41.121" starttime="20191114 01:30:40.388"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:41.121" starttime="20191114 01:30:40.387"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:41.121" starttime="20191114 01:30:40.193"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:41.121" starttime="20191114 01:30:40.192"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:41.123" starttime="20191114 01:30:41.122"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:41.124" starttime="20191114 01:30:41.123"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:41.131" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:41.604" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:41.604" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:41.605" starttime="20191114 01:30:41.128"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:41.606" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:41.607" starttime="20191114 01:30:41.605"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:41.607" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:41.608" starttime="20191114 01:30:41.607"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:41.608" starttime="20191114 01:30:41.126"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:41.612" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:42.061" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:42.061" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:42.061" starttime="20191114 01:30:41.610"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:42.063" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:42.063" starttime="20191114 01:30:42.062"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:42.064" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:42.064" starttime="20191114 01:30:42.063"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:42.065" starttime="20191114 01:30:41.609"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:42.068" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:42.510" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:42.510" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:42.510" starttime="20191114 01:30:42.066"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:42.512" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:42.512" starttime="20191114 01:30:42.511"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:42.513" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:42.513" starttime="20191114 01:30:42.512"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:42.514" starttime="20191114 01:30:42.065"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:42.518" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:42.929" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:42.929" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:42.929" starttime="20191114 01:30:42.515"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:42.931" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:42.931" starttime="20191114 01:30:42.930"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:42.932" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:42.933" starttime="20191114 01:30:42.932"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:42.933" starttime="20191114 01:30:42.514"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:42.934" starttime="20191114 01:30:41.126"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:42.934" starttime="20191114 01:30:41.125"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:42.934" starttime="20191114 01:30:41.122"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:42.934" starttime="20191114 01:30:41.121"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:42.936" starttime="20191114 01:30:42.935"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:42.936" starttime="20191114 01:30:40.191"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 /tmp/testfile.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:42.941" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-57415 --key putobject/f1 /tmp/testfile.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:44.937" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:30:44.937" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:44.937" starttime="20191114 01:30:42.939"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:44.938" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:30:44.938" starttime="20191114 01:30:44.938"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:44.939" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:30:44.939" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:30:44.940" starttime="20191114 01:30:44.939"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:44.940" starttime="20191114 01:30:42.938"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:44.940" starttime="20191114 01:30:42.937"></status>
</kw>
<status status="FAIL" endtime="20191114 01:30:44.940" critical="yes" starttime="20191114 01:30:40.190">255 != 0</status>
</test>
<test id="s1-s9-t3" name="Get Partial object from s3 with both start and endoffset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:44.945" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:44.950" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:30:44.950" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:30:44.950" starttime="20191114 01:30:44.943"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:44.951" starttime="20191114 01:30:44.950"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:44.952" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:45.163" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:45.163" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:30:45.163" starttime="20191114 01:30:44.951"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:45.172" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:45.896" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:45.897" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Package aws...</msg>
<status status="PASS" endtime="20191114 01:30:45.897" starttime="20191114 01:30:45.169"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:45.899" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:30:45.899" starttime="20191114 01:30:45.898"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:45.900" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:45.900" starttime="20191114 01:30:45.899"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:45.901" starttime="20191114 01:30:45.167"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:45.901" starttime="20191114 01:30:45.166"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:45.901" starttime="20191114 01:30:45.164"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:45.901" starttime="20191114 01:30:44.943"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:45.902" starttime="20191114 01:30:44.942"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:45.905" starttime="20191114 01:30:45.904"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:45.906" starttime="20191114 01:30:45.905"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:45.911" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:46.429" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:46.429" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:46.430" starttime="20191114 01:30:45.908"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:46.431" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:46.431" starttime="20191114 01:30:46.430"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:46.432" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:46.432" starttime="20191114 01:30:46.431"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:46.432" starttime="20191114 01:30:45.908"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:46.435" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:46.904" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:46.905" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:46.905" starttime="20191114 01:30:46.433"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:46.906" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:46.906" starttime="20191114 01:30:46.905"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:46.907" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:46.907" starttime="20191114 01:30:46.906"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:46.907" starttime="20191114 01:30:46.433"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:46.910" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:47.382" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:47.383" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:47.383" starttime="20191114 01:30:46.908"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:47.385" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:47.385" starttime="20191114 01:30:47.384"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:47.386" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:47.386" starttime="20191114 01:30:47.385"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:47.387" starttime="20191114 01:30:46.907"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:47.390" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:30:47.813" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:30:47.814" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:30:47.814" starttime="20191114 01:30:47.388"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:30:47.816" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:30:47.816" starttime="20191114 01:30:47.815"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:30:47.817" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:30:47.817" starttime="20191114 01:30:47.816"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:47.818" starttime="20191114 01:30:47.387"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:47.818" starttime="20191114 01:30:45.907"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:47.818" starttime="20191114 01:30:45.906"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:47.818" starttime="20191114 01:30:45.903"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:47.819" starttime="20191114 01:30:45.902"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:30:47.820" starttime="20191114 01:30:47.819"></status>
</kw>
<status status="PASS" endtime="20191114 01:30:47.820" starttime="20191114 01:30:44.942"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-4 /tmp/testfile1.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:30:47.826" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-57415 --key putobject/f1 --range bytes=0-4 /tmp/testfile1.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:01.127" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:31:01.127" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:01.127" starttime="20191114 01:30:47.823"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:01.129" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:01.129" starttime="20191114 01:31:01.128"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:01.129" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:31:01.130" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:31:01.130" starttime="20191114 01:31:01.129"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:01.130" starttime="20191114 01:30:47.822"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:01.130" starttime="20191114 01:30:47.821"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:01.131" critical="yes" starttime="20191114 01:30:44.941">255 != 0</status>
</test>
<test id="s1-s9-t4" name="Get Partial object from s3 with both start and endoffset(start offset and endoffset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:01.135" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:01.140" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:31:01.140" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:31:01.140" starttime="20191114 01:31:01.134"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:01.141" starttime="20191114 01:31:01.140"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:01.142" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:01.295" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:01.295" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:31:01.295" starttime="20191114 01:31:01.141"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:01.299" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:01.938" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:01.939" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
...</msg>
<status status="PASS" endtime="20191114 01:31:01.939" starttime="20191114 01:31:01.298"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:01.940" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:31:01.940" starttime="20191114 01:31:01.939"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:01.941" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:01.941" starttime="20191114 01:31:01.940"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:01.941" starttime="20191114 01:31:01.297"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:01.942" starttime="20191114 01:31:01.297"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:01.942" starttime="20191114 01:31:01.296"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:01.942" starttime="20191114 01:31:01.134"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:01.942" starttime="20191114 01:31:01.133"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:01.944" starttime="20191114 01:31:01.944"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:01.945" starttime="20191114 01:31:01.945"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:01.949" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:02.396" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:02.396" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:02.396" starttime="20191114 01:31:01.947"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:02.398" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:02.398" starttime="20191114 01:31:02.397"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:02.399" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:02.399" starttime="20191114 01:31:02.398"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:02.400" starttime="20191114 01:31:01.946"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:02.402" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:02.811" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:02.812" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:02.812" starttime="20191114 01:31:02.401"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:02.813" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:02.813" starttime="20191114 01:31:02.812"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:02.814" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:02.814" starttime="20191114 01:31:02.813"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:02.814" starttime="20191114 01:31:02.400"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:02.817" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:03.272" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:03.272" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:03.272" starttime="20191114 01:31:02.815"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:03.273" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:03.274" starttime="20191114 01:31:03.273"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:03.275" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:03.275" starttime="20191114 01:31:03.274"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:03.275" starttime="20191114 01:31:02.814"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:03.277" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:03.669" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:03.670" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:03.670" starttime="20191114 01:31:03.276"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:03.671" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:03.671" starttime="20191114 01:31:03.670"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:03.672" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:03.672" starttime="20191114 01:31:03.671"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:03.672" starttime="20191114 01:31:03.275"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:03.672" starttime="20191114 01:31:01.946"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:03.672" starttime="20191114 01:31:01.945"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:03.673" starttime="20191114 01:31:01.943"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:03.673" starttime="20191114 01:31:01.942"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:03.673" starttime="20191114 01:31:03.673"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:03.674" starttime="20191114 01:31:01.132"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=10000-10000 /tmp/testfile2.result</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:03.677" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-57415 --key putobject/f1 --range bytes=10000-10000 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:10.184" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:31:10.184" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:10.185" starttime="20191114 01:31:03.675"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:10.187" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:10.187" starttime="20191114 01:31:10.186"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:31:10.188" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:10.188" starttime="20191114 01:31:10.187"></status>
</kw>
<msg timestamp="20191114 01:31:10.189" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:10.189" starttime="20191114 01:31:03.675"></status>
</kw>
<msg timestamp="20191114 01:31:10.190" level="INFO">${result} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:10.190" starttime="20191114 01:31:03.674"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>InvalidRange</arg>
</arguments>
<msg timestamp="20191114 01:31:10.191" level="FAIL">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</msg>
<status status="FAIL" endtime="20191114 01:31:10.191" starttime="20191114 01:31:10.190"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:10.192" critical="yes" starttime="20191114 01:31:01.131">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</status>
</test>
<test id="s1-s9-t5" name="Get Partial object from s3 with both start and endoffset(end offset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:10.199" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:10.204" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:31:10.204" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:31:10.204" starttime="20191114 01:31:10.196"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:10.206" starttime="20191114 01:31:10.205"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:10.208" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:10.390" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:10.391" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:31:10.391" starttime="20191114 01:31:10.207"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:10.397" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:12.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:12.132" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn...</msg>
<status status="PASS" endtime="20191114 01:31:12.132" starttime="20191114 01:31:10.395"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:12.134" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:31:12.134" starttime="20191114 01:31:12.133"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:12.135" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:12.136" starttime="20191114 01:31:12.135"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:12.136" starttime="20191114 01:31:10.394"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:12.136" starttime="20191114 01:31:10.393"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:12.137" starttime="20191114 01:31:10.392"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:12.137" starttime="20191114 01:31:10.196"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:12.137" starttime="20191114 01:31:10.195"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:12.140" starttime="20191114 01:31:12.139"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:12.141" starttime="20191114 01:31:12.140"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:12.146" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:12.606" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:12.606" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:12.606" starttime="20191114 01:31:12.144"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:12.608" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:12.609" starttime="20191114 01:31:12.607"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:12.610" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:12.610" starttime="20191114 01:31:12.609"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:12.610" starttime="20191114 01:31:12.143"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:12.614" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:13.044" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:13.044" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:13.045" starttime="20191114 01:31:12.612"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:13.046" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:13.046" starttime="20191114 01:31:13.045"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:13.047" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:13.047" starttime="20191114 01:31:13.047"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:13.048" starttime="20191114 01:31:12.611"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:13.051" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:13.539" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:13.540" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:13.540" starttime="20191114 01:31:13.049"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:13.542" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:13.542" starttime="20191114 01:31:13.541"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:13.543" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:13.543" starttime="20191114 01:31:13.542"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:13.544" starttime="20191114 01:31:13.048"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:13.547" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:14.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:14.027" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:14.027" starttime="20191114 01:31:13.545"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:14.028" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:14.028" starttime="20191114 01:31:14.027"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:14.029" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:14.029" starttime="20191114 01:31:14.029"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:14.030" starttime="20191114 01:31:13.544"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:14.030" starttime="20191114 01:31:12.142"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:14.030" starttime="20191114 01:31:12.141"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:14.030" starttime="20191114 01:31:12.138"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:14.031" starttime="20191114 01:31:12.137"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:14.031" starttime="20191114 01:31:14.031"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:14.032" starttime="20191114 01:31:10.194"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-10000 /tmp/testfile2.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:14.036" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-57415 --key putobject/f1 --range bytes=0-10000 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:21.892" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:31:21.892" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:21.892" starttime="20191114 01:31:14.034"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:21.894" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:21.895" starttime="20191114 01:31:21.893"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:21.896" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:31:21.896" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:31:21.896" starttime="20191114 01:31:21.895"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:21.897" starttime="20191114 01:31:14.033"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:21.897" starttime="20191114 01:31:14.032"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:21.898" critical="yes" starttime="20191114 01:31:10.193">255 != 0</status>
</test>
<test id="s1-s9-t6" name="Get Partial object from s3 with only start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:21.904" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:21.909" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:31:21.909" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:31:21.909" starttime="20191114 01:31:21.902"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:21.911" starttime="20191114 01:31:21.910"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:21.912" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:22.103" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:22.103" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:31:22.103" starttime="20191114 01:31:21.911"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:22.109" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:22.848" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:22.848" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
P...</msg>
<status status="PASS" endtime="20191114 01:31:22.848" starttime="20191114 01:31:22.107"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:22.850" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:31:22.850" starttime="20191114 01:31:22.849"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:22.850" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:22.850" starttime="20191114 01:31:22.850"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:22.851" starttime="20191114 01:31:22.106"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:22.851" starttime="20191114 01:31:22.105"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:22.851" starttime="20191114 01:31:22.104"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:22.851" starttime="20191114 01:31:21.901"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:22.851" starttime="20191114 01:31:21.901"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:22.853" starttime="20191114 01:31:22.853"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:22.854" starttime="20191114 01:31:22.853"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:22.857" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:23.295" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:23.295" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:23.295" starttime="20191114 01:31:22.855"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:23.297" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:23.297" starttime="20191114 01:31:23.296"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:23.297" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:23.298" starttime="20191114 01:31:23.297"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:23.298" starttime="20191114 01:31:22.855"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:23.300" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:23.730" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:23.730" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:23.730" starttime="20191114 01:31:23.299"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:23.731" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:23.731" starttime="20191114 01:31:23.730"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:23.732" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:23.732" starttime="20191114 01:31:23.731"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:23.732" starttime="20191114 01:31:23.298"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:23.735" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:24.180" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:24.180" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:24.180" starttime="20191114 01:31:23.733"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:24.182" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:24.182" starttime="20191114 01:31:24.181"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:24.183" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:24.184" starttime="20191114 01:31:24.183"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:24.184" starttime="20191114 01:31:23.733"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:24.188" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:24.663" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:24.663" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:24.664" starttime="20191114 01:31:24.186"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:24.665" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:24.665" starttime="20191114 01:31:24.664"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:24.666" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:24.666" starttime="20191114 01:31:24.665"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:24.666" starttime="20191114 01:31:24.185"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:24.667" starttime="20191114 01:31:22.855"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:24.667" starttime="20191114 01:31:22.854"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:24.667" starttime="20191114 01:31:22.852"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:24.667" starttime="20191114 01:31:22.852"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:24.668" starttime="20191114 01:31:24.668"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:24.668" starttime="20191114 01:31:21.900"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0- /tmp/testfile3.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:24.672" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-57415 --key putobject/f1 --range bytes=0- /tmp/testfile3.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:30.420" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:31:30.420" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:30.420" starttime="20191114 01:31:24.670"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:30.422" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:30.422" starttime="20191114 01:31:30.421"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:30.422" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:31:30.423" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:31:30.423" starttime="20191114 01:31:30.422"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:30.423" starttime="20191114 01:31:24.670"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:30.424" starttime="20191114 01:31:24.669"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:30.424" critical="yes" starttime="20191114 01:31:21.899">255 != 0</status>
</test>
<test id="s1-s9-t7" name="Get Partial object from s3 with both start and endoffset which are equal">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:30.429" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:30.437" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:31:30.437" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:31:30.438" starttime="20191114 01:31:30.428"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:30.440" starttime="20191114 01:31:30.438"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:30.442" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:30.684" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:30.685" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:31:30.685" starttime="20191114 01:31:30.440"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:30.691" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:31.442" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:31.443" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth....</msg>
<status status="PASS" endtime="20191114 01:31:31.443" starttime="20191114 01:31:30.689"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:31.444" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:31:31.445" starttime="20191114 01:31:31.444"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:31.446" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:31.446" starttime="20191114 01:31:31.445"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:31.446" starttime="20191114 01:31:30.688"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:31.447" starttime="20191114 01:31:30.687"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:31.447" starttime="20191114 01:31:30.686"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:31.447" starttime="20191114 01:31:30.427"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:31.447" starttime="20191114 01:31:30.426"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:31.450" starttime="20191114 01:31:31.449"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:31.451" starttime="20191114 01:31:31.450"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:31.455" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:31.960" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:31.960" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:31.960" starttime="20191114 01:31:31.453"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:31.962" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:31.962" starttime="20191114 01:31:31.961"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:31.963" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:31.963" starttime="20191114 01:31:31.963"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:31.964" starttime="20191114 01:31:31.452"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:31.968" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:32.436" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:32.437" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:32.437" starttime="20191114 01:31:31.965"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:32.439" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:32.439" starttime="20191114 01:31:32.438"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:32.440" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:32.440" starttime="20191114 01:31:32.439"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:32.441" starttime="20191114 01:31:31.964"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:32.444" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:32.903" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:32.904" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:32.904" starttime="20191114 01:31:32.442"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:32.906" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:32.906" starttime="20191114 01:31:32.905"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:32.908" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:32.908" starttime="20191114 01:31:32.906"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:32.909" starttime="20191114 01:31:32.441"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:32.913" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:33.421" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:33.421" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:33.421" starttime="20191114 01:31:32.910"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:33.423" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:33.424" starttime="20191114 01:31:33.422"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:33.425" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:33.425" starttime="20191114 01:31:33.424"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:33.426" starttime="20191114 01:31:32.909"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:33.426" starttime="20191114 01:31:31.452"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:33.426" starttime="20191114 01:31:31.451"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:33.427" starttime="20191114 01:31:31.448"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:33.427" starttime="20191114 01:31:31.447"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:33.428" starttime="20191114 01:31:33.427"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:33.428" starttime="20191114 01:31:30.426"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-0 /tmp/testfile4.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:33.434" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-57415 --key putobject/f1 --range bytes=0-0 /tmp/testfile4.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:45.445" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:31:45.446" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:45.446" starttime="20191114 01:31:33.431"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:45.447" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:31:45.448" starttime="20191114 01:31:45.447"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:45.449" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:31:45.450" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:31:45.450" starttime="20191114 01:31:45.448"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:45.451" starttime="20191114 01:31:33.430"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:45.452" starttime="20191114 01:31:33.429"></status>
</kw>
<status status="FAIL" endtime="20191114 01:31:45.452" critical="yes" starttime="20191114 01:31:30.425">255 != 0</status>
</test>
<test id="s1-s9-t8" name="Get Partial object from s3 to get last n bytes">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:45.459" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:45.465" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:31:45.466" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:31:45.466" starttime="20191114 01:31:45.457"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:45.468" starttime="20191114 01:31:45.467"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:45.470" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:45.652" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:45.652" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:31:45.652" starttime="20191114 01:31:45.468"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:45.658" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:46.422" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:46.423" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth....</msg>
<status status="PASS" endtime="20191114 01:31:46.423" starttime="20191114 01:31:45.656"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:46.425" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:31:46.425" starttime="20191114 01:31:46.424"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:46.426" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:46.426" starttime="20191114 01:31:46.425"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:46.427" starttime="20191114 01:31:45.655"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:46.427" starttime="20191114 01:31:45.654"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:46.427" starttime="20191114 01:31:45.653"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:46.428" starttime="20191114 01:31:45.456"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:46.428" starttime="20191114 01:31:45.456"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:46.431" starttime="20191114 01:31:46.430"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:46.431" starttime="20191114 01:31:46.431"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:46.436" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:46.877" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:46.877" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:46.877" starttime="20191114 01:31:46.434"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:46.879" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:46.879" starttime="20191114 01:31:46.878"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:46.880" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:46.880" starttime="20191114 01:31:46.879"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:46.881" starttime="20191114 01:31:46.433"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:46.884" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:47.385" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:47.385" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:47.385" starttime="20191114 01:31:46.882"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:47.387" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:47.387" starttime="20191114 01:31:47.386"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:47.388" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:47.388" starttime="20191114 01:31:47.388"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:47.389" starttime="20191114 01:31:46.881"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:47.392" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:49.115" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:49.115" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:49.115" starttime="20191114 01:31:47.390"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:49.117" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:49.117" starttime="20191114 01:31:49.116"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:49.118" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:49.118" starttime="20191114 01:31:49.117"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:49.118" starttime="20191114 01:31:47.389"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:49.121" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:31:50.333" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:31:50.333" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:31:50.333" starttime="20191114 01:31:49.119"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:31:50.335" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:31:50.335" starttime="20191114 01:31:50.334"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:31:50.336" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:31:50.336" starttime="20191114 01:31:50.335"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:50.337" starttime="20191114 01:31:49.118"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:50.337" starttime="20191114 01:31:46.432"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:50.337" starttime="20191114 01:31:46.432"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:50.338" starttime="20191114 01:31:46.429"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:50.338" starttime="20191114 01:31:46.428"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:31:50.339" starttime="20191114 01:31:50.338"></status>
</kw>
<status status="PASS" endtime="20191114 01:31:50.339" starttime="20191114 01:31:45.455"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=-4 /tmp/testfile6.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:31:50.344" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-57415 --key putobject/f1 --range bytes=-4 /tmp/testfile6.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:00.606" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:32:00.606" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:00.606" starttime="20191114 01:31:50.342"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:00.608" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:00.608" starttime="20191114 01:32:00.607"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:00.609" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:32:00.610" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:32:00.610" starttime="20191114 01:32:00.608"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:00.610" starttime="20191114 01:31:50.341"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:00.611" starttime="20191114 01:31:50.340"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:00.611" critical="yes" starttime="20191114 01:31:45.453">255 != 0</status>
</test>
<test id="s1-s9-t9" name="Incorrect values for end and start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:00.617" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:00.624" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:32:00.625" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:32:00.625" starttime="20191114 01:32:00.615"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:01.656" starttime="20191114 01:32:00.626"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:01.660" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:01.834" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:01.834" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:32:01.835" starttime="20191114 01:32:01.657"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:01.842" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:02.569" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:02.570" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.fileplan...</msg>
<status status="PASS" endtime="20191114 01:32:02.570" starttime="20191114 01:32:01.838"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:02.571" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:32:02.572" starttime="20191114 01:32:02.570"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:02.572" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:02.573" starttime="20191114 01:32:02.572"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:02.573" starttime="20191114 01:32:01.838"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:02.573" starttime="20191114 01:32:01.837"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:02.574" starttime="20191114 01:32:01.835"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:02.574" starttime="20191114 01:32:00.614"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:02.574" starttime="20191114 01:32:00.614"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:02.577" starttime="20191114 01:32:02.576"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:02.578" starttime="20191114 01:32:02.577"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:02.582" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:03.080" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:03.080" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:03.080" starttime="20191114 01:32:02.580"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:03.082" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:03.082" starttime="20191114 01:32:03.081"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:03.084" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:03.084" starttime="20191114 01:32:03.083"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:03.084" starttime="20191114 01:32:02.579"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:03.089" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:03.554" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:03.554" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:03.554" starttime="20191114 01:32:03.086"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:03.556" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:03.556" starttime="20191114 01:32:03.555"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:03.557" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:03.557" starttime="20191114 01:32:03.556"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:03.557" starttime="20191114 01:32:03.085"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:03.560" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:06.124" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:06.125" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:06.125" starttime="20191114 01:32:03.558"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:06.127" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:06.127" starttime="20191114 01:32:06.126"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:06.128" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:06.128" starttime="20191114 01:32:06.127"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:06.128" starttime="20191114 01:32:03.558"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:06.132" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:07.101" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:07.102" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:07.102" starttime="20191114 01:32:06.130"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:07.103" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:07.103" starttime="20191114 01:32:07.102"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:07.104" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:07.104" starttime="20191114 01:32:07.103"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:07.104" starttime="20191114 01:32:06.129"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:07.104" starttime="20191114 01:32:02.579"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:07.105" starttime="20191114 01:32:02.578"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:07.105" starttime="20191114 01:32:02.575"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:07.105" starttime="20191114 01:32:02.574"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:07.106" starttime="20191114 01:32:07.105"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:07.106" starttime="20191114 01:32:00.613"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=-11-10000 /tmp/testfile8.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:07.109" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-57415 --key putobject/f1 --range bytes=-11-10000 /tmp/testfile8.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:18.788" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:32:18.788" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:18.788" starttime="20191114 01:32:07.108"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:18.790" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:18.790" starttime="20191114 01:32:18.789"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:18.791" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:32:18.791" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:32:18.791" starttime="20191114 01:32:18.790"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:18.792" starttime="20191114 01:32:07.107"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:18.792" starttime="20191114 01:32:07.106"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:18.792" critical="yes" starttime="20191114 01:32:00.612">255 != 0</status>
</test>
<test id="s1-s9-t10" name="Zero byte file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:18.798" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:18.805" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:32:18.805" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:32:18.805" starttime="20191114 01:32:18.796"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:18.806" starttime="20191114 01:32:18.806"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:18.808" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:19.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:19.007" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:32:19.007" starttime="20191114 01:32:18.807"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:19.014" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:19.781" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:19.781" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Packag...</msg>
<status status="PASS" endtime="20191114 01:32:19.781" starttime="20191114 01:32:19.011"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:19.783" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:32:19.783" starttime="20191114 01:32:19.782"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:19.784" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:19.785" starttime="20191114 01:32:19.784"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:19.785" starttime="20191114 01:32:19.010"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:19.786" starttime="20191114 01:32:19.009"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:19.786" starttime="20191114 01:32:19.008"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:19.786" starttime="20191114 01:32:18.796"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:19.786" starttime="20191114 01:32:18.794"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:19.790" starttime="20191114 01:32:19.789"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:19.791" starttime="20191114 01:32:19.790"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:19.796" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:20.247" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:20.248" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:20.248" starttime="20191114 01:32:19.794"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:20.250" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:20.250" starttime="20191114 01:32:20.249"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:20.251" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:20.251" starttime="20191114 01:32:20.250"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:20.252" starttime="20191114 01:32:19.793"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:20.256" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:20.733" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:20.733" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:20.733" starttime="20191114 01:32:20.254"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:20.735" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:20.735" starttime="20191114 01:32:20.734"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:20.736" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:20.736" starttime="20191114 01:32:20.736"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:20.737" starttime="20191114 01:32:20.252"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:20.740" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:25.679" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:25.680" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:29.232" starttime="20191114 01:32:20.738"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:29.234" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:29.235" starttime="20191114 01:32:29.233"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:29.237" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:29.237" starttime="20191114 01:32:29.235"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:29.238" starttime="20191114 01:32:20.737"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:29.241" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:29.714" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:29.714" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:29.714" starttime="20191114 01:32:29.239"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:29.715" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:29.715" starttime="20191114 01:32:29.715"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:29.716" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:29.716" starttime="20191114 01:32:29.715"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:29.716" starttime="20191114 01:32:29.238"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:29.717" starttime="20191114 01:32:19.792"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:29.717" starttime="20191114 01:32:19.791"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:29.717" starttime="20191114 01:32:19.788"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:29.717" starttime="20191114 01:32:19.787"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:29.718" starttime="20191114 01:32:29.717"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:29.718" starttime="20191114 01:32:18.794"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/zerobyte --range bytes=0-0 /tmp/testfile2.result</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:29.721" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-57415 --key putobject/zerobyte --range bytes=0-0 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:39.504" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:32:39.504" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:39.504" starttime="20191114 01:32:29.720"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:39.506" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:39.507" starttime="20191114 01:32:39.505"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:32:39.508" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:39.508" starttime="20191114 01:32:39.507"></status>
</kw>
<msg timestamp="20191114 01:32:39.509" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:39.509" starttime="20191114 01:32:29.719"></status>
</kw>
<msg timestamp="20191114 01:32:39.509" level="INFO">${result} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:39.510" starttime="20191114 01:32:29.718"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>InvalidRange</arg>
</arguments>
<msg timestamp="20191114 01:32:39.511" level="FAIL">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</msg>
<status status="FAIL" endtime="20191114 01:32:39.511" starttime="20191114 01:32:39.510"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:39.512" critical="yes" starttime="20191114 01:32:18.793">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:32:39.515" starttime="20191114 01:30:26.083"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/webui.robot" id="s1-s10" name="Webui">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:39.541" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:39.549" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:32:39.549" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:32:39.549" starttime="20191114 01:32:39.538"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:42.720" starttime="20191114 01:32:39.550"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:42.723" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:42.919" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:42.919" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:32:42.919" starttime="20191114 01:32:42.720"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:42.926" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:43.647" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:43.647" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
P...</msg>
<status status="PASS" endtime="20191114 01:32:43.647" starttime="20191114 01:32:42.923"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:43.649" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirrors.xtom.com
 * epel: mirrors.kernel.org
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:32:43.649" starttime="20191114 01:32:43.648"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:43.650" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:43.650" starttime="20191114 01:32:43.650"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:43.651" starttime="20191114 01:32:42.922"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:43.651" starttime="20191114 01:32:42.922"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:43.651" starttime="20191114 01:32:42.920"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:43.652" starttime="20191114 01:32:39.538"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:43.652" starttime="20191114 01:32:39.537"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:43.654" starttime="20191114 01:32:43.654"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:32:43.655" starttime="20191114 01:32:43.655"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:43.660" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:44.147" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:44.147" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:44.147" starttime="20191114 01:32:43.658"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:44.149" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:44.149" starttime="20191114 01:32:44.148"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:44.149" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:44.149" starttime="20191114 01:32:44.149"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:44.150" starttime="20191114 01:32:43.657"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:44.152" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:44.573" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:44.573" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:44.573" starttime="20191114 01:32:44.150"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:44.575" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:44.575" starttime="20191114 01:32:44.574"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:44.576" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:44.576" starttime="20191114 01:32:44.575"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:44.577" starttime="20191114 01:32:44.150"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:44.580" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:45.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:45.053" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:45.053" starttime="20191114 01:32:44.578"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:45.054" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:45.054" starttime="20191114 01:32:45.054"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:45.055" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:45.055" starttime="20191114 01:32:45.055"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:45.056" starttime="20191114 01:32:44.577"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:45.059" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:45.471" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:32:45.472" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:32:45.472" starttime="20191114 01:32:45.057"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:45.474" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:32:45.474" starttime="20191114 01:32:45.472"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:45.475" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:32:45.475" starttime="20191114 01:32:45.474"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:45.475" starttime="20191114 01:32:45.056"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:45.475" starttime="20191114 01:32:43.656"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:45.475" starttime="20191114 01:32:43.656"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:45.476" starttime="20191114 01:32:43.653"></status>
</kw>
<status status="PASS" endtime="20191114 01:32:45.476" starttime="20191114 01:32:43.652"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:32:45.477" level="INFO">${postfix} = 70300</msg>
<status status="PASS" endtime="20191114 01:32:45.477" starttime="20191114 01:32:45.477"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:32:45.478" level="INFO">${BUCKET} = bucket-70300</msg>
<status status="PASS" endtime="20191114 01:32:45.478" starttime="20191114 01:32:45.478"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:32:45.481" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-70300 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:32:55.151" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:32:55.151" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:55.151" starttime="20191114 01:32:45.479"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:32:55.152" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:32:55.152" starttime="20191114 01:32:55.152"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:32:55.153" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:32:55.154" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:32:55.154" starttime="20191114 01:32:55.153"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:55.154" starttime="20191114 01:32:45.479"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:55.154" starttime="20191114 01:32:45.478"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:55.155" starttime="20191114 01:32:45.476"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:55.155" starttime="20191114 01:32:45.476"></status>
</kw>
<status status="FAIL" endtime="20191114 01:32:55.155" starttime="20191114 01:32:39.537"></status>
</kw>
<test id="s1-s10-t1" name="S3 Gateway Web UI">
<status status="FAIL" endtime="20191114 01:32:55.156" critical="yes" starttime="20191114 01:32:55.155">Parent suite setup failed:
255 != 0</status>
</test>
<doc>S3 gateway web ui test</doc>
<status status="FAIL" endtime="20191114 01:32:55.157" starttime="20191114 01:32:39.524">Suite setup failed:
255 != 0</status>
</suite>
<status status="FAIL" endtime="20191114 01:32:55.164" starttime="20191114 01:21:19.738"></status>
</suite>
<statistics>
<total>
<stat fail="36" pass="1">Critical Tests</stat>
<stat fail="36" pass="1">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="36" id="s1" name="ozones3-s3" pass="1">ozones3-s3</stat>
<stat fail="1" id="s1-s1" name="Awss3" pass="0">ozones3-s3.Awss3</stat>
<stat fail="1" id="s1-s2" name="Bucketcreate" pass="0">ozones3-s3.Bucketcreate</stat>
<stat fail="1" id="s1-s3" name="Buckethead" pass="0">ozones3-s3.Buckethead</stat>
<stat fail="1" id="s1-s4" name="Bucketlist" pass="0">ozones3-s3.Bucketlist</stat>
<stat fail="11" id="s1-s5" name="MultipartUpload" pass="1">ozones3-s3.MultipartUpload</stat>
<stat fail="4" id="s1-s6" name="Objectcopy" pass="0">ozones3-s3.Objectcopy</stat>
<stat fail="5" id="s1-s7" name="Objectdelete" pass="0">ozones3-s3.Objectdelete</stat>
<stat fail="1" id="s1-s8" name="Objectmultidelete" pass="0">ozones3-s3.Objectmultidelete</stat>
<stat fail="10" id="s1-s9" name="Objectputget" pass="0">ozones3-s3.Objectputget</stat>
<stat fail="1" id="s1-s10" name="Webui" pass="0">ozones3-s3.Webui</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
