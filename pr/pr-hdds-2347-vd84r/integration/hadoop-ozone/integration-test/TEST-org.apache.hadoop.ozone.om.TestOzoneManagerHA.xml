<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report.xsd" name="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="551.171" tests="27" errors="5" skipped="0" failures="0">
  <properties>
    <property name="awt.toolkit" value="sun.awt.X11.XToolkit"/>
    <property name="file.encoding.pkg" value="sun.io"/>
    <property name="java.specification.version" value="1.8"/>
    <property name="sun.cpu.isalist" value=""/>
    <property name="sun.jnu.encoding" value="ANSI_X3.4-1968"/>
    <property name="java.class.path" value="/workdir/hadoop-ozone/integration-test/target/test-classes:/workdir/hadoop-ozone/integration-test/target/classes:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-common/0.5.0-SNAPSHOT/hadoop-ozone-common-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/commons/commons-compress/1.4.1/commons-compress-1.4.1.jar:/home/user/.m2/repository/org/tukaani/xz/1.0/xz-1.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-common/3.2.0/hadoop-common-3.2.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdfs/3.2.0/hadoop-hdfs-3.2.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdfs-client/3.2.0/hadoop-hdfs-client-3.2.0.jar:/home/user/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.9/jackson-annotations-2.9.9.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/0.5.0-SNAPSHOT/hadoop-hdds-common-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/javax/annotation/javax.annotation-api/1.2/javax.annotation-api-1.2.jar:/home/user/.m2/repository/org/apache/ratis/ratis-server/0.5.0-ced7dbf-SNAPSHOT/ratis-server-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/0.2.0/ratis-thirdparty-misc-0.2.0.jar:/home/user/.m2/repository/org/apache/ratis/ratis-proto/0.5.0-ced7dbf-SNAPSHOT/ratis-proto-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-common/0.5.0-ced7dbf-SNAPSHOT/ratis-common-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-client/0.5.0-ced7dbf-SNAPSHOT/ratis-client-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-metrics/0.5.0-ced7dbf-SNAPSHOT/ratis-metrics-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-netty/0.5.0-ced7dbf-SNAPSHOT/ratis-netty-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-grpc/0.5.0-ced7dbf-SNAPSHOT/ratis-grpc-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/rocksdb/rocksdbjni/6.0.1/rocksdbjni-6.0.1.jar:/home/user/.m2/repository/org/apache/logging/log4j/log4j-api/2.11.0/log4j-api-2.11.0.jar:/home/user/.m2/repository/org/apache/logging/log4j/log4j-core/2.11.0/log4j-core-2.11.0.jar:/home/user/.m2/repository/com/lmax/disruptor/3.4.2/disruptor-3.4.2.jar:/home/user/.m2/repository/org/apache/commons/commons-pool2/2.6.0/commons-pool2-2.6.0.jar:/home/user/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/home/user/.m2/repository/commons-validator/commons-validator/1.6/commons-validator-1.6.jar:/home/user/.m2/repository/commons-digester/commons-digester/1.8.1/commons-digester-1.8.1.jar:/home/user/.m2/repository/io/jaegertracing/jaeger-client/0.34.0/jaeger-client-0.34.0.jar:/home/user/.m2/repository/io/jaegertracing/jaeger-thrift/0.34.0/jaeger-thrift-0.34.0.jar:/home/user/.m2/repository/org/apache/thrift/libthrift/0.12.0/libthrift-0.12.0.jar:/home/user/.m2/repository/com/squareup/okhttp3/okhttp/3.9.0/okhttp-3.9.0.jar:/home/user/.m2/repository/com/squareup/okio/okio/1.13.0/okio-1.13.0.jar:/home/user/.m2/repository/io/jaegertracing/jaeger-core/0.34.0/jaeger-core-0.34.0.jar:/home/user/.m2/repository/io/jaegertracing/jaeger-tracerresolver/0.34.0/jaeger-tracerresolver-0.34.0.jar:/home/user/.m2/repository/io/opentracing/contrib/opentracing-tracerresolver/0.1.5/opentracing-tracerresolver-0.1.5.jar:/home/user/.m2/repository/io/opentracing/opentracing-util/0.31.0/opentracing-util-0.31.0.jar:/home/user/.m2/repository/io/opentracing/opentracing-api/0.31.0/opentracing-api-0.31.0.jar:/home/user/.m2/repository/io/opentracing/opentracing-noop/0.31.0/opentracing-noop-0.31.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-framework/0.5.0-SNAPSHOT/hadoop-hdds-server-framework-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-client/0.5.0-SNAPSHOT/hadoop-hdds-client-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-tools/0.5.0-SNAPSHOT/hadoop-hdds-tools-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/0.5.0-SNAPSHOT/hadoop-hdds-server-scm-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-docs/0.5.0-SNAPSHOT/hadoop-hdds-docs-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/io/dropwizard/metrics/metrics-core/3.2.4/metrics-core-3.2.4.jar:/home/user/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/home/user/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/home/user/.m2/repository/info/picocli/picocli/3.9.6/picocli-3.9.6.jar:/home/user/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar:/home/user/.m2/repository/com/google/guava/guava/11.0.2/guava-11.0.2.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/0.5.0-SNAPSHOT/hadoop-ozone-ozone-manager-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-minikdc/3.2.0/hadoop-minikdc-3.2.0.jar:/home/user/.m2/repository/commons-io/commons-io/2.5/commons-io-2.5.jar:/home/user/.m2/repository/org/apache/kerby/kerb-simplekdc/1.0.1/kerb-simplekdc-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-client/1.0.1/kerb-client-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-config/1.0.1/kerby-config-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-core/1.0.1/kerb-core-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-pkix/1.0.1/kerby-pkix-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-asn1/1.0.1/kerby-asn1-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-util/1.0.1/kerby-util-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-common/1.0.1/kerb-common-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-crypto/1.0.1/kerb-crypto-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-util/1.0.1/kerb-util-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/token-provider/1.0.1/token-provider-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-admin/1.0.1/kerb-admin-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-server/1.0.1/kerb-server-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-identity/1.0.1/kerb-identity-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-xdr/1.0.1/kerby-xdr-1.0.1.jar:/home/user/.m2/repository/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-s3gateway/0.5.0-SNAPSHOT/hadoop-ozone-s3gateway-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/jboss/weld/servlet/weld-servlet/2.4.7.Final/weld-servlet-2.4.7.Final.jar:/home/user/.m2/repository/org/glassfish/jersey/containers/jersey-container-servlet-core/2.27/jersey-container-servlet-core-2.27.jar:/home/user/.m2/repository/org/glassfish/hk2/external/javax.inject/2.5.0-b42/javax.inject-2.5.0-b42.jar:/home/user/.m2/repository/org/glassfish/jersey/core/jersey-common/2.27/jersey-common-2.27.jar:/home/user/.m2/repository/org/glassfish/hk2/osgi-resource-locator/1.0.1/osgi-resource-locator-1.0.1.jar:/home/user/.m2/repository/javax/ws/rs/javax.ws.rs-api/2.1/javax.ws.rs-api-2.1.jar:/home/user/.m2/repository/org/glassfish/jersey/ext/cdi/jersey-cdi1x/2.27/jersey-cdi1x-2.27.jar:/home/user/.m2/repository/org/glassfish/jersey/inject/jersey-hk2/2.27/jersey-hk2-2.27.jar:/home/user/.m2/repository/org/glassfish/hk2/hk2-locator/2.5.0-b42/hk2-locator-2.5.0-b42.jar:/home/user/.m2/repository/org/javassist/javassist/3.22.0-CR2/javassist-3.22.0-CR2.jar:/home/user/.m2/repository/org/glassfish/hk2/hk2-api/2.5.0/hk2-api-2.5.0.jar:/home/user/.m2/repository/org/glassfish/hk2/external/jakarta.inject/2.5.0/jakarta.inject-2.5.0.jar:/home/user/.m2/repository/org/glassfish/hk2/hk2-utils/2.5.0/hk2-utils-2.5.0.jar:/home/user/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.4/jakarta.annotation-api-1.3.4.jar:/home/user/.m2/repository/org/glassfish/hk2/external/aopalliance-repackaged/2.5.0/aopalliance-repackaged-2.5.0.jar:/home/user/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-xml/2.9.0/jackson-dataformat-xml-2.9.0.jar:/home/user/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.9/jackson-core-2.9.9.jar:/home/user/.m2/repository/com/fasterxml/jackson/module/jackson-module-jaxb-annotations/2.9.9/jackson-module-jaxb-annotations-2.9.9.jar:/home/user/.m2/repository/javax/enterprise/cdi-api/1.2/cdi-api-1.2.jar:/home/user/.m2/repository/javax/el/javax.el-api/3.0.0/javax.el-api-3.0.0.jar:/home/user/.m2/repository/javax/interceptor/javax.interceptor-api/1.2/javax.interceptor-api-1.2.jar:/home/user/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/user/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.0.1/jaxb-impl-2.3.0.1.jar:/home/user/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-core-2.3.0.1.jar:/home/user/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar:/home/user/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-csi/0.5.0-SNAPSHOT/hadoop-ozone-csi-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/com/google/protobuf/protobuf-java-util/3.5.1/protobuf-java-util-3.5.1.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-config/0.5.0-SNAPSHOT/hadoop-hdds-config-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/io/grpc/grpc-netty/1.17.1/grpc-netty-1.17.1.jar:/home/user/.m2/repository/io/grpc/grpc-core/1.17.1/grpc-core-1.17.1.jar:/home/user/.m2/repository/io/grpc/grpc-context/1.17.1/grpc-context-1.17.1.jar:/home/user/.m2/repository/com/google/errorprone/error_prone_annotations/2.2.0/error_prone_annotations-2.2.0.jar:/home/user/.m2/repository/org/codehaus/mojo/animal-sniffer-annotations/1.17/animal-sniffer-annotations-1.17.jar:/home/user/.m2/repository/io/opencensus/opencensus-api/0.17.0/opencensus-api-0.17.0.jar:/home/user/.m2/repository/io/opencensus/opencensus-contrib-grpc-metrics/0.17.0/opencensus-contrib-grpc-metrics-0.17.0.jar:/home/user/.m2/repository/io/netty/netty-codec-http2/4.1.30.Final/netty-codec-http2-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-codec-http/4.1.30.Final/netty-codec-http-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-codec/4.1.30.Final/netty-codec-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-handler/4.1.30.Final/netty-handler-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-handler-proxy/4.1.30.Final/netty-handler-proxy-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-codec-socks/4.1.30.Final/netty-codec-socks-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-transport-native-epoll/4.1.30.Final/netty-transport-native-epoll-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-common/4.1.30.Final/netty-common-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-buffer/4.1.30.Final/netty-buffer-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-transport/4.1.30.Final/netty-transport-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-resolver/4.1.30.Final/netty-resolver-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.30.Final/netty-transport-native-unix-common-4.1.30.Final.jar:/home/user/.m2/repository/io/grpc/grpc-protobuf/1.17.1/grpc-protobuf-1.17.1.jar:/home/user/.m2/repository/com/google/api/grpc/proto-google-common-protos/1.0.0/proto-google-common-protos-1.0.0.jar:/home/user/.m2/repository/io/grpc/grpc-protobuf-lite/1.17.1/grpc-protobuf-lite-1.17.1.jar:/home/user/.m2/repository/io/grpc/grpc-stub/1.17.1/grpc-stub-1.17.1.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-recon/0.5.0-SNAPSHOT/hadoop-ozone-recon-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-reconcodegen/0.5.0-SNAPSHOT/hadoop-ozone-reconcodegen-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/com/google/inject/extensions/guice-multibindings/4.0/guice-multibindings-4.0.jar:/home/user/.m2/repository/com/google/inject/guice/4.0/guice-4.0.jar:/home/user/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/user/.m2/repository/com/google/inject/extensions/guice-servlet/4.0/guice-servlet-4.0.jar:/home/user/.m2/repository/org/glassfish/jersey/containers/jersey-container-servlet/2.27/jersey-container-servlet-2.27.jar:/home/user/.m2/repository/org/glassfish/hk2/guice-bridge/2.5.0/guice-bridge-2.5.0.jar:/home/user/.m2/repository/org/glassfish/jersey/core/jersey-server/2.27/jersey-server-2.27.jar:/home/user/.m2/repository/org/glassfish/jersey/core/jersey-client/2.27/jersey-client-2.27.jar:/home/user/.m2/repository/org/glassfish/jersey/media/jersey-media-jaxb/2.27/jersey-media-jaxb-2.27.jar:/home/user/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/user/.m2/repository/org/glassfish/jersey/media/jersey-media-json-jackson/2.27/jersey-media-json-jackson-2.27.jar:/home/user/.m2/repository/org/glassfish/jersey/ext/jersey-entity-filtering/2.27/jersey-entity-filtering-2.27.jar:/home/user/.m2/repository/com/google/inject/extensions/guice-assistedinject/4.0/guice-assistedinject-4.0.jar:/home/user/.m2/repository/org/jooq/jooq/3.11.10/jooq-3.11.10.jar:/home/user/.m2/repository/org/jooq/jooq-meta/3.11.10/jooq-meta-3.11.10.jar:/home/user/.m2/repository/org/jooq/jooq-codegen/3.11.10/jooq-codegen-3.11.10.jar:/home/user/.m2/repository/com/jolbox/bonecp/0.8.0.RELEASE/bonecp-0.8.0.RELEASE.jar:/home/user/.m2/repository/org/xerial/sqlite-jdbc/3.25.2/sqlite-jdbc-3.25.2.jar:/home/user/.m2/repository/org/springframework/spring-jdbc/5.1.3.RELEASE/spring-jdbc-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/springframework/spring-beans/5.1.3.RELEASE/spring-beans-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/springframework/spring-core/5.1.3.RELEASE/spring-core-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/springframework/spring-jcl/5.1.3.RELEASE/spring-jcl-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/springframework/spring-tx/5.1.3.RELEASE/spring-tx-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-client/0.5.0-SNAPSHOT/hadoop-ozone-client-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/0.5.0-SNAPSHOT/hadoop-ozone-ozone-manager-0.5.0-SNAPSHOT-tests.jar:/home/user/.m2/repository/junit/junit/4.11/junit-4.11.jar:/home/user/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/user/.m2/repository/org/openjdk/jmh/jmh-core/1.19/jmh-core-1.19.jar:/home/user/.m2/repository/net/sf/jopt-simple/jopt-simple/4.6/jopt-simple-4.6.jar:/home/user/.m2/repository/org/apache/commons/commons-math3/3.1.1/commons-math3-3.1.1.jar:/home/user/.m2/repository/org/openjdk/jmh/jmh-generator-annprocess/1.19/jmh-generator-annprocess-1.19.jar:/home/user/.m2/repository/org/mockito/mockito-all/1.8.5/mockito-all-1.8.5.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-kms/3.2.0/hadoop-kms-3.2.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-auth/3.2.0/hadoop-auth-3.2.0.jar:/home/user/.m2/repository/com/nimbusds/nimbus-jose-jwt/4.41.1/nimbus-jose-jwt-4.41.1.jar:/home/user/.m2/repository/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/home/user/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/home/user/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/home/user/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/home/user/.m2/repository/org/apache/curator/curator-framework/2.12.0/curator-framework-2.12.0.jar:/home/user/.m2/repository/com/sun/jersey/jersey-core/1.19/jersey-core-1.19.jar:/home/user/.m2/repository/javax/ws/rs/jsr311-api/1.1.1/jsr311-api-1.1.1.jar:/home/user/.m2/repository/com/sun/jersey/jersey-server/1.19/jersey-server-1.19.jar:/home/user/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-server/9.3.25.v20180904/jetty-server-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-http/9.3.25.v20180904/jetty-http-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-io/9.3.25.v20180904/jetty-io-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-webapp/9.3.25.v20180904/jetty-webapp-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-xml/9.3.25.v20180904/jetty-xml-9.3.25.v20180904.jar:/home/user/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/user/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/home/user/.m2/repository/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-util/9.3.25.v20180904/jetty-util-9.3.25.v20180904.jar:/home/user/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.9/jackson-databind-2.9.9.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-kms/3.2.0/hadoop-kms-3.2.0-tests.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/0.5.0-SNAPSHOT/hadoop-hdds-server-scm-0.5.0-SNAPSHOT-tests.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT-tests.jar:/home/user/.m2/repository/org/yaml/snakeyaml/1.16/snakeyaml-1.16.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-common/3.2.0/hadoop-common-3.2.0-tests.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-annotations/3.2.0/hadoop-annotations-3.2.0.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/../lib/tools.jar:/home/user/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/home/user/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/user/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/user/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar:/home/user/.m2/repository/commons-net/commons-net/3.6/commons-net-3.6.jar:/home/user/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-servlet/9.3.25.v20180904/jetty-servlet-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-security/9.3.25.v20180904/jetty-security-9.3.25.v20180904.jar:/home/user/.m2/repository/javax/servlet/jsp/jsp-api/2.1/jsp-api-2.1.jar:/home/user/.m2/repository/com/sun/jersey/jersey-servlet/1.19/jersey-servlet-1.19.jar:/home/user/.m2/repository/com/sun/jersey/jersey-json/1.19/jersey-json-1.19.jar:/home/user/.m2/repository/org/codehaus/jettison/jettison/1.1/jettison-1.1.jar:/home/user/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.13/jackson-core-asl-1.9.13.jar:/home/user/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.9.13/jackson-mapper-asl-1.9.13.jar:/home/user/.m2/repository/org/codehaus/jackson/jackson-jaxrs/1.9.13/jackson-jaxrs-1.9.13.jar:/home/user/.m2/repository/org/codehaus/jackson/jackson-xc/1.9.13/jackson-xc-1.9.13.jar:/home/user/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar:/home/user/.m2/repository/commons-beanutils/commons-beanutils/1.9.4/commons-beanutils-1.9.4.jar:/home/user/.m2/repository/org/apache/commons/commons-configuration2/2.1.1/commons-configuration2-2.1.1.jar:/home/user/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar:/home/user/.m2/repository/org/apache/commons/commons-text/1.4/commons-text-1.4.jar:/home/user/.m2/repository/org/apache/avro/avro/1.7.7/avro-1.7.7.jar:/home/user/.m2/repository/com/thoughtworks/paranamer/paranamer/2.3/paranamer-2.3.jar:/home/user/.m2/repository/org/xerial/snappy/snappy-java/1.0.5/snappy-java-1.0.5.jar:/home/user/.m2/repository/com/google/re2j/re2j/1.1/re2j-1.1.jar:/home/user/.m2/repository/com/google/code/gson/gson/2.2.4/gson-2.2.4.jar:/home/user/.m2/repository/com/jcraft/jsch/0.1.54/jsch-0.1.54.jar:/home/user/.m2/repository/org/apache/curator/curator-client/2.12.0/curator-client-2.12.0.jar:/home/user/.m2/repository/org/apache/curator/curator-recipes/2.12.0/curator-recipes-2.12.0.jar:/home/user/.m2/repository/com/google/code/findbugs/jsr305/3.0.0/jsr305-3.0.0.jar:/home/user/.m2/repository/org/apache/htrace/htrace-core4/4.1.0-incubating/htrace-core4-4.1.0-incubating.jar:/home/user/.m2/repository/org/apache/zookeeper/zookeeper/3.4.13/zookeeper-3.4.13.jar:/home/user/.m2/repository/jline/jline/0.9.94/jline-0.9.94.jar:/home/user/.m2/repository/org/apache/yetus/audience-annotations/0.5.0/audience-annotations-0.5.0.jar:/home/user/.m2/repository/org/codehaus/woodstox/stax2-api/3.1.4/stax2-api-3.1.4.jar:/home/user/.m2/repository/com/fasterxml/woodstox/woodstox-core/5.0.3/woodstox-core-5.0.3.jar:/home/user/.m2/repository/dnsjava/dnsjava/2.1.7/dnsjava-2.1.7.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdfs/3.2.0/hadoop-hdfs-3.2.0-tests.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-util-ajax/9.3.25.v20180904/jetty-util-ajax-9.3.25.v20180904.jar:/home/user/.m2/repository/commons-daemon/commons-daemon/1.0.13/commons-daemon-1.0.13.jar:/home/user/.m2/repository/io/netty/netty/3.10.5.Final/netty-3.10.5.Final.jar:/home/user/.m2/repository/io/netty/netty-all/4.0.52.Final/netty-all-4.0.52.Final.jar:/home/user/.m2/repository/org/fusesource/leveldbjni/leveldbjni-all/1.8/leveldbjni-all-1.8.jar:"/>
    <property name="java.vm.vendor" value="Oracle Corporation"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="test.build.dir" value="/workdir/hadoop-ozone/integration-test/target/test-dir"/>
    <property name="test.cache.data" value=""/>
    <property name="java.vendor.url" value="http://java.oracle.com/"/>
    <property name="user.timezone" value=""/>
    <property name="java.vm.specification.version" value="1.8"/>
    <property name="os.name" value="Linux"/>
    <property name="test.build.data" value="/workdir/hadoop-ozone/integration-test/target/test-dir"/>
    <property name="user.country" value="US"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.boot.library.path" value="/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/amd64"/>
    <property name="sun.java.command" value="/workdir/hadoop-ozone/integration-test/target/surefire/surefirebooter7117094701608798759.jar /workdir/hadoop-ozone/integration-test/target/surefire 2019-10-26T07-29-54_708-jvmRun1 surefire8622123664560539824tmp surefire_682474762490272916268tmp"/>
    <property name="surefire.test.class.path" value="/workdir/hadoop-ozone/integration-test/target/test-classes:/workdir/hadoop-ozone/integration-test/target/classes:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-common/0.5.0-SNAPSHOT/hadoop-ozone-common-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/commons/commons-compress/1.4.1/commons-compress-1.4.1.jar:/home/user/.m2/repository/org/tukaani/xz/1.0/xz-1.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-common/3.2.0/hadoop-common-3.2.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdfs/3.2.0/hadoop-hdfs-3.2.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdfs-client/3.2.0/hadoop-hdfs-client-3.2.0.jar:/home/user/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.9/jackson-annotations-2.9.9.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/0.5.0-SNAPSHOT/hadoop-hdds-common-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/javax/annotation/javax.annotation-api/1.2/javax.annotation-api-1.2.jar:/home/user/.m2/repository/org/apache/ratis/ratis-server/0.5.0-ced7dbf-SNAPSHOT/ratis-server-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/0.2.0/ratis-thirdparty-misc-0.2.0.jar:/home/user/.m2/repository/org/apache/ratis/ratis-proto/0.5.0-ced7dbf-SNAPSHOT/ratis-proto-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-common/0.5.0-ced7dbf-SNAPSHOT/ratis-common-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-client/0.5.0-ced7dbf-SNAPSHOT/ratis-client-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-metrics/0.5.0-ced7dbf-SNAPSHOT/ratis-metrics-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-netty/0.5.0-ced7dbf-SNAPSHOT/ratis-netty-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/ratis/ratis-grpc/0.5.0-ced7dbf-SNAPSHOT/ratis-grpc-0.5.0-ced7dbf-SNAPSHOT.jar:/home/user/.m2/repository/org/rocksdb/rocksdbjni/6.0.1/rocksdbjni-6.0.1.jar:/home/user/.m2/repository/org/apache/logging/log4j/log4j-api/2.11.0/log4j-api-2.11.0.jar:/home/user/.m2/repository/org/apache/logging/log4j/log4j-core/2.11.0/log4j-core-2.11.0.jar:/home/user/.m2/repository/com/lmax/disruptor/3.4.2/disruptor-3.4.2.jar:/home/user/.m2/repository/org/apache/commons/commons-pool2/2.6.0/commons-pool2-2.6.0.jar:/home/user/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/home/user/.m2/repository/commons-validator/commons-validator/1.6/commons-validator-1.6.jar:/home/user/.m2/repository/commons-digester/commons-digester/1.8.1/commons-digester-1.8.1.jar:/home/user/.m2/repository/io/jaegertracing/jaeger-client/0.34.0/jaeger-client-0.34.0.jar:/home/user/.m2/repository/io/jaegertracing/jaeger-thrift/0.34.0/jaeger-thrift-0.34.0.jar:/home/user/.m2/repository/org/apache/thrift/libthrift/0.12.0/libthrift-0.12.0.jar:/home/user/.m2/repository/com/squareup/okhttp3/okhttp/3.9.0/okhttp-3.9.0.jar:/home/user/.m2/repository/com/squareup/okio/okio/1.13.0/okio-1.13.0.jar:/home/user/.m2/repository/io/jaegertracing/jaeger-core/0.34.0/jaeger-core-0.34.0.jar:/home/user/.m2/repository/io/jaegertracing/jaeger-tracerresolver/0.34.0/jaeger-tracerresolver-0.34.0.jar:/home/user/.m2/repository/io/opentracing/contrib/opentracing-tracerresolver/0.1.5/opentracing-tracerresolver-0.1.5.jar:/home/user/.m2/repository/io/opentracing/opentracing-util/0.31.0/opentracing-util-0.31.0.jar:/home/user/.m2/repository/io/opentracing/opentracing-api/0.31.0/opentracing-api-0.31.0.jar:/home/user/.m2/repository/io/opentracing/opentracing-noop/0.31.0/opentracing-noop-0.31.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-framework/0.5.0-SNAPSHOT/hadoop-hdds-server-framework-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-client/0.5.0-SNAPSHOT/hadoop-hdds-client-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-tools/0.5.0-SNAPSHOT/hadoop-hdds-tools-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/0.5.0-SNAPSHOT/hadoop-hdds-server-scm-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-docs/0.5.0-SNAPSHOT/hadoop-hdds-docs-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/io/dropwizard/metrics/metrics-core/3.2.4/metrics-core-3.2.4.jar:/home/user/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/home/user/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/home/user/.m2/repository/info/picocli/picocli/3.9.6/picocli-3.9.6.jar:/home/user/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar:/home/user/.m2/repository/com/google/guava/guava/11.0.2/guava-11.0.2.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/0.5.0-SNAPSHOT/hadoop-ozone-ozone-manager-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-minikdc/3.2.0/hadoop-minikdc-3.2.0.jar:/home/user/.m2/repository/commons-io/commons-io/2.5/commons-io-2.5.jar:/home/user/.m2/repository/org/apache/kerby/kerb-simplekdc/1.0.1/kerb-simplekdc-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-client/1.0.1/kerb-client-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-config/1.0.1/kerby-config-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-core/1.0.1/kerb-core-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-pkix/1.0.1/kerby-pkix-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-asn1/1.0.1/kerby-asn1-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-util/1.0.1/kerby-util-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-common/1.0.1/kerb-common-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-crypto/1.0.1/kerb-crypto-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-util/1.0.1/kerb-util-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/token-provider/1.0.1/token-provider-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-admin/1.0.1/kerb-admin-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-server/1.0.1/kerb-server-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerb-identity/1.0.1/kerb-identity-1.0.1.jar:/home/user/.m2/repository/org/apache/kerby/kerby-xdr/1.0.1/kerby-xdr-1.0.1.jar:/home/user/.m2/repository/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-s3gateway/0.5.0-SNAPSHOT/hadoop-ozone-s3gateway-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/jboss/weld/servlet/weld-servlet/2.4.7.Final/weld-servlet-2.4.7.Final.jar:/home/user/.m2/repository/org/glassfish/jersey/containers/jersey-container-servlet-core/2.27/jersey-container-servlet-core-2.27.jar:/home/user/.m2/repository/org/glassfish/hk2/external/javax.inject/2.5.0-b42/javax.inject-2.5.0-b42.jar:/home/user/.m2/repository/org/glassfish/jersey/core/jersey-common/2.27/jersey-common-2.27.jar:/home/user/.m2/repository/org/glassfish/hk2/osgi-resource-locator/1.0.1/osgi-resource-locator-1.0.1.jar:/home/user/.m2/repository/javax/ws/rs/javax.ws.rs-api/2.1/javax.ws.rs-api-2.1.jar:/home/user/.m2/repository/org/glassfish/jersey/ext/cdi/jersey-cdi1x/2.27/jersey-cdi1x-2.27.jar:/home/user/.m2/repository/org/glassfish/jersey/inject/jersey-hk2/2.27/jersey-hk2-2.27.jar:/home/user/.m2/repository/org/glassfish/hk2/hk2-locator/2.5.0-b42/hk2-locator-2.5.0-b42.jar:/home/user/.m2/repository/org/javassist/javassist/3.22.0-CR2/javassist-3.22.0-CR2.jar:/home/user/.m2/repository/org/glassfish/hk2/hk2-api/2.5.0/hk2-api-2.5.0.jar:/home/user/.m2/repository/org/glassfish/hk2/external/jakarta.inject/2.5.0/jakarta.inject-2.5.0.jar:/home/user/.m2/repository/org/glassfish/hk2/hk2-utils/2.5.0/hk2-utils-2.5.0.jar:/home/user/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.4/jakarta.annotation-api-1.3.4.jar:/home/user/.m2/repository/org/glassfish/hk2/external/aopalliance-repackaged/2.5.0/aopalliance-repackaged-2.5.0.jar:/home/user/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-xml/2.9.0/jackson-dataformat-xml-2.9.0.jar:/home/user/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.9/jackson-core-2.9.9.jar:/home/user/.m2/repository/com/fasterxml/jackson/module/jackson-module-jaxb-annotations/2.9.9/jackson-module-jaxb-annotations-2.9.9.jar:/home/user/.m2/repository/javax/enterprise/cdi-api/1.2/cdi-api-1.2.jar:/home/user/.m2/repository/javax/el/javax.el-api/3.0.0/javax.el-api-3.0.0.jar:/home/user/.m2/repository/javax/interceptor/javax.interceptor-api/1.2/javax.interceptor-api-1.2.jar:/home/user/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/user/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.0.1/jaxb-impl-2.3.0.1.jar:/home/user/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-core-2.3.0.1.jar:/home/user/.m2/repository/javax/xml/bind/jaxb-api/2.3.0/jaxb-api-2.3.0.jar:/home/user/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-csi/0.5.0-SNAPSHOT/hadoop-ozone-csi-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/com/google/protobuf/protobuf-java-util/3.5.1/protobuf-java-util-3.5.1.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-config/0.5.0-SNAPSHOT/hadoop-hdds-config-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/io/grpc/grpc-netty/1.17.1/grpc-netty-1.17.1.jar:/home/user/.m2/repository/io/grpc/grpc-core/1.17.1/grpc-core-1.17.1.jar:/home/user/.m2/repository/io/grpc/grpc-context/1.17.1/grpc-context-1.17.1.jar:/home/user/.m2/repository/com/google/errorprone/error_prone_annotations/2.2.0/error_prone_annotations-2.2.0.jar:/home/user/.m2/repository/org/codehaus/mojo/animal-sniffer-annotations/1.17/animal-sniffer-annotations-1.17.jar:/home/user/.m2/repository/io/opencensus/opencensus-api/0.17.0/opencensus-api-0.17.0.jar:/home/user/.m2/repository/io/opencensus/opencensus-contrib-grpc-metrics/0.17.0/opencensus-contrib-grpc-metrics-0.17.0.jar:/home/user/.m2/repository/io/netty/netty-codec-http2/4.1.30.Final/netty-codec-http2-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-codec-http/4.1.30.Final/netty-codec-http-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-codec/4.1.30.Final/netty-codec-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-handler/4.1.30.Final/netty-handler-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-handler-proxy/4.1.30.Final/netty-handler-proxy-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-codec-socks/4.1.30.Final/netty-codec-socks-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-transport-native-epoll/4.1.30.Final/netty-transport-native-epoll-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-common/4.1.30.Final/netty-common-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-buffer/4.1.30.Final/netty-buffer-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-transport/4.1.30.Final/netty-transport-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-resolver/4.1.30.Final/netty-resolver-4.1.30.Final.jar:/home/user/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.30.Final/netty-transport-native-unix-common-4.1.30.Final.jar:/home/user/.m2/repository/io/grpc/grpc-protobuf/1.17.1/grpc-protobuf-1.17.1.jar:/home/user/.m2/repository/com/google/api/grpc/proto-google-common-protos/1.0.0/proto-google-common-protos-1.0.0.jar:/home/user/.m2/repository/io/grpc/grpc-protobuf-lite/1.17.1/grpc-protobuf-lite-1.17.1.jar:/home/user/.m2/repository/io/grpc/grpc-stub/1.17.1/grpc-stub-1.17.1.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-recon/0.5.0-SNAPSHOT/hadoop-ozone-recon-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-reconcodegen/0.5.0-SNAPSHOT/hadoop-ozone-reconcodegen-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/com/google/inject/extensions/guice-multibindings/4.0/guice-multibindings-4.0.jar:/home/user/.m2/repository/com/google/inject/guice/4.0/guice-4.0.jar:/home/user/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/user/.m2/repository/com/google/inject/extensions/guice-servlet/4.0/guice-servlet-4.0.jar:/home/user/.m2/repository/org/glassfish/jersey/containers/jersey-container-servlet/2.27/jersey-container-servlet-2.27.jar:/home/user/.m2/repository/org/glassfish/hk2/guice-bridge/2.5.0/guice-bridge-2.5.0.jar:/home/user/.m2/repository/org/glassfish/jersey/core/jersey-server/2.27/jersey-server-2.27.jar:/home/user/.m2/repository/org/glassfish/jersey/core/jersey-client/2.27/jersey-client-2.27.jar:/home/user/.m2/repository/org/glassfish/jersey/media/jersey-media-jaxb/2.27/jersey-media-jaxb-2.27.jar:/home/user/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/user/.m2/repository/org/glassfish/jersey/media/jersey-media-json-jackson/2.27/jersey-media-json-jackson-2.27.jar:/home/user/.m2/repository/org/glassfish/jersey/ext/jersey-entity-filtering/2.27/jersey-entity-filtering-2.27.jar:/home/user/.m2/repository/com/google/inject/extensions/guice-assistedinject/4.0/guice-assistedinject-4.0.jar:/home/user/.m2/repository/org/jooq/jooq/3.11.10/jooq-3.11.10.jar:/home/user/.m2/repository/org/jooq/jooq-meta/3.11.10/jooq-meta-3.11.10.jar:/home/user/.m2/repository/org/jooq/jooq-codegen/3.11.10/jooq-codegen-3.11.10.jar:/home/user/.m2/repository/com/jolbox/bonecp/0.8.0.RELEASE/bonecp-0.8.0.RELEASE.jar:/home/user/.m2/repository/org/xerial/sqlite-jdbc/3.25.2/sqlite-jdbc-3.25.2.jar:/home/user/.m2/repository/org/springframework/spring-jdbc/5.1.3.RELEASE/spring-jdbc-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/springframework/spring-beans/5.1.3.RELEASE/spring-beans-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/springframework/spring-core/5.1.3.RELEASE/spring-core-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/springframework/spring-jcl/5.1.3.RELEASE/spring-jcl-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/springframework/spring-tx/5.1.3.RELEASE/spring-tx-5.1.3.RELEASE.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-client/0.5.0-SNAPSHOT/hadoop-ozone-client-0.5.0-SNAPSHOT.jar:/home/user/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/0.5.0-SNAPSHOT/hadoop-ozone-ozone-manager-0.5.0-SNAPSHOT-tests.jar:/home/user/.m2/repository/junit/junit/4.11/junit-4.11.jar:/home/user/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/user/.m2/repository/org/openjdk/jmh/jmh-core/1.19/jmh-core-1.19.jar:/home/user/.m2/repository/net/sf/jopt-simple/jopt-simple/4.6/jopt-simple-4.6.jar:/home/user/.m2/repository/org/apache/commons/commons-math3/3.1.1/commons-math3-3.1.1.jar:/home/user/.m2/repository/org/openjdk/jmh/jmh-generator-annprocess/1.19/jmh-generator-annprocess-1.19.jar:/home/user/.m2/repository/org/mockito/mockito-all/1.8.5/mockito-all-1.8.5.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-kms/3.2.0/hadoop-kms-3.2.0.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-auth/3.2.0/hadoop-auth-3.2.0.jar:/home/user/.m2/repository/com/nimbusds/nimbus-jose-jwt/4.41.1/nimbus-jose-jwt-4.41.1.jar:/home/user/.m2/repository/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/home/user/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/home/user/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/home/user/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/home/user/.m2/repository/org/apache/curator/curator-framework/2.12.0/curator-framework-2.12.0.jar:/home/user/.m2/repository/com/sun/jersey/jersey-core/1.19/jersey-core-1.19.jar:/home/user/.m2/repository/javax/ws/rs/jsr311-api/1.1.1/jsr311-api-1.1.1.jar:/home/user/.m2/repository/com/sun/jersey/jersey-server/1.19/jersey-server-1.19.jar:/home/user/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-server/9.3.25.v20180904/jetty-server-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-http/9.3.25.v20180904/jetty-http-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-io/9.3.25.v20180904/jetty-io-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-webapp/9.3.25.v20180904/jetty-webapp-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-xml/9.3.25.v20180904/jetty-xml-9.3.25.v20180904.jar:/home/user/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/user/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/home/user/.m2/repository/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-util/9.3.25.v20180904/jetty-util-9.3.25.v20180904.jar:/home/user/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.9/jackson-databind-2.9.9.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-kms/3.2.0/hadoop-kms-3.2.0-tests.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/0.5.0-SNAPSHOT/hadoop-hdds-server-scm-0.5.0-SNAPSHOT-tests.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT-tests.jar:/home/user/.m2/repository/org/yaml/snakeyaml/1.16/snakeyaml-1.16.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-common/3.2.0/hadoop-common-3.2.0-tests.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-annotations/3.2.0/hadoop-annotations-3.2.0.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/../lib/tools.jar:/home/user/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/home/user/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/user/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/user/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar:/home/user/.m2/repository/commons-net/commons-net/3.6/commons-net-3.6.jar:/home/user/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-servlet/9.3.25.v20180904/jetty-servlet-9.3.25.v20180904.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-security/9.3.25.v20180904/jetty-security-9.3.25.v20180904.jar:/home/user/.m2/repository/javax/servlet/jsp/jsp-api/2.1/jsp-api-2.1.jar:/home/user/.m2/repository/com/sun/jersey/jersey-servlet/1.19/jersey-servlet-1.19.jar:/home/user/.m2/repository/com/sun/jersey/jersey-json/1.19/jersey-json-1.19.jar:/home/user/.m2/repository/org/codehaus/jettison/jettison/1.1/jettison-1.1.jar:/home/user/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.13/jackson-core-asl-1.9.13.jar:/home/user/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.9.13/jackson-mapper-asl-1.9.13.jar:/home/user/.m2/repository/org/codehaus/jackson/jackson-jaxrs/1.9.13/jackson-jaxrs-1.9.13.jar:/home/user/.m2/repository/org/codehaus/jackson/jackson-xc/1.9.13/jackson-xc-1.9.13.jar:/home/user/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar:/home/user/.m2/repository/commons-beanutils/commons-beanutils/1.9.4/commons-beanutils-1.9.4.jar:/home/user/.m2/repository/org/apache/commons/commons-configuration2/2.1.1/commons-configuration2-2.1.1.jar:/home/user/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar:/home/user/.m2/repository/org/apache/commons/commons-text/1.4/commons-text-1.4.jar:/home/user/.m2/repository/org/apache/avro/avro/1.7.7/avro-1.7.7.jar:/home/user/.m2/repository/com/thoughtworks/paranamer/paranamer/2.3/paranamer-2.3.jar:/home/user/.m2/repository/org/xerial/snappy/snappy-java/1.0.5/snappy-java-1.0.5.jar:/home/user/.m2/repository/com/google/re2j/re2j/1.1/re2j-1.1.jar:/home/user/.m2/repository/com/google/code/gson/gson/2.2.4/gson-2.2.4.jar:/home/user/.m2/repository/com/jcraft/jsch/0.1.54/jsch-0.1.54.jar:/home/user/.m2/repository/org/apache/curator/curator-client/2.12.0/curator-client-2.12.0.jar:/home/user/.m2/repository/org/apache/curator/curator-recipes/2.12.0/curator-recipes-2.12.0.jar:/home/user/.m2/repository/com/google/code/findbugs/jsr305/3.0.0/jsr305-3.0.0.jar:/home/user/.m2/repository/org/apache/htrace/htrace-core4/4.1.0-incubating/htrace-core4-4.1.0-incubating.jar:/home/user/.m2/repository/org/apache/zookeeper/zookeeper/3.4.13/zookeeper-3.4.13.jar:/home/user/.m2/repository/jline/jline/0.9.94/jline-0.9.94.jar:/home/user/.m2/repository/org/apache/yetus/audience-annotations/0.5.0/audience-annotations-0.5.0.jar:/home/user/.m2/repository/org/codehaus/woodstox/stax2-api/3.1.4/stax2-api-3.1.4.jar:/home/user/.m2/repository/com/fasterxml/woodstox/woodstox-core/5.0.3/woodstox-core-5.0.3.jar:/home/user/.m2/repository/dnsjava/dnsjava/2.1.7/dnsjava-2.1.7.jar:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdfs/3.2.0/hadoop-hdfs-3.2.0-tests.jar:/home/user/.m2/repository/org/eclipse/jetty/jetty-util-ajax/9.3.25.v20180904/jetty-util-ajax-9.3.25.v20180904.jar:/home/user/.m2/repository/commons-daemon/commons-daemon/1.0.13/commons-daemon-1.0.13.jar:/home/user/.m2/repository/io/netty/netty/3.10.5.Final/netty-3.10.5.Final.jar:/home/user/.m2/repository/io/netty/netty-all/4.0.52.Final/netty-all-4.0.52.Final.jar:/home/user/.m2/repository/org/fusesource/leveldbjni/leveldbjni-all/1.8/leveldbjni-all-1.8.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/home/user"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.home" value="/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre"/>
    <property name="surefire.excludesFile" value="/tools/ozone-bad-unit-tests"/>
    <property name="java.security.krb5.conf" value="/workdir/hadoop-ozone/integration-test/target/test-classes/krb5.conf"/>
    <property name="basedir" value="/workdir/hadoop-ozone/integration-test"/>
    <property name="file.separator" value="/"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.awt.graphicsenv" value="sun.awt.X11GraphicsEnvironment"/>
    <property name="surefire.real.class.path" value="/workdir/hadoop-ozone/integration-test/target/surefire/surefirebooter7117094701608798759.jar"/>
    <property name="hadoop.log.dir" value="/workdir/hadoop-ozone/integration-test/target/log"/>
    <property name="sun.boot.class.path" value="/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/resources.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/rt.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/jsse.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/jce.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/charsets.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/jfr.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/classes"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="java.runtime.version" value="1.8.0_222-b10"/>
    <property name="java.net.preferIPv4Stack" value="true"/>
    <property name="user.name" value="jenkins1000"/>
    <property name="path.separator" value=":"/>
    <property name="java.security.egd" value="file:///dev/urandom"/>
    <property name="os.version" value="3.10.0-957.12.2.el7.x86_64"/>
    <property name="java.endorsed.dirs" value="/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/endorsed"/>
    <property name="java.runtime.name" value="OpenJDK Runtime Environment"/>
    <property name="file.encoding" value="ANSI_X3.4-1968"/>
    <property name="java.vm.name" value="OpenJDK 64-Bit Server VM"/>
    <property name="test.build.webapps" value=""/>
    <property name="localRepository" value="/home/user/.m2/repository"/>
    <property name="java.vendor.url.bug" value="http://bugreport.sun.com/bugreport/"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="require.test.libhadoop" value=""/>
    <property name="java.version" value="1.8.0_222"/>
    <property name="user.dir" value="/workdir/hadoop-ozone/integration-test"/>
    <property name="os.arch" value="amd64"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="test.build.classes" value="/workdir/hadoop-ozone/integration-test/target/test-classes"/>
    <property name="java.awt.printerjob" value="sun.print.PSPrinterJob"/>
    <property name="sun.os.patch.level" value="unknown"/>
    <property name="hadoop.tmp.dir" value="/workdir/hadoop-ozone/integration-test/target/tmp"/>
    <property name="java.library.path" value="/usr/lib:/workdir/hadoop-ozone/integration-test/target/native/target/usr/local/lib:/workdir/hadoop-ozone/integration-test/../../hadoop-common-project/hadoop-common/target/native/target/usr/local/lib:/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="java.vendor" value="Oracle Corporation"/>
    <property name="java.vm.version" value="25.222-b10"/>
    <property name="java.ext.dirs" value="/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-1.el7_7.x86_64/jre/lib/ext:/usr/java/packages/lib/ext"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="java.class.version" value="52.0"/>
  </properties>
  <testcase name="testMultipartUpload" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="22.802"/>
  <testcase name="testOMRatisSnapshot" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="14.648"/>
  <testcase name="testFileOperationsWithRecursive" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="19.744"/>
  <testcase name="testOMRetryProxy" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="11.995">
    <error message="Couldn&apos;t create RpcClient protocol" type="java.io.IOException"><![CDATA[java.io.IOException: Couldn't create RpcClient protocol
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:263)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
Caused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	... 13 more
]]></error>
    <system-out><![CDATA[2019-10-26 08:59:21,491 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:21,503 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:21,503 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:21,504 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedBlocks
2019-10-26 08:59:21,504 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-26 08:59:21,504 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: validCerts
2019-10-26 08:59:21,504 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-26 08:59:21,504 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: revokedCerts
2019-10-26 08:59:21,504 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-26 08:59:21,505 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 08:59:21,505 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 08:59:21,505 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 08:59:21,727 [Thread-1230] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@203b1d19
2019-10-26 08:59:21,727 [Thread-1230] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-26 08:59:21,732 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 08:59:21,732 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 08:59:21,732 [Thread-1230] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-26 08:59:21,733 [Thread-1230] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-26 08:59:21,733 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:21,810 [Thread-1230] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(132)) - No pipeline exists in current db
2019-10-26 08:59:21,810 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:21,882 [Thread-1230] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-26 08:59:21,883 [Thread-1230] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 08:59:21,884 [Socket Reader #1 for port 35589] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 35589
2019-10-26 08:59:21,885 [Thread-1230] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 08:59:21,886 [Socket Reader #1 for port 34229] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 34229
2019-10-26 08:59:21,887 [Thread-1230] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 08:59:21,888 [Socket Reader #1 for port 41260] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41260
2019-10-26 08:59:21,890 [Thread-1230] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-26 08:59:21,892 [Thread-1230] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 08:59:21,893 [Thread-1230] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 08:59:21,895 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 08:59:21,896 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-26 08:59:21,896 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 08:59:21,896 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 08:59:21,899 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:start(772)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:41260
2019-10-26 08:59:21,901 [Thread-1230] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-26 08:59:21,902 [Thread-1230] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-26 08:59:21,902 [Thread-1230] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-26 08:59:22,157 [Thread-1230] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 08:59:22,164 [Thread-1230] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(159)) - RPC server for Client  is listening at /0.0.0.0:41260
2019-10-26 08:59:22,165 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 08:59:22,165 [IPC Server listener on 41260] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41260: starting
2019-10-26 08:59:22,168 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:start(782)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34229
2019-10-26 08:59:22,169 [Thread-1230] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:34229
2019-10-26 08:59:22,169 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 08:59:22,169 [IPC Server listener on 34229] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 34229: starting
2019-10-26 08:59:22,174 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:start(786)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:35589
2019-10-26 08:59:22,174 [Thread-1230] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(169)) - RPC server for DataNodes is listening at /0.0.0.0:35589
2019-10-26 08:59:22,174 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 08:59:22,175 [IPC Server listener on 35589] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 35589: starting
2019-10-26 08:59:22,178 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40585
2019-10-26 08:59:22,178 [Thread-1230] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 08:59:22,180 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@62603e7b{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 08:59:22,181 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1aec5389{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 08:59:22,186 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@cfed31e{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-26 08:59:22,186 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2cc9e5c1{HTTP/1.1,[http/1.1]}{0.0.0.0:40585}
2019-10-26 08:59:22,187 [Thread-1230] INFO  server.Server (Server.java:doStart(419)) - Started @58339ms
2019-10-26 08:59:22,187 [Thread-1230] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 08:59:22,189 [Thread-1230] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:40585
2019-10-26 08:59:22,190 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6b924517] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 08:59:22,191 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:22,206 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:11920 and Ratis port: 11924
2019-10-26 08:59:22,206 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-1: 127.0.0.1:11922
2019-10-26 08:59:22,206 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-1: 127.0.0.1:11923
2019-10-26 08:59:22,206 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-1: 127.0.0.1:11920
2019-10-26 08:59:22,207 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:22,207 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:22,214 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:22,215 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 08:59:22,215 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 08:59:22,215 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 08:59:22,215 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 08:59:22,216 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 08:59:22,216 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 08:59:22,216 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 08:59:22,216 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 08:59:22,216 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 08:59:22,217 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 08:59:22,217 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 08:59:22,217 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 08:59:22,217 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 08:59:22,217 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 08:59:22,217 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 08:59:22,218 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 08:59:22,218 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 08:59:22,218 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 08:59:22,218 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 08:59:22,218 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 08:59:22,219 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 08:59:22,219 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 08:59:22,219 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 08:59:22,219 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 08:59:22,219 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 08:59:22,719 [Thread-1230] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 08:59:22,720 [Thread-1230] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:11924, localhost:11930, localhost:11936
2019-10-26 08:59:22,722 [Thread-1230] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 08:59:22,722 [Thread-1230] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 08:59:22,722 [Thread-1230] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 11924 (custom)
2019-10-26 08:59:22,723 [Thread-1230] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 08:59:22,723 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:22,723 [Thread-1230] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 08:59:22,723 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 08:59:22,724 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-1/ratis] (custom)
2019-10-26 08:59:22,724 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-1: addNew group-523986131536:[omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930] returns group-523986131536:java.util.concurrent.CompletableFuture@343a474a[Not completed]
2019-10-26 08:59:22,725 [pool-246-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930] with OzoneManagerStateMachine:uninitialized
2019-10-26 08:59:22,725 [Thread-1230] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 11924
2019-10-26 08:59:22,725 [Thread-1230] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 08:59:22,725 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 08:59:22,726 [Thread-1230] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 08:59:22,726 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 08:59:22,726 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 08:59:22,726 [Thread-1230] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 08:59:22,726 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 08:59:22,726 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 08:59:22,732 [pool-246-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null, confs=<EMPTY_MAP>
2019-10-26 08:59:22,733 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-1/ratis] (custom)
2019-10-26 08:59:22,733 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 08:59:22,733 [pool-246-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 08:59:22,734 [Thread-1230] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 08:59:22,736 [Socket Reader #1 for port 11920] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 11920
2019-10-26 08:59:22,741 [pool-246-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 08:59:22,746 [pool-246-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 08:59:22,746 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 08:59:22,746 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 08:59:22,746 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 08:59:22,746 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:22,746 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 08:59:22,747 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 08:59:22,747 [pool-246-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 08:59:22,747 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 08:59:22,747 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 08:59:22,747 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 08:59:22,747 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 08:59:22,747 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 08:59:22,747 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 08:59:22,748 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 08:59:22,748 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 08:59:22,748 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 08:59:22,748 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 08:59:22,748 [pool-246-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 08:59:22,749 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 08:59:22,749 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 08:59:22,749 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 08:59:22,749 [pool-246-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 08:59:22,751 [Thread-1230] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11920
2019-10-26 08:59:22,751 [Thread-1230] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 08:59:22,751 [Thread-1230] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-1 at port 11924
2019-10-26 08:59:22,752 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:22,752 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 08:59:22,752 [Thread-1230] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 08:59:22,752 [Thread-1230] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 08:59:22,753 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-1: start RPC server
2019-10-26 08:59:22,754 [Thread-1230] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-1: GrpcService started, listening on 0.0.0.0/0.0.0.0:11924
2019-10-26 08:59:22,756 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 08:59:22,757 [IPC Server listener on 11920] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 11920: starting
2019-10-26 08:59:22,761 [Thread-1230] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11922
2019-10-26 08:59:22,762 [Thread-1230] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 08:59:22,762 [Thread-1230] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 08:59:22,764 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 08:59:22,764 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 08:59:22,764 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 08:59:22,764 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 08:59:22,765 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 11922
2019-10-26 08:59:22,765 [Thread-1230] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 08:59:22,767 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@228dae37{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 08:59:22,767 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@404b20b9{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 08:59:22,770 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2fe2cc9c{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 08:59:22,771 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@31553160{HTTP/1.1,[http/1.1]}{0.0.0.0:11922}
2019-10-26 08:59:22,771 [Thread-1230] INFO  server.Server (Server.java:doStart(419)) - Started @58923ms
2019-10-26 08:59:22,771 [Thread-1230] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 08:59:22,772 [Thread-1230] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:11922
2019-10-26 08:59:22,773 [Thread-1230] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:11920
2019-10-26 08:59:22,773 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:22,779 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:11926 and Ratis port: 11930
2019-10-26 08:59:22,779 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-2: 127.0.0.1:11928
2019-10-26 08:59:22,779 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-2: 127.0.0.1:11929
2019-10-26 08:59:22,779 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-2: 127.0.0.1:11926
2019-10-26 08:59:22,779 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:22,780 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:22,783 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:22,784 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 08:59:22,784 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 08:59:22,784 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 08:59:22,784 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 08:59:22,784 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 08:59:22,784 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 08:59:22,784 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 08:59:22,784 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 08:59:22,785 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 08:59:22,785 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 08:59:22,785 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 08:59:22,785 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 08:59:22,785 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 08:59:22,785 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 08:59:22,785 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 08:59:22,785 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 08:59:22,785 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 08:59:22,786 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 08:59:22,786 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 08:59:22,786 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 08:59:22,786 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 08:59:22,786 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 08:59:22,786 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 08:59:22,786 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 08:59:22,786 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 08:59:23,355 [Thread-1230] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 08:59:23,356 [Thread-1230] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:11930, localhost:11924, localhost:11936
2019-10-26 08:59:23,356 [Thread-1230] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 08:59:23,357 [Thread-1230] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 08:59:23,357 [Thread-1230] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 11930 (custom)
2019-10-26 08:59:23,357 [Thread-1230] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 08:59:23,357 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:23,357 [Thread-1230] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 08:59:23,357 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 08:59:23,358 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-2/ratis] (custom)
2019-10-26 08:59:23,358 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-2: addNew group-523986131536:[omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930] returns group-523986131536:java.util.concurrent.CompletableFuture@5f35c269[Not completed]
2019-10-26 08:59:23,358 [pool-262-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930] with OzoneManagerStateMachine:uninitialized
2019-10-26 08:59:23,359 [Thread-1230] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 11930
2019-10-26 08:59:23,360 [Thread-1230] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 08:59:23,360 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 08:59:23,360 [Thread-1230] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 08:59:23,360 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 08:59:23,361 [Thread-1230] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 08:59:23,361 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 08:59:23,361 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 08:59:23,361 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 08:59:23,361 [pool-262-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null, confs=<EMPTY_MAP>
2019-10-26 08:59:23,361 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-2/ratis] (custom)
2019-10-26 08:59:23,362 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 08:59:23,362 [pool-262-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 08:59:23,362 [Thread-1230] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 08:59:23,363 [Socket Reader #1 for port 11926] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 11926
2019-10-26 08:59:23,375 [pool-262-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 08:59:23,379 [Thread-1230] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11926
2019-10-26 08:59:23,380 [Thread-1230] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 08:59:23,380 [Thread-1230] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-2 at port 11930
2019-10-26 08:59:23,388 [pool-262-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 08:59:23,388 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 08:59:23,388 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 08:59:23,389 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 08:59:23,389 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:23,389 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 08:59:23,389 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 08:59:23,389 [pool-262-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 08:59:23,389 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 08:59:23,389 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 08:59:23,390 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 08:59:23,390 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 08:59:23,390 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 08:59:23,390 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 08:59:23,390 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 08:59:23,390 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 08:59:23,390 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 08:59:23,391 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 08:59:23,391 [pool-262-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 08:59:23,391 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 08:59:23,391 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 08:59:23,391 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 08:59:23,392 [pool-262-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 08:59:23,393 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:23,393 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 08:59:23,394 [Thread-1230] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 08:59:23,394 [Thread-1230] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 08:59:23,394 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-2: start RPC server
2019-10-26 08:59:23,395 [Thread-1230] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-2: GrpcService started, listening on 0.0.0.0/0.0.0.0:11930
2019-10-26 08:59:23,397 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 08:59:23,399 [IPC Server listener on 11926] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 11926: starting
2019-10-26 08:59:23,407 [Thread-1230] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11928
2019-10-26 08:59:23,408 [Thread-1230] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 08:59:23,409 [Thread-1230] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 08:59:23,411 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 08:59:23,412 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 08:59:23,412 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 08:59:23,412 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 08:59:23,413 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 11928
2019-10-26 08:59:23,413 [Thread-1230] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 08:59:23,415 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1747fd4a{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 08:59:23,416 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@fa582ce{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 08:59:23,421 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@9715289{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 08:59:23,422 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@6c85ed02{HTTP/1.1,[http/1.1]}{0.0.0.0:11928}
2019-10-26 08:59:23,423 [Thread-1230] INFO  server.Server (Server.java:doStart(419)) - Started @59574ms
2019-10-26 08:59:23,423 [Thread-1230] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 08:59:23,424 [Thread-1230] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:11928
2019-10-26 08:59:23,425 [Thread-1230] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:11926
2019-10-26 08:59:23,426 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:23,441 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:11932 and Ratis port: 11936
2019-10-26 08:59:23,442 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-3: 127.0.0.1:11934
2019-10-26 08:59:23,442 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-3: 127.0.0.1:11935
2019-10-26 08:59:23,442 [Thread-1230] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-3: 127.0.0.1:11932
2019-10-26 08:59:23,442 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:23,442 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:23,447 [Thread-1230] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 08:59:23,449 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 08:59:23,449 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 08:59:23,449 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 08:59:23,449 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 08:59:23,449 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 08:59:23,450 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 08:59:23,450 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 08:59:23,450 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 08:59:23,450 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 08:59:23,450 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 08:59:23,450 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 08:59:23,450 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 08:59:23,451 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 08:59:23,451 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 08:59:23,451 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 08:59:23,451 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 08:59:23,451 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 08:59:23,451 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 08:59:23,451 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 08:59:23,451 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 08:59:23,452 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 08:59:23,452 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 08:59:23,452 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 08:59:23,452 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 08:59:23,452 [Thread-1230] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 08:59:23,755 [Thread-1320] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1003ms, electionTimeout:1003ms
2019-10-26 08:59:23,756 [Thread-1320] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 08:59:23,756 [Thread-1320] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 08:59:23,756 [Thread-1320] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderElection
2019-10-26 08:59:23,761 [omNode-1@group-523986131536-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-1@group-523986131536-LeaderElection19: begin an election at term 1 for -1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:23,773 [omNode-1@group-523986131536-LeaderElection19] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - omNode-1@group-523986131536-LeaderElection19 got exception when requesting votes: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:11936
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 08:59:23,776 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:omNode-1
2019-10-26 08:59:23,776 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 08:59:23,776 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 08:59:23,776 [Thread-1359] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 08:59:23,783 [omNode-1@group-523986131536-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-1@group-523986131536-LeaderElection19: Election PASSED; received 1 response(s) [omNode-1<-omNode-2#0:OK-t1] and 1 exception(s); omNode-1@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:23,783 [omNode-1@group-523986131536-LeaderElection19] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:11936
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 08:59:23,784 [omNode-1@group-523986131536-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-1: shutdown LeaderElection
2019-10-26 08:59:23,784 [omNode-1@group-523986131536-LeaderElection19] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-26 08:59:23,784 [omNode-1@group-523986131536-LeaderElection19] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1038ms
2019-10-26 08:59:23,784 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-26 08:59:23,784 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-26 08:59:23,785 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-26 08:59:23,785 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-26 08:59:23,785 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-26 08:59:23,785 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-26 08:59:23,785 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 08:59:23,786 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:23,786 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 08:59:23,786 [omNode-1@group-523986131536-LeaderElection19] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 08:59:23,786 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 08:59:23,786 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 08:59:23,787 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 08:59:23,787 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:23,787 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 08:59:23,787 [omNode-1@group-523986131536-LeaderElection19] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 08:59:23,787 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 08:59:23,788 [omNode-1@group-523986131536-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 08:59:23,788 [omNode-1@group-523986131536-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderState
2019-10-26 08:59:23,788 [omNode-1@group-523986131536-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 08:59:23,789 [omNode-1@group-523986131536-LeaderElection19] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-1@group-523986131536: set configuration 0: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null at 0
2019-10-26 08:59:23,790 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-10-26 08:59:23,792 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 403ms
2019-10-26 08:59:23,794 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 08:59:23,795 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-2@group-523986131536: set configuration 0: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null at 0
2019-10-26 08:59:23,795 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 08:59:23,798 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 08:59:24,075 [Thread-1230] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 08:59:24,076 [Thread-1230] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:11936, localhost:11924, localhost:11930
2019-10-26 08:59:24,077 [Thread-1230] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 08:59:24,077 [Thread-1230] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 08:59:24,078 [Thread-1230] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 11936 (custom)
2019-10-26 08:59:24,078 [Thread-1230] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 08:59:24,078 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:24,078 [Thread-1230] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 08:59:24,078 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 08:59:24,079 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-3/ratis] (custom)
2019-10-26 08:59:24,079 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-3: addNew group-523986131536:[omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930] returns group-523986131536:java.util.concurrent.CompletableFuture@1f941d41[Not completed]
2019-10-26 08:59:24,079 [pool-278-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930] with OzoneManagerStateMachine:uninitialized
2019-10-26 08:59:24,079 [Thread-1230] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 11936
2019-10-26 08:59:24,081 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 08:59:24,081 [Thread-1230] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 08:59:24,082 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 08:59:24,082 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 08:59:24,082 [Thread-1230] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 08:59:24,082 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 08:59:24,082 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 08:59:24,082 [Thread-1230] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 08:59:24,082 [pool-278-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null, confs=<EMPTY_MAP>
2019-10-26 08:59:24,082 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-3/ratis] (custom)
2019-10-26 08:59:24,083 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 08:59:24,083 [pool-278-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 08:59:24,084 [Thread-1230] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 08:59:24,085 [Socket Reader #1 for port 11932] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 11932
2019-10-26 08:59:24,096 [pool-278-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 08:59:24,096 [Thread-1230] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11932
2019-10-26 08:59:24,096 [Thread-1230] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 08:59:24,096 [Thread-1230] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-3 at port 11936
2019-10-26 08:59:24,109 [pool-278-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 08:59:24,109 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 08:59:24,109 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 08:59:24,109 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 08:59:24,109 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 08:59:24,110 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 08:59:24,111 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 08:59:24,111 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 08:59:24,111 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 08:59:24,111 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 08:59:24,111 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 08:59:24,111 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 08:59:24,112 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 08:59:24,112 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 08:59:24,113 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:24,113 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 08:59:24,113 [Thread-1230] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 08:59:24,113 [Thread-1230] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 08:59:24,114 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-3: start RPC server
2019-10-26 08:59:24,115 [Thread-1230] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-3: GrpcService started, listening on 0.0.0.0/0.0.0.0:11936
2019-10-26 08:59:24,116 [IPC Server listener on 11932] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 11932: starting
2019-10-26 08:59:24,116 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 08:59:24,122 [Thread-1230] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11934
2019-10-26 08:59:24,123 [Thread-1230] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 08:59:24,124 [Thread-1230] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 08:59:24,125 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 08:59:24,126 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 08:59:24,126 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 08:59:24,126 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 08:59:24,127 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 11934
2019-10-26 08:59:24,127 [Thread-1230] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 08:59:24,128 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@13f6afad{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 08:59:24,129 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@23c81f2f{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 08:59:24,132 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@29ad4cc2{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 08:59:24,132 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3331db20{HTTP/1.1,[http/1.1]}{0.0.0.0:11934}
2019-10-26 08:59:24,133 [Thread-1230] INFO  server.Server (Server.java:doStart(419)) - Started @60285ms
2019-10-26 08:59:24,133 [Thread-1230] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 08:59:24,134 [Thread-1230] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:11934
2019-10-26 08:59:24,135 [Thread-1230] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:11932
2019-10-26 08:59:24,140 [Thread-1230] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-26 08:59:24,144 [Thread-1230] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2347-vd84r-3012294141 ip:192.168.34.52
2019-10-26 08:59:24,151 [Thread-1230] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-26 08:59:24,151 [Thread-1230] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/containers/hdds to VolumeSet
2019-10-26 08:59:24,152 [Thread-1230] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/containers/hdds
2019-10-26 08:59:24,152 [Thread-1230] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(204)) - Scheduled health check for volume /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/containers/hdds
2019-10-26 08:59:24,175 [Thread-1230] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 08:59:24,175 [Thread-1230] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 08:59:24,176 [Thread-1230] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-10-26 08:59:24,176 [Thread-1230] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-26 08:59:24,176 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:24,176 [Thread-1230] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 08:59:24,176 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 08:59:24,177 [Thread-1230] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/ratis] (custom)
2019-10-26 08:59:24,179 [Thread-1230] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-10-26 08:59:24,181 [Thread-1230] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 08:59:24,181 [Thread-1230] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 08:59:24,182 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 08:59:24,183 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-26 08:59:24,183 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 08:59:24,183 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 08:59:24,184 [Thread-1230] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 38366
2019-10-26 08:59:24,184 [Thread-1230] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 08:59:24,185 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@112d11d8{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 08:59:24,186 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@77e2096a{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-26 08:59:24,214 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@1cbde48d{/,file:///tmp/jetty-0.0.0.0-38366-hddsDatanode-_-any-7483851810630169465.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-26 08:59:24,215 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@4dac333{HTTP/1.1,[http/1.1]}{0.0.0.0:38366}
2019-10-26 08:59:24,216 [Thread-1230] INFO  server.Server (Server.java:doStart(419)) - Started @60367ms
2019-10-26 08:59:24,216 [Thread-1230] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 08:59:24,217 [Thread-1230] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:38366
2019-10-26 08:59:24,217 [Thread-1230] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 08:59:24,220 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@35a76cd3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 08:59:24,221 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/meta/datanode.id
2019-10-26 08:59:25,215 [Thread-1409] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1101ms, electionTimeout:1101ms
2019-10-26 08:59:25,215 [Thread-1409] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 08:59:25,215 [Thread-1409] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 08:59:25,215 [Thread-1409] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 08:59:25,219 [Thread-1230] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 08:59:25,233 [omNode-3@group-523986131536-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection20: begin an election at term 1 for -1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:25,241 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-2@group-523986131536- FOLLOWER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=433ms
2019-10-26 08:59:25,241 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-1@group-523986131536-   LEADER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=null
2019-10-26 08:59:25,244 [omNode-3@group-523986131536-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection20: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t1, omNode-3<-omNode-2#0:FAIL-t1] and 0 exception(s); omNode-3@group-523986131536:t1, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:25,244 [omNode-3@group-523986131536-LeaderElection20] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-10-26 08:59:25,244 [omNode-3@group-523986131536-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 08:59:25,244 [omNode-3@group-523986131536-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 08:59:26,219 [Thread-1230] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 08:59:26,239 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(213)) - Attempting to start container services.
2019-10-26 08:59:26,241 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(177)) - Background container scanner has been disabled.
2019-10-26 08:59:26,241 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis a7ef1e73-59bf-44da-b72a-701139fa9fbe at port 0
2019-10-26 08:59:26,248 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe: start RPC server
2019-10-26 08:59:26,253 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe: GrpcService started, listening on 0.0.0.0/0.0.0.0:40506
2019-10-26 08:59:26,253 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(428)) - XceiverServerRatis a7ef1e73-59bf-44da-b72a-701139fa9fbe is started using port 40506
2019-10-26 08:59:26,257 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(149)) - XceiverServerGrpc a7ef1e73-59bf-44da-b72a-701139fa9fbe is started using port 42280
2019-10-26 08:59:26,268 [Thread-1460] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1024ms, electionTimeout:1024ms
2019-10-26 08:59:26,269 [Thread-1460] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 08:59:26,269 [Thread-1460] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-26 08:59:26,269 [Thread-1460] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 08:59:26,283 [omNode-3@group-523986131536-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection21: begin an election at term 2 for -1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:26,285 [grpc-default-executor-2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 08:59:26,285 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 08:59:26,285 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - omNode-1: shutdown LeaderState
2019-10-26 08:59:26,287 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@6e8d6071] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 08:59:26,287 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 08:59:26,287 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@5e8c58ba] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 08:59:26,287 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2019-10-26 08:59:26,287 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#5-t1, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: <empty>
2019-10-26 08:59:26,287 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 08:59:26,288 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 08:59:26,288 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(308)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-10-26 08:59:26,288 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 08:59:26,288 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 08:59:26,288 [Thread-1395] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 08:59:26,291 [grpc-default-executor-0] INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2019-10-26 08:59:26,306 [omNode-3@group-523986131536-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection21: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t2, omNode-3<-omNode-2#0:FAIL-t2] and 0 exception(s); omNode-3@group-523986131536:t2, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:26,306 [omNode-3@group-523986131536-LeaderElection21] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-10-26 08:59:26,306 [omNode-3@group-523986131536-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 08:59:26,307 [omNode-3@group-523986131536-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 08:59:26,790 [java.util.concurrent.ThreadPoolExecutor$Worker@69c70c36[State = -1, empty queue]] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(209)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: appendEntries Timeout, request=omNode-1->omNode-3#0-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: <empty>
2019-10-26 08:59:27,221 [Thread-1230] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 08:59:27,336 [Thread-1472] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1029ms, electionTimeout:1029ms
2019-10-26 08:59:27,336 [Thread-1472] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 08:59:27,336 [Thread-1472] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-10-26 08:59:27,336 [Thread-1472] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 08:59:27,363 [omNode-3@group-523986131536-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection22: begin an election at term 3 for -1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:27,366 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:omNode-3
2019-10-26 08:59:27,366 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:omNode-3
2019-10-26 08:59:27,366 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 08:59:27,366 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 08:59:27,367 [Thread-1470] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 08:59:27,367 [Thread-1471] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 08:59:27,367 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 08:59:27,367 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 08:59:27,384 [omNode-3@group-523986131536-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection22: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t3, omNode-3<-omNode-2#0:FAIL-t3] and 0 exception(s); omNode-3@group-523986131536:t3, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:11936, omNode-1:localhost:11924, omNode-2:localhost:11930], old=null
2019-10-26 08:59:27,384 [omNode-3@group-523986131536-LeaderElection22] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-10-26 08:59:27,384 [omNode-3@group-523986131536-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 08:59:27,385 [omNode-3@group-523986131536-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 08:59:28,223 [Thread-1230] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-26 08:59:28,224 [IPC Server handler 0 on 35589] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(111)) - Added a new node: /default-rack/a7ef1e73-59bf-44da-b72a-701139fa9fbe
2019-10-26 08:59:28,226 [IPC Server handler 0 on 35589] INFO  node.SCMNodeManager (SCMNodeManager.java:register(268)) - Registered Data node : a7ef1e73-59bf-44da-b72a-701139fa9fbe{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}
2019-10-26 08:59:28,227 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-10-26 08:59:28,229 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-10-26 08:59:28,229 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-10-26 08:59:28,238 [IPC Server handler 1 on 11920] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 11920, call Call#173 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:34526
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,242 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe: addNew group-2B818BFE96BA:[a7ef1e73-59bf-44da-b72a-701139fa9fbe:192.168.34.52:40506] returns group-2B818BFE96BA:java.util.concurrent.CompletableFuture@73ee3610[Not completed]
2019-10-26 08:59:28,247 [pool-286-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe: new RaftServerImpl for group-2B818BFE96BA:[a7ef1e73-59bf-44da-b72a-701139fa9fbe:192.168.34.52:40506] with ContainerStateMachine:uninitialized
2019-10-26 08:59:28,247 [IPC Server handler 0 on 11926] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 11926, call Call#173 Retry#1 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:44550
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,248 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-26 08:59:28,249 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-26 08:59:28,249 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-26 08:59:28,249 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 08:59:28,250 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 08:59:28,250 [pool-286-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA: ConfigurationManager, init=-1: [a7ef1e73-59bf-44da-b72a-701139fa9fbe:192.168.34.52:40506], old=null, confs=<EMPTY_MAP>
2019-10-26 08:59:28,250 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/ratis] (custom)
2019-10-26 08:59:28,250 [Thread-1230] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:11926 after 1 failover attempts. Trying to failover immediately.
2019-10-26 08:59:28,251 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 08:59:28,251 [pool-286-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/ratis/86731300-0e40-4335-a067-2b818bfe96ba does not exist. Creating ...
2019-10-26 08:59:28,256 [IPC Server handler 1 on 11932] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 11932, call Call#173 Retry#2 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:56750
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,258 [Thread-1230] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:11932 after 2 failover attempts. Trying to failover immediately.
2019-10-26 08:59:28,260 [IPC Server handler 0 on 11920] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 11920, call Call#173 Retry#3 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:34526
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,264 [Thread-1230] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:11920 after 3 failover attempts. Trying to failover immediately.
2019-10-26 08:59:28,266 [IPC Server handler 1 on 11926] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 11926, call Call#173 Retry#4 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:44550
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,268 [Thread-1230] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:11926 after 4 failover attempts. Trying to failover immediately.
2019-10-26 08:59:28,270 [IPC Server handler 0 on 11932] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 11932, call Call#173 Retry#5 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:56750
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,271 [Thread-1230] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:11932 after 5 failover attempts. Trying to failover immediately.
2019-10-26 08:59:28,273 [IPC Server handler 3 on 11920] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 3 on 11920, call Call#173 Retry#6 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:34526
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,275 [Thread-1230] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:11920 after 6 failover attempts. Trying to failover immediately.
2019-10-26 08:59:28,277 [IPC Server handler 2 on 11926] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 11926, call Call#173 Retry#7 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:44550
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,278 [pool-286-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/ratis/86731300-0e40-4335-a067-2b818bfe96ba/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 08:59:28,280 [Thread-1230] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:11926 after 7 failover attempts. Trying to failover immediately.
2019-10-26 08:59:28,281 [IPC Server handler 2 on 11932] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 11932, call Call#173 Retry#8 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:56750
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,283 [Thread-1230] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:11932 after 8 failover attempts. Trying to failover immediately.
2019-10-26 08:59:28,285 [IPC Server handler 2 on 11920] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 11920, call Call#173 Retry#9 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:34526
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,286 [Thread-1230] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:11920 after 9 failover attempts. Trying to failover immediately.
2019-10-26 08:59:28,288 [IPC Server handler 3 on 11926] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 3 on 11926, call Call#173 Retry#10 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:44550
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 08:59:28,289 [Thread-1230] ERROR ha.OMFailoverProxyProvider (OzoneManagerProtocolClientSideTranslatorPB.java:getRetryAction(268)) - Failed to connect to OM. Attempted 10 retries and 10 failovers
2019-10-26 08:59:28,291 [Thread-1230] ERROR client.OzoneClientFactory (OzoneClientFactory.java:getClientProtocol(259)) - Couldn't create RpcClient protocol exception: 
org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-10-26 08:59:28,292 [Thread-1230] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(314)) - Shutting down the Mini Ozone Cluster
2019-10-26 08:59:28,292 [Thread-1230] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-3
2019-10-26 08:59:28,292 [Thread-1230] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 11932
2019-10-26 08:59:28,293 [pool-286-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/ratis/86731300-0e40-4335-a067-2b818bfe96ba has been successfully formatted.
2019-10-26 08:59:28,294 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-3: close
2019-10-26 08:59:28,294 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 08:59:28,294 [IPC Server listener on 11932] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 11932
2019-10-26 08:59:28,295 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-3@group-523986131536: shutdown
2019-10-26 08:59:28,295 [pool-286-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(231)) - group-2B818BFE96BA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-26 08:59:28,296 [Thread-1230] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 08:59:28,296 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-26 08:59:28,296 [Thread-1230] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 08:59:28,296 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 08:59:28,296 [Thread-1478] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-3@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 08:59:28,296 [Thread-1230] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = -1
2019-10-26 08:59:28,297 [Thread-1230] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-3@group-523986131536: closes. applyIndex: -1
2019-10-26 08:59:28,297 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-26 08:59:28,298 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 08:59:28,298 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 08:59:28,298 [Thread-1230] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 08:59:28,298 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 08:59:28,300 [Thread-1230] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-3: shutdown server with port 11936 now
2019-10-26 08:59:28,300 [pool-286-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 08:59:28,301 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 08:59:28,304 [pool-286-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/ratis/86731300-0e40-4335-a067-2b818bfe96ba
2019-10-26 08:59:28,304 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-26 08:59:28,304 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-26 08:59:28,304 [Thread-1230] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-3: shutdown server with port 11936 successfully
2019-10-26 08:59:28,304 [Thread-1230] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 08:59:28,304 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 08:59:28,304 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 08:59:28,304 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 08:59:28,305 [Thread-1230] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 08:59:28,305 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-26 08:59:28,305 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 08:59:28,305 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 08:59:28,305 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 08:59:28,305 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 08:59:28,306 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@29ad4cc2{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 08:59:28,306 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-26 08:59:28,306 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3331db20{HTTP/1.1,[http/1.1]}{0.0.0.0:11934}
2019-10-26 08:59:28,306 [pool-286-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 08:59:28,307 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@23c81f2f{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 08:59:28,307 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 08:59:28,307 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@13f6afad{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 08:59:28,307 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-10-26 08:59:28,307 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-26 08:59:28,307 [pool-286-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 08:59:28,308 [pool-286-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 08:59:28,308 [pool-286-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 08:59:28,308 [pool-286-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA: start as a follower, conf=-1: [a7ef1e73-59bf-44da-b72a-701139fa9fbe:192.168.34.52:40506], old=null
2019-10-26 08:59:28,309 [pool-286-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 08:59:28,309 [pool-286-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe: start FollowerState
2019-10-26 08:59:28,309 [pool-286-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2B818BFE96BA,id=a7ef1e73-59bf-44da-b72a-701139fa9fbe
2019-10-26 08:59:28,309 [pool-286-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 08:59:28,310 [Thread-1230] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-1
2019-10-26 08:59:28,310 [Thread-1230] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 11920
2019-10-26 08:59:28,314 [IPC Server listener on 11920] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 11920
2019-10-26 08:59:28,314 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 08:59:28,315 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-1: close
2019-10-26 08:59:28,316 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-1@group-523986131536: shutdown
2019-10-26 08:59:28,316 [Thread-1230] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 08:59:28,316 [Thread-1230] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 08:59:28,316 [Thread-1230] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 08:59:28,316 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 08:59:28,316 [Thread-1476] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 08:59:28,318 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 86731300-0e40-4335-a067-2b818bfe96ba, Nodes: a7ef1e73-59bf-44da-b72a-701139fa9fbe{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-26 08:59:28,318 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 08:59:28,318 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 08:59:28,319 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 08:59:28,319 [Thread-1230] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-1@group-523986131536: closes. applyIndex: 0
2019-10-26 08:59:28,319 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 08:59:28,320 [Thread-1230] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 08:59:28,322 [Thread-1230] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-1: shutdown server with port 11924 now
2019-10-26 08:59:28,323 [Thread-1230] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-1: shutdown server with port 11924 successfully
2019-10-26 08:59:28,323 [Thread-1230] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 08:59:28,323 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 08:59:28,323 [Thread-1230] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 08:59:28,324 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2fe2cc9c{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 08:59:28,325 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@31553160{HTTP/1.1,[http/1.1]}{0.0.0.0:11922}
2019-10-26 08:59:28,325 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@404b20b9{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 08:59:28,325 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@228dae37{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 08:59:28,327 [Thread-1230] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-2
2019-10-26 08:59:28,327 [Thread-1230] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 11926
2019-10-26 08:59:28,330 [IPC Server listener on 11926] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 11926
2019-10-26 08:59:28,331 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-2: close
2019-10-26 08:59:28,331 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-2@group-523986131536: shutdown
2019-10-26 08:59:28,331 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 08:59:28,332 [Thread-1230] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 08:59:28,332 [Thread-1230] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 08:59:28,332 [Thread-1230] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 08:59:28,332 [Thread-1477] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 08:59:28,332 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 08:59:28,334 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 08:59:28,334 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 08:59:28,334 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 08:59:28,334 [Thread-1230] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-2@group-523986131536: closes. applyIndex: 0
2019-10-26 08:59:28,334 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 08:59:28,335 [Thread-1230] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 08:59:28,337 [Thread-1230] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-2: shutdown server with port 11930 now
2019-10-26 08:59:28,337 [Thread-1230] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-2: shutdown server with port 11930 successfully
2019-10-26 08:59:28,337 [Thread-1230] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 08:59:28,337 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 08:59:28,337 [Thread-1230] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 08:59:28,338 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@9715289{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 08:59:28,338 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@6c85ed02{HTTP/1.1,[http/1.1]}{0.0.0.0:11928}
2019-10-26 08:59:28,338 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@fa582ce{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 08:59:28,339 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1747fd4a{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 08:59:28,340 [Thread-1230] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(330)) - Stopping the Mini Ozone Cluster
2019-10-26 08:59:28,340 [Thread-1230] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(377)) - Stopping the HddsDatanodes
2019-10-26 08:59:30,219 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-26 08:59:31,231 [Thread-1486] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-10-26 08:59:31,233 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2019-10-26 08:59:33,341 [Thread-1230] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(227)) - Attempting to stop container services.
2019-10-26 08:59:33,342 [Thread-1230] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe: close
2019-10-26 08:59:33,342 [Thread-1230] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA: shutdown
2019-10-26 08:59:33,343 [Thread-1230] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2B818BFE96BA,id=a7ef1e73-59bf-44da-b72a-701139fa9fbe
2019-10-26 08:59:33,343 [Thread-1230] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe: shutdown FollowerState
2019-10-26 08:59:33,343 [Thread-1230] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA-StateMachineUpdater: set stopIndex = -1
2019-10-26 08:59:33,343 [Thread-1502] INFO  impl.FollowerState (FollowerState.java:run(120)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 08:59:33,343 [Thread-1230] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA: closes. applyIndex: -1
2019-10-26 08:59:33,345 [a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 08:59:33,345 [Thread-1230] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe@group-2B818BFE96BA-SegmentedRaftLogWorker close()
2019-10-26 08:59:33,347 [Thread-1230] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe: shutdown server with port 40506 now
2019-10-26 08:59:33,348 [Thread-1230] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - a7ef1e73-59bf-44da-b72a-701139fa9fbe: shutdown server with port 40506 successfully
2019-10-26 08:59:33,362 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b0e5248d-2423-40db-bef3-512eb45dc6fc/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-26 08:59:33,380 [Thread-1230] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service BlockDeletingService
2019-10-26 08:59:33,383 [Thread-1230] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-26 08:59:33,384 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@1cbde48d{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-26 08:59:33,385 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@4dac333{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 08:59:33,385 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@77e2096a{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-26 08:59:33,385 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@112d11d8{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 08:59:33,386 [Thread-1230] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(392)) - Stopping the StorageContainerManager
2019-10-26 08:59:33,386 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-26 08:59:33,386 [Thread-1230] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-10-26 08:59:33,386 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-26 08:59:33,387 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-26 08:59:33,387 [Thread-1230] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-26 08:59:33,387 [Thread-1230] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 35589
2019-10-26 08:59:33,388 [IPC Server listener on 35589] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 35589
2019-10-26 08:59:33,389 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 08:59:33,420 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-26 08:59:33,421 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-26 08:59:33,421 [Thread-1230] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-26 08:59:33,421 [Thread-1230] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 34229
2019-10-26 08:59:33,424 [IPC Server listener on 34229] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 34229
2019-10-26 08:59:33,427 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 08:59:33,427 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-26 08:59:33,428 [Thread-1230] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-26 08:59:33,429 [Thread-1230] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41260
2019-10-26 08:59:33,431 [IPC Server listener on 41260] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41260
2019-10-26 08:59:33,431 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-26 08:59:33,432 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 08:59:33,433 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@cfed31e{/,null,UNAVAILABLE}{/scm}
2019-10-26 08:59:33,433 [Thread-1230] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2cc9e5c1{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 08:59:33,434 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1aec5389{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 08:59:33,434 [Thread-1230] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@62603e7b{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 08:59:33,435 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-26 08:59:33,435 [Thread-1230] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 08:59:33,436 [Thread-1230] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 08:59:33,436 [Thread-1230] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-26 08:59:33,442 [Thread-1230] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-10-26 08:59:33,447 [Thread-1230] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
]]></system-out>
    <system-err><![CDATA[Oct 26, 2019 8:59:23 AM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=184, target=192.168.34.52:46363} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:128)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:62)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:108)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequestAsync(GrpcClientRpc.java:66)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequest(OrderedAsync.java:208)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequestWithRetry(OrderedAsync.java:169)
	at org.apache.ratis.util.SlidingWindow$Client.sendOrDelayRequest(SlidingWindow.java:278)
	at org.apache.ratis.util.SlidingWindow$Client.retry(SlidingWindow.java:294)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$scheduleWithTimeout$7(OrderedAsync.java:195)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:113)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:133)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:50)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:91)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Oct 26, 2019 8:59:23 AM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=118, target=192.168.34.52:36080} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connectToDatanode(XceiverClientGrpc.java:186)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connect(XceiverClientGrpc.java:133)
	at org.apache.hadoop.hdds.scm.XceiverClientManager$2.call(XceiverClientManager.java:246)
	at org.apache.hadoop.hdds.scm.XceiverClientManager$2.call(XceiverClientManager.java:230)
	at com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4767)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3568)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2350)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2313)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2228)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3965)
	at com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4764)
	at org.apache.hadoop.hdds.scm.XceiverClientManager.getClient(XceiverClientManager.java:230)
	at org.apache.hadoop.hdds.scm.XceiverClientManager.acquireClient(XceiverClientManager.java:176)
	at org.apache.hadoop.hdds.scm.XceiverClientManager.acquireClient(XceiverClientManager.java:151)
	at org.apache.hadoop.hdds.scm.storage.BlockOutputStream.<init>(BlockOutputStream.java:147)
	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.checkStream(BlockOutputStreamEntry.java:110)
	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntry.write(BlockOutputStreamEntry.java:128)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleWrite(KeyOutputStream.java:208)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.write(KeyOutputStream.java:190)
	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.write(OzoneOutputStream.java:49)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.createKey(TestOzoneManagerHA.java:1152)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.testOMRatisSnapshot(TestOzoneManagerHA.java:1099)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)

Oct 26, 2019 8:59:23 AM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=189, target=192.168.34.52:43529} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connectToDatanode(XceiverClientGrpc.java:186)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connect(XceiverClientGrpc.java:133)
	at org.apache.hadoop.hdds.scm.XceiverClientManager$2.call(XceiverClientManager.java:246)
	at org.apache.hadoop.hdds.scm.XceiverClientManager$2.call(XceiverClientManager.java:230)
	at com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4767)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3568)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2350)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2313)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2228)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3965)
	at com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4764)
	at org.apache.hadoop.hdds.scm.XceiverClientManager.getClient(XceiverClientManager.java:230)
	at org.apache.hadoop.hdds.scm.XceiverClientManager.acquireClient(XceiverClientManager.java:176)
	at org.apache.hadoop.hdds.scm.XceiverClientManager.acquireClientForReadData(XceiverClientManager.java:166)
	at org.apache.hadoop.hdds.scm.storage.BlockInputStream.getChunkInfos(BlockInputStream.java:154)
	at org.apache.hadoop.hdds.scm.storage.BlockInputStream.initialize(BlockInputStream.java:118)
	at org.apache.hadoop.hdds.scm.storage.BlockInputStream.read(BlockInputStream.java:224)
	at org.apache.hadoop.ozone.client.io.KeyInputStream.read(KeyInputStream.java:173)
	at org.apache.hadoop.ozone.client.io.OzoneInputStream.read(OzoneInputStream.java:47)
	at java.io.InputStream.read(InputStream.java:101)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.testCreateFile(TestOzoneManagerHA.java:452)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.testFileOperationsWithRecursive(TestOzoneManagerHA.java:330)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)

Oct 26, 2019 8:59:23 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed@67fe27b9
java.lang.NullPointerException
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onError(GrpcLogAppender.java:303)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:434)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:678)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:397)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:459)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:63)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:546)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$600(ClientCallImpl.java:467)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:584)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

]]></system-err>
  </testcase>
  <testcase name="testOMProxyProviderFailoverToCurrentLeader" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="15.037"/>
  <testcase name="testAddBucketAcl" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.18"/>
  <testcase name="testMultipartUploadWithOneOmNodeDown" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="18.262"/>
  <testcase name="testAllBucketOperations" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.092"/>
  <testcase name="testOMProxyProviderFailoverOnConnectionFailure" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="12.327">
    <error message="Couldn&apos;t create RpcClient protocol" type="java.io.IOException"><![CDATA[java.io.IOException: Couldn't create RpcClient protocol
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:263)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
Caused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	... 13 more
]]></error>
    <system-out><![CDATA[2019-10-26 09:00:33,059 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:33,074 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:33,074 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:33,075 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedBlocks
2019-10-26 09:00:33,075 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-26 09:00:33,075 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: validCerts
2019-10-26 09:00:33,075 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-26 09:00:33,075 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: revokedCerts
2019-10-26 09:00:33,076 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-26 09:00:33,076 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:00:33,076 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:00:33,076 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:00:33,331 [Thread-2770] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@1171a479
2019-10-26 09:00:33,331 [Thread-2770] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-26 09:00:33,337 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 09:00:33,337 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 09:00:33,337 [Thread-2770] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-26 09:00:33,338 [Thread-2770] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-26 09:00:33,338 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:33,404 [Thread-2770] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(132)) - No pipeline exists in current db
2019-10-26 09:00:33,404 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:33,503 [Thread-2770] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-26 09:00:33,504 [Thread-2770] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:00:33,505 [Socket Reader #1 for port 34402] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 34402
2019-10-26 09:00:33,507 [Thread-2770] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:00:33,508 [Socket Reader #1 for port 32835] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 32835
2019-10-26 09:00:33,511 [Thread-2770] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:00:33,511 [Socket Reader #1 for port 43719] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43719
2019-10-26 09:00:33,514 [Thread-2770] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-26 09:00:33,517 [Thread-2770] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:00:33,518 [Thread-2770] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:00:33,520 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:00:33,521 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-26 09:00:33,521 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:00:33,521 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:00:33,523 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:start(772)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:43719
2019-10-26 09:00:33,526 [Thread-2770] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-26 09:00:33,527 [Thread-2770] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-26 09:00:33,527 [Thread-2770] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-26 09:00:33,554 [Thread-2770] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:00:33,606 [Thread-2770] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(159)) - RPC server for Client  is listening at /0.0.0.0:43719
2019-10-26 09:00:33,606 [IPC Server listener on 43719] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43719: starting
2019-10-26 09:00:33,606 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:00:33,609 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:start(782)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:32835
2019-10-26 09:00:33,610 [Thread-2770] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:32835
2019-10-26 09:00:33,610 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:00:33,610 [IPC Server listener on 32835] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 32835: starting
2019-10-26 09:00:33,616 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:start(786)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:34402
2019-10-26 09:00:33,616 [Thread-2770] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(169)) - RPC server for DataNodes is listening at /0.0.0.0:34402
2019-10-26 09:00:33,616 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:00:33,617 [IPC Server listener on 34402] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 34402: starting
2019-10-26 09:00:33,619 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 41086
2019-10-26 09:00:33,620 [Thread-2770] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:00:33,621 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@33b74a4f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:00:33,622 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@45c94905{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:00:33,625 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@70adfce3{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-26 09:00:33,625 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1bc7bd5e{HTTP/1.1,[http/1.1]}{0.0.0.0:41086}
2019-10-26 09:00:33,626 [Thread-2770] INFO  server.Server (Server.java:doStart(419)) - Started @129778ms
2019-10-26 09:00:33,626 [Thread-2770] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:00:33,627 [Thread-2770] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:41086
2019-10-26 09:00:33,628 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@28913cd9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 09:00:33,628 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:33,643 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:10260 and Ratis port: 10264
2019-10-26 09:00:33,643 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-1: 127.0.0.1:10262
2019-10-26 09:00:33,643 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-1: 127.0.0.1:10263
2019-10-26 09:00:33,643 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-1: 127.0.0.1:10260
2019-10-26 09:00:33,643 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:33,644 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:33,651 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:33,652 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:00:33,652 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:00:33,652 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:00:33,652 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:00:33,652 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:00:33,652 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:00:33,652 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:00:33,653 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:00:33,654 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:00:33,654 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:00:33,654 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:00:33,654 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:00:33,654 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:00:33,654 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:00:33,654 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:00:33,654 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:00:34,239 [Thread-2770] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:00:34,240 [Thread-2770] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10264, localhost:10270, localhost:10276
2019-10-26 09:00:34,241 [Thread-2770] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:00:34,241 [Thread-2770] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:00:34,241 [Thread-2770] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10264 (custom)
2019-10-26 09:00:34,241 [Thread-2770] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:00:34,242 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:34,242 [Thread-2770] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:00:34,242 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:00:34,242 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-1/ratis] (custom)
2019-10-26 09:00:34,243 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-1: addNew group-523986131536:[omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270] returns group-523986131536:java.util.concurrent.CompletableFuture@66a6c6b4[Not completed]
2019-10-26 09:00:34,243 [Thread-2770] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10264
2019-10-26 09:00:34,243 [Thread-2770] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:00:34,243 [pool-567-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:00:34,243 [Thread-2770] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:00:34,243 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:00:34,243 [Thread-2770] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:00:34,243 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:00:34,243 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:00:34,244 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:00:34,244 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:00:34,244 [pool-567-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null, confs=<EMPTY_MAP>
2019-10-26 09:00:34,244 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-1/ratis] (custom)
2019-10-26 09:00:34,244 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:00:34,244 [Thread-2770] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:00:34,245 [pool-567-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:00:34,248 [Socket Reader #1 for port 10260] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10260
2019-10-26 09:00:34,259 [Thread-2770] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10260
2019-10-26 09:00:34,259 [Thread-2770] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:00:34,259 [Thread-2770] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-1 at port 10264
2019-10-26 09:00:34,260 [pool-567-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:00:34,273 [pool-567-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:00:34,273 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:00:34,273 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:00:34,273 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:00:34,273 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:34,273 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:00:34,274 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:00:34,275 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:00:34,275 [pool-567-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:00:34,275 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:00:34,275 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:00:34,275 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:00:34,275 [pool-567-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:00:34,276 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:34,276 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:00:34,277 [Thread-2770] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:00:34,277 [Thread-2770] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 09:00:34,277 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-1: start RPC server
2019-10-26 09:00:34,278 [Thread-2770] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-1: GrpcService started, listening on 0.0.0.0/0.0.0.0:10264
2019-10-26 09:00:34,280 [IPC Server listener on 10260] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10260: starting
2019-10-26 09:00:34,280 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:00:34,284 [Thread-2770] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10262
2019-10-26 09:00:34,286 [Thread-2770] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:00:34,286 [Thread-2770] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:00:34,288 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:00:34,288 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:00:34,288 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:00:34,289 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:00:34,289 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10262
2019-10-26 09:00:34,289 [Thread-2770] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:00:34,291 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1d7eb6a5{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:00:34,291 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5145d29a{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:00:34,295 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@3c367853{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:00:34,295 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1ac81f76{HTTP/1.1,[http/1.1]}{0.0.0.0:10262}
2019-10-26 09:00:34,296 [Thread-2770] INFO  server.Server (Server.java:doStart(419)) - Started @130448ms
2019-10-26 09:00:34,296 [Thread-2770] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:00:34,297 [Thread-2770] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10262
2019-10-26 09:00:34,297 [Thread-2770] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10260
2019-10-26 09:00:34,298 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:34,313 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:10266 and Ratis port: 10270
2019-10-26 09:00:34,313 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-2: 127.0.0.1:10268
2019-10-26 09:00:34,313 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-2: 127.0.0.1:10269
2019-10-26 09:00:34,313 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-2: 127.0.0.1:10266
2019-10-26 09:00:34,313 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:34,313 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:34,318 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:34,318 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:00:34,319 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:00:34,319 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:00:34,319 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:00:34,319 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:00:34,319 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:00:34,319 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:00:34,319 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:00:34,319 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:00:34,319 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:00:34,320 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:00:34,320 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:00:34,320 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:00:34,320 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:00:34,320 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:00:34,320 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:00:34,320 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:00:34,320 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:00:34,320 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:00:34,321 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:00:34,321 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:00:34,321 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:00:34,321 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:00:34,321 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:00:34,321 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:00:34,971 [Thread-2770] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:00:34,971 [Thread-2770] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10270, localhost:10264, localhost:10276
2019-10-26 09:00:34,972 [Thread-2770] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:00:34,972 [Thread-2770] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:00:34,972 [Thread-2770] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10270 (custom)
2019-10-26 09:00:34,973 [Thread-2770] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:00:34,973 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:34,973 [Thread-2770] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:00:34,973 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:00:34,974 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-2/ratis] (custom)
2019-10-26 09:00:34,974 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-2: addNew group-523986131536:[omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270] returns group-523986131536:java.util.concurrent.CompletableFuture@6dc53bd2[Not completed]
2019-10-26 09:00:34,974 [pool-583-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:00:34,975 [Thread-2770] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10270
2019-10-26 09:00:34,975 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:00:34,975 [Thread-2770] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:00:34,975 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:00:34,975 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:00:34,975 [Thread-2770] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:00:34,975 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:00:34,975 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:00:34,975 [Thread-2770] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:00:34,976 [pool-583-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null, confs=<EMPTY_MAP>
2019-10-26 09:00:34,976 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-2/ratis] (custom)
2019-10-26 09:00:34,976 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:00:34,976 [pool-583-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:00:34,977 [Thread-2770] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:00:34,978 [Socket Reader #1 for port 10266] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10266
2019-10-26 09:00:34,995 [Thread-2770] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10266
2019-10-26 09:00:34,995 [Thread-2770] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:00:34,995 [Thread-2770] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-2 at port 10270
2019-10-26 09:00:35,001 [pool-583-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:00:35,014 [pool-583-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:00:35,014 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:00:35,014 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:00:35,014 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:00:35,014 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:35,014 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:00:35,015 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:00:35,015 [pool-583-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:00:35,015 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:00:35,015 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:00:35,015 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:00:35,015 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:00:35,015 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:00:35,016 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:00:35,016 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:00:35,016 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:00:35,016 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:00:35,016 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:00:35,016 [pool-583-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:00:35,017 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:00:35,017 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:00:35,017 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:00:35,017 [pool-583-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:00:35,018 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:35,018 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:00:35,019 [Thread-2770] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:00:35,019 [Thread-2770] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 09:00:35,019 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-2: start RPC server
2019-10-26 09:00:35,020 [Thread-2770] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-2: GrpcService started, listening on 0.0.0.0/0.0.0.0:10270
2019-10-26 09:00:35,021 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:00:35,021 [IPC Server listener on 10266] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10266: starting
2019-10-26 09:00:35,027 [Thread-2770] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10268
2019-10-26 09:00:35,028 [Thread-2770] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:00:35,029 [Thread-2770] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:00:35,030 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:00:35,031 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:00:35,031 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:00:35,031 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:00:35,032 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10268
2019-10-26 09:00:35,032 [Thread-2770] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:00:35,034 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@15f4ffd7{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:00:35,034 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@70b30b08{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:00:35,037 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@737f08ef{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:00:35,038 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@474bf0d{HTTP/1.1,[http/1.1]}{0.0.0.0:10268}
2019-10-26 09:00:35,038 [Thread-2770] INFO  server.Server (Server.java:doStart(419)) - Started @131190ms
2019-10-26 09:00:35,038 [Thread-2770] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:00:35,039 [Thread-2770] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10268
2019-10-26 09:00:35,039 [Thread-2770] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10266
2019-10-26 09:00:35,040 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:35,053 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:10272 and Ratis port: 10276
2019-10-26 09:00:35,054 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-3: 127.0.0.1:10274
2019-10-26 09:00:35,054 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-3: 127.0.0.1:10275
2019-10-26 09:00:35,054 [Thread-2770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-3: 127.0.0.1:10272
2019-10-26 09:00:35,054 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:35,054 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:35,058 [Thread-2770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:00:35,058 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:00:35,058 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:00:35,058 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:00:35,058 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:00:35,058 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:00:35,058 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:00:35,059 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:00:35,060 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:00:35,060 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:00:35,060 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:00:35,060 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:00:35,060 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:00:35,060 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:00:35,060 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:00:35,060 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:00:35,060 [Thread-2770] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:00:35,351 [Thread-2863] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1074ms, electionTimeout:1074ms
2019-10-26 09:00:35,352 [Thread-2863] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:00:35,352 [Thread-2863] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:00:35,352 [Thread-2863] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderElection
2019-10-26 09:00:35,364 [omNode-1@group-523986131536-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-1@group-523986131536-LeaderElection44: begin an election at term 1 for -1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:35,371 [omNode-1@group-523986131536-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - omNode-1@group-523986131536-LeaderElection44 got exception when requesting votes: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:10276
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 09:00:35,378 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:omNode-1
2019-10-26 09:00:35,378 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:00:35,378 [Thread-2903] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:00:35,378 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:00:35,394 [omNode-1@group-523986131536-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-1@group-523986131536-LeaderElection44: Election PASSED; received 1 response(s) [omNode-1<-omNode-2#0:OK-t1] and 1 exception(s); omNode-1@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:35,394 [omNode-1@group-523986131536-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:10276
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 09:00:35,395 [omNode-1@group-523986131536-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-1: shutdown LeaderElection
2019-10-26 09:00:35,395 [omNode-1@group-523986131536-LeaderElection44] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-26 09:00:35,395 [omNode-1@group-523986131536-LeaderElection44] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1122ms
2019-10-26 09:00:35,395 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-26 09:00:35,395 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-26 09:00:35,395 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-26 09:00:35,396 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-26 09:00:35,396 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-26 09:00:35,396 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-26 09:00:35,396 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:00:35,396 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:35,396 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:00:35,396 [omNode-1@group-523986131536-LeaderElection44] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:00:35,396 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:00:35,397 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:00:35,397 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:00:35,397 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:35,397 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:00:35,397 [omNode-1@group-523986131536-LeaderElection44] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:00:35,397 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:00:35,397 [omNode-1@group-523986131536-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:00:35,397 [omNode-1@group-523986131536-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderState
2019-10-26 09:00:35,398 [omNode-1@group-523986131536-LeaderElection44] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:00:35,398 [omNode-1@group-523986131536-LeaderElection44] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-1@group-523986131536: set configuration 0: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null at 0
2019-10-26 09:00:35,399 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-10-26 09:00:35,404 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 390ms
2019-10-26 09:00:35,407 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-2@group-523986131536: set configuration 0: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null at 0
2019-10-26 09:00:35,407 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:00:35,411 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 09:00:35,411 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 09:00:35,725 [Thread-2770] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:00:35,726 [Thread-2770] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10276, localhost:10264, localhost:10270
2019-10-26 09:00:35,727 [Thread-2770] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:00:35,727 [Thread-2770] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:00:35,727 [Thread-2770] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10276 (custom)
2019-10-26 09:00:35,727 [Thread-2770] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:00:35,728 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:35,728 [Thread-2770] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:00:35,728 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:00:35,729 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-3/ratis] (custom)
2019-10-26 09:00:35,729 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-3: addNew group-523986131536:[omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270] returns group-523986131536:java.util.concurrent.CompletableFuture@227097e7[Not completed]
2019-10-26 09:00:35,729 [pool-599-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:00:35,730 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:00:35,730 [Thread-2770] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10276
2019-10-26 09:00:35,730 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:00:35,730 [Thread-2770] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:00:35,730 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:00:35,730 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:00:35,730 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:00:35,730 [Thread-2770] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:00:35,730 [pool-599-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null, confs=<EMPTY_MAP>
2019-10-26 09:00:35,731 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-3/ratis] (custom)
2019-10-26 09:00:35,731 [Thread-2770] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:00:35,731 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:00:35,731 [pool-599-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:00:35,733 [Thread-2770] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:00:35,734 [Socket Reader #1 for port 10272] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10272
2019-10-26 09:00:35,749 [pool-599-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:00:35,757 [Thread-2770] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10272
2019-10-26 09:00:35,757 [Thread-2770] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:00:35,757 [Thread-2770] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-3 at port 10276
2019-10-26 09:00:35,761 [pool-599-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:00:35,762 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:00:35,762 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:00:35,762 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:00:35,762 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:35,762 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:00:35,762 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:00:35,762 [pool-599-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:00:35,763 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:00:35,764 [pool-599-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:00:35,764 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:00:35,764 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:00:35,764 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:00:35,764 [pool-599-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:00:35,765 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:35,766 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:00:35,766 [Thread-2770] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:00:35,766 [Thread-2770] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 09:00:35,767 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-3: start RPC server
2019-10-26 09:00:35,768 [Thread-2770] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-3: GrpcService started, listening on 0.0.0.0/0.0.0.0:10276
2019-10-26 09:00:35,775 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:00:35,775 [IPC Server listener on 10272] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10272: starting
2019-10-26 09:00:35,780 [Thread-2770] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10274
2019-10-26 09:00:35,781 [Thread-2770] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:00:35,782 [Thread-2770] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:00:35,783 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:00:35,784 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:00:35,784 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:00:35,784 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:00:35,785 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10274
2019-10-26 09:00:35,785 [Thread-2770] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:00:35,787 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7abb9016{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:00:35,787 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@78c2c903{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:00:35,791 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@7f721189{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:00:35,791 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@240d1cf{HTTP/1.1,[http/1.1]}{0.0.0.0:10274}
2019-10-26 09:00:35,792 [Thread-2770] INFO  server.Server (Server.java:doStart(419)) - Started @131943ms
2019-10-26 09:00:35,792 [Thread-2770] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:00:35,793 [Thread-2770] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10274
2019-10-26 09:00:35,793 [Thread-2770] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10272
2019-10-26 09:00:35,796 [Thread-2770] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-26 09:00:35,802 [Thread-2770] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2347-vd84r-3012294141 ip:192.168.34.52
2019-10-26 09:00:35,809 [Thread-2770] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-26 09:00:35,809 [Thread-2770] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/containers/hdds to VolumeSet
2019-10-26 09:00:35,809 [Thread-2770] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/containers/hdds
2019-10-26 09:00:35,811 [Thread-2770] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(204)) - Scheduled health check for volume /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/containers/hdds
2019-10-26 09:00:35,823 [Thread-2770] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:00:35,823 [Thread-2770] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:00:35,823 [Thread-2770] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-10-26 09:00:35,823 [Thread-2770] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-26 09:00:35,823 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:35,823 [Thread-2770] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:00:35,823 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:00:35,824 [Thread-2770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/ratis] (custom)
2019-10-26 09:00:35,826 [Thread-2770] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-10-26 09:00:35,827 [Thread-2770] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:00:35,827 [Thread-2770] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:00:35,829 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:00:35,829 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-26 09:00:35,829 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:00:35,829 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:00:35,830 [Thread-2770] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 35539
2019-10-26 09:00:35,830 [Thread-2770] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:00:36,010 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5d7a3f86{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:00:36,015 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@340aa492{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-26 09:00:36,061 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@54f737b9{/,file:///tmp/jetty-0.0.0.0-35539-hddsDatanode-_-any-1130326296158412897.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-26 09:00:36,062 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@21e6fbe2{HTTP/1.1,[http/1.1]}{0.0.0.0:35539}
2019-10-26 09:00:36,063 [Thread-2770] INFO  server.Server (Server.java:doStart(419)) - Started @132214ms
2019-10-26 09:00:36,063 [Thread-2770] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:00:36,064 [Thread-2770] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:35539
2019-10-26 09:00:36,064 [Thread-2770] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:00:36,066 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5cb8d31b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 09:00:36,068 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/meta/datanode.id
2019-10-26 09:00:36,831 [Thread-2954] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1065ms, electionTimeout:1065ms
2019-10-26 09:00:36,832 [Thread-2954] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:00:36,832 [Thread-2954] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:00:36,832 [Thread-2954] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:00:36,849 [omNode-3@group-523986131536-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection45: begin an election at term 1 for -1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:36,860 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-1@group-523986131536-   LEADER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=null
2019-10-26 09:00:36,860 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-2@group-523986131536- FOLLOWER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=345ms
2019-10-26 09:00:36,863 [omNode-3@group-523986131536-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection45: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t1, omNode-3<-omNode-2#0:FAIL-t1] and 0 exception(s); omNode-3@group-523986131536:t1, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:36,863 [omNode-3@group-523986131536-LeaderElection45] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-10-26 09:00:36,863 [omNode-3@group-523986131536-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:00:36,863 [omNode-3@group-523986131536-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:00:37,065 [Thread-2770] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:00:37,931 [Thread-3006] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1067ms, electionTimeout:1067ms
2019-10-26 09:00:37,931 [Thread-3006] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:00:37,931 [Thread-3006] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-26 09:00:37,931 [Thread-3006] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:00:37,954 [omNode-3@group-523986131536-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection46: begin an election at term 2 for -1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:37,957 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 09:00:37,957 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 09:00:37,957 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:00:37,957 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 09:00:37,957 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:00:37,957 [Thread-2939] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:00:37,958 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 09:00:37,960 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - omNode-1: shutdown LeaderState
2019-10-26 09:00:37,961 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2019-10-26 09:00:37,961 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@7370984] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:00:37,961 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@3ea67f78] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:00:37,962 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:00:37,962 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#5-t1, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: <empty>
2019-10-26 09:00:37,963 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(308)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-10-26 09:00:37,968 [grpc-default-executor-2] INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2019-10-26 09:00:37,988 [omNode-3@group-523986131536-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection46: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t2, omNode-3<-omNode-2#0:FAIL-t2] and 0 exception(s); omNode-3@group-523986131536:t2, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:37,988 [omNode-3@group-523986131536-LeaderElection46] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-10-26 09:00:37,989 [omNode-3@group-523986131536-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:00:37,989 [omNode-3@group-523986131536-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:00:38,067 [Thread-2770] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:00:38,087 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(213)) - Attempting to start container services.
2019-10-26 09:00:38,087 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(177)) - Background container scanner has been disabled.
2019-10-26 09:00:38,088 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 019a86a7-b1be-483d-b756-841f956439f5 at port 0
2019-10-26 09:00:38,095 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 019a86a7-b1be-483d-b756-841f956439f5: start RPC server
2019-10-26 09:00:38,101 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 019a86a7-b1be-483d-b756-841f956439f5: GrpcService started, listening on 0.0.0.0/0.0.0.0:44291
2019-10-26 09:00:38,101 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(428)) - XceiverServerRatis 019a86a7-b1be-483d-b756-841f956439f5 is started using port 44291
2019-10-26 09:00:38,103 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(149)) - XceiverServerGrpc 019a86a7-b1be-483d-b756-841f956439f5 is started using port 44047
2019-10-26 09:00:38,399 [java.util.concurrent.ThreadPoolExecutor$Worker@586ec36d[State = -1, empty queue]] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(209)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: appendEntries Timeout, request=omNode-1->omNode-3#0-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: <empty>
2019-10-26 09:00:38,992 [Thread-3016] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1003ms, electionTimeout:1003ms
2019-10-26 09:00:38,993 [Thread-3016] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:00:38,993 [Thread-3016] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-10-26 09:00:38,993 [Thread-3016] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:00:39,009 [omNode-3@group-523986131536-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection47: begin an election at term 3 for -1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:39,012 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:omNode-3
2019-10-26 09:00:39,012 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:omNode-3
2019-10-26 09:00:39,012 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:00:39,012 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:00:39,013 [Thread-3015] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:00:39,013 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:00:39,013 [Thread-3013] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:00:39,013 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:00:39,035 [omNode-3@group-523986131536-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection47: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t3, omNode-3<-omNode-2#0:FAIL-t3] and 0 exception(s); omNode-3@group-523986131536:t3, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:39,035 [omNode-3@group-523986131536-LeaderElection47] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-10-26 09:00:39,035 [omNode-3@group-523986131536-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:00:39,035 [omNode-3@group-523986131536-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:00:39,069 [Thread-2770] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:00:40,051 [Thread-3025] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1015ms, electionTimeout:1015ms
2019-10-26 09:00:40,051 [Thread-3025] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:00:40,051 [Thread-3025] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-10-26 09:00:40,051 [Thread-3025] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:00:40,058 [Thread-3024] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-2@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1045ms, electionTimeout:1041ms
2019-10-26 09:00:40,058 [Thread-3024] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:00:40,058 [Thread-3024] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-10-26 09:00:40,059 [Thread-3024] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start LeaderElection
2019-10-26 09:00:40,062 [Thread-3023] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1049ms, electionTimeout:1045ms
2019-10-26 09:00:40,062 [Thread-3023] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:00:40,062 [Thread-3023] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-10-26 09:00:40,062 [Thread-3023] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderElection
2019-10-26 09:00:40,069 [IPC Server handler 0 on 34402] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(111)) - Added a new node: /default-rack/019a86a7-b1be-483d-b756-841f956439f5
2019-10-26 09:00:40,070 [IPC Server handler 0 on 34402] INFO  node.SCMNodeManager (SCMNodeManager.java:register(268)) - Registered Data node : 019a86a7-b1be-483d-b756-841f956439f5{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}
2019-10-26 09:00:40,071 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-10-26 09:00:40,072 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-10-26 09:00:40,072 [Thread-2770] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-26 09:00:40,072 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-10-26 09:00:40,080 [IPC Server handler 2 on 10260] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 10260, call Call#253 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:38124
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,087 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 019a86a7-b1be-483d-b756-841f956439f5: addNew group-3106575B4105:[019a86a7-b1be-483d-b756-841f956439f5:192.168.34.52:44291] returns group-3106575B4105:java.util.concurrent.CompletableFuture@24928f04[Not completed]
2019-10-26 09:00:40,087 [omNode-2@group-523986131536-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-2@group-523986131536-LeaderElection49: begin an election at term 4 for 0: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:40,087 [omNode-1@group-523986131536-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-1@group-523986131536-LeaderElection50: begin an election at term 4 for 0: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:40,087 [omNode-3@group-523986131536-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection48: begin an election at term 4 for -1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:40,089 [IPC Server handler 6 on 10266] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 6 on 10266, call Call#253 Retry#1 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:51468
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,093 [Thread-2770] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10266 after 1 failover attempts. Trying to failover immediately.
2019-10-26 09:00:40,094 [pool-607-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - 019a86a7-b1be-483d-b756-841f956439f5: new RaftServerImpl for group-3106575B4105:[019a86a7-b1be-483d-b756-841f956439f5:192.168.34.52:44291] with ContainerStateMachine:uninitialized
2019-10-26 09:00:40,094 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-26 09:00:40,094 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-26 09:00:40,094 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-26 09:00:40,095 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:00:40,095 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:00:40,095 [pool-607-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105: ConfigurationManager, init=-1: [019a86a7-b1be-483d-b756-841f956439f5:192.168.34.52:44291], old=null, confs=<EMPTY_MAP>
2019-10-26 09:00:40,097 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/ratis] (custom)
2019-10-26 09:00:40,099 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:00:40,099 [pool-607-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/ratis/44045997-ebe3-4812-9a8c-3106575b4105 does not exist. Creating ...
2019-10-26 09:00:40,101 [IPC Server handler 0 on 10272] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10272, call Call#253 Retry#2 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:52074
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,103 [omNode-3@group-523986131536-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection48: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t4, omNode-3<-omNode-2#0:FAIL-t4] and 0 exception(s); omNode-3@group-523986131536:t4, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:40,103 [omNode-3@group-523986131536-LeaderElection48] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 4 for DISCOVERED_A_NEW_TERM
2019-10-26 09:00:40,104 [omNode-3@group-523986131536-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:00:40,105 [Thread-2770] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10272 after 2 failover attempts. Trying to failover immediately.
2019-10-26 09:00:40,107 [omNode-3@group-523986131536-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:00:40,107 [omNode-2@group-523986131536-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-2@group-523986131536-LeaderElection49: Election REJECTED; received 2 response(s) [omNode-2<-omNode-3#0:FAIL-t4, omNode-2<-omNode-1#0:FAIL-t4] and 0 exception(s); omNode-2@group-523986131536:t4, leader=null, voted=omNode-2, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:40,108 [omNode-2@group-523986131536-LeaderElection49] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 4 for DISCOVERED_A_NEW_TERM
2019-10-26 09:00:40,108 [omNode-2@group-523986131536-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-2: shutdown LeaderElection
2019-10-26 09:00:40,109 [omNode-2@group-523986131536-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:00:40,109 [omNode-1@group-523986131536-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-1@group-523986131536-LeaderElection50: Election REJECTED; received 2 response(s) [omNode-1<-omNode-3#0:FAIL-t4, omNode-1<-omNode-2#0:FAIL-t4] and 0 exception(s); omNode-1@group-523986131536:t4, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [omNode-3:localhost:10276, omNode-1:localhost:10264, omNode-2:localhost:10270], old=null
2019-10-26 09:00:40,111 [omNode-1@group-523986131536-LeaderElection50] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 4 for DISCOVERED_A_NEW_TERM
2019-10-26 09:00:40,111 [omNode-1@group-523986131536-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-1: shutdown LeaderElection
2019-10-26 09:00:40,111 [IPC Server handler 1 on 10260] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 10260, call Call#253 Retry#3 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:38124
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,112 [omNode-1@group-523986131536-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:00:40,114 [pool-607-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/ratis/44045997-ebe3-4812-9a8c-3106575b4105/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:00:40,114 [Thread-2770] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10260 after 3 failover attempts. Trying to failover immediately.
2019-10-26 09:00:40,115 [IPC Server handler 7 on 10266] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 7 on 10266, call Call#253 Retry#4 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:51468
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,118 [Thread-2770] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10266 after 4 failover attempts. Trying to failover immediately.
2019-10-26 09:00:40,120 [IPC Server handler 1 on 10272] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 10272, call Call#253 Retry#5 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:52074
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,127 [pool-607-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/ratis/44045997-ebe3-4812-9a8c-3106575b4105 has been successfully formatted.
2019-10-26 09:00:40,129 [pool-607-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(231)) - group-3106575B4105: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-26 09:00:40,132 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-26 09:00:40,132 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:00:40,132 [Thread-2770] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10272 after 5 failover attempts. Trying to failover immediately.
2019-10-26 09:00:40,132 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-26 09:00:40,133 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:00:40,133 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 09:00:40,133 [pool-607-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:00:40,133 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:00:40,133 [pool-607-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/ratis/44045997-ebe3-4812-9a8c-3106575b4105
2019-10-26 09:00:40,133 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-26 09:00:40,133 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-26 09:00:40,133 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 09:00:40,133 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:00:40,133 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-26 09:00:40,134 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:00:40,134 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:00:40,134 [IPC Server handler 3 on 10260] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 3 on 10260, call Call#253 Retry#6 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:38124
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,134 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:00:40,135 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:00:40,136 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-26 09:00:40,137 [pool-607-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:00:40,137 [Thread-2770] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10260 after 6 failover attempts. Trying to failover immediately.
2019-10-26 09:00:40,137 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:00:40,137 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-10-26 09:00:40,137 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-26 09:00:40,138 [pool-607-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:00:40,138 [pool-607-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:00:40,138 [pool-607-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:00:40,138 [pool-607-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105: start as a follower, conf=-1: [019a86a7-b1be-483d-b756-841f956439f5:192.168.34.52:44291], old=null
2019-10-26 09:00:40,138 [pool-607-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:00:40,138 [pool-607-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 019a86a7-b1be-483d-b756-841f956439f5: start FollowerState
2019-10-26 09:00:40,138 [IPC Server handler 4 on 10266] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 4 on 10266, call Call#253 Retry#7 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:51468
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,139 [pool-607-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3106575B4105,id=019a86a7-b1be-483d-b756-841f956439f5
2019-10-26 09:00:40,139 [pool-607-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:00:40,141 [Thread-2770] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10266 after 7 failover attempts. Trying to failover immediately.
2019-10-26 09:00:40,143 [IPC Server handler 2 on 10272] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 10272, call Call#253 Retry#8 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:52074
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,144 [Thread-2770] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10272 after 8 failover attempts. Trying to failover immediately.
2019-10-26 09:00:40,145 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 44045997-ebe3-4812-9a8c-3106575b4105, Nodes: 019a86a7-b1be-483d-b756-841f956439f5{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-26 09:00:40,146 [IPC Server handler 0 on 10260] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10260, call Call#253 Retry#9 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:38124
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,148 [Thread-2770] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10260 after 9 failover attempts. Trying to failover immediately.
2019-10-26 09:00:40,150 [IPC Server handler 5 on 10266] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 5 on 10266, call Call#253 Retry#10 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:51468
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:00:40,151 [Thread-2770] ERROR ha.OMFailoverProxyProvider (OzoneManagerProtocolClientSideTranslatorPB.java:getRetryAction(268)) - Failed to connect to OM. Attempted 10 retries and 10 failovers
2019-10-26 09:00:40,152 [Thread-2770] ERROR client.OzoneClientFactory (OzoneClientFactory.java:getClientProtocol(259)) - Couldn't create RpcClient protocol exception: 
org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-10-26 09:00:40,152 [Thread-2770] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(314)) - Shutting down the Mini Ozone Cluster
2019-10-26 09:00:40,152 [Thread-2770] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-3
2019-10-26 09:00:40,153 [Thread-2770] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10272
2019-10-26 09:00:40,155 [IPC Server listener on 10272] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10272
2019-10-26 09:00:40,155 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:00:40,155 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-3: close
2019-10-26 09:00:40,156 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-3@group-523986131536: shutdown
2019-10-26 09:00:40,157 [Thread-2770] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 09:00:40,157 [Thread-2770] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:00:40,157 [Thread-2770] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = -1
2019-10-26 09:00:40,157 [Thread-3049] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-3@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:00:40,157 [Thread-2770] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-3@group-523986131536: closes. applyIndex: -1
2019-10-26 09:00:40,158 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:00:40,158 [Thread-2770] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:00:40,160 [Thread-2770] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-3: shutdown server with port 10276 now
2019-10-26 09:00:40,161 [Thread-2770] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-3: shutdown server with port 10276 successfully
2019-10-26 09:00:40,161 [Thread-2770] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:00:40,161 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:00:40,162 [Thread-2770] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:00:40,163 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@7f721189{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:00:40,163 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@240d1cf{HTTP/1.1,[http/1.1]}{0.0.0.0:10274}
2019-10-26 09:00:40,163 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@78c2c903{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:00:40,164 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7abb9016{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:00:40,165 [Thread-2770] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-1
2019-10-26 09:00:40,166 [Thread-2770] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10260
2019-10-26 09:00:40,168 [IPC Server listener on 10260] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10260
2019-10-26 09:00:40,168 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:00:40,169 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-1: close
2019-10-26 09:00:40,169 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-1@group-523986131536: shutdown
2019-10-26 09:00:40,169 [Thread-2770] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 09:00:40,170 [Thread-2770] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:00:40,170 [Thread-2770] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:00:40,170 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:00:40,170 [Thread-3052] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:00:40,172 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:00:40,172 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:00:40,172 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:00:40,172 [Thread-2770] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-1@group-523986131536: closes. applyIndex: 0
2019-10-26 09:00:40,173 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:00:40,174 [Thread-2770] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:00:40,175 [Thread-2770] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-1: shutdown server with port 10264 now
2019-10-26 09:00:40,176 [Thread-2770] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-1: shutdown server with port 10264 successfully
2019-10-26 09:00:40,177 [Thread-2770] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:00:40,177 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:00:40,177 [Thread-2770] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:00:40,178 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@3c367853{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:00:40,178 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1ac81f76{HTTP/1.1,[http/1.1]}{0.0.0.0:10262}
2019-10-26 09:00:40,179 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5145d29a{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:00:40,179 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1d7eb6a5{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:00:40,181 [Thread-2770] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-2
2019-10-26 09:00:40,181 [Thread-2770] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10266
2019-10-26 09:00:40,183 [IPC Server listener on 10266] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10266
2019-10-26 09:00:40,183 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:00:40,183 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-2: close
2019-10-26 09:00:40,184 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-2@group-523986131536: shutdown
2019-10-26 09:00:40,184 [Thread-2770] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 09:00:40,185 [Thread-2770] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:00:40,185 [Thread-2770] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:00:40,185 [Thread-3050] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:00:40,185 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:00:40,186 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:00:40,186 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:00:40,186 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:00:40,187 [Thread-2770] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-2@group-523986131536: closes. applyIndex: 0
2019-10-26 09:00:40,187 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:00:40,188 [Thread-2770] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:00:40,189 [Thread-2770] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-2: shutdown server with port 10270 now
2019-10-26 09:00:40,191 [Thread-2770] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-2: shutdown server with port 10270 successfully
2019-10-26 09:00:40,191 [Thread-2770] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:00:40,191 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:00:40,191 [Thread-2770] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:00:40,192 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@737f08ef{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:00:40,193 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@474bf0d{HTTP/1.1,[http/1.1]}{0.0.0.0:10268}
2019-10-26 09:00:40,193 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@70b30b08{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:00:40,193 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@15f4ffd7{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:00:40,195 [Thread-2770] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(330)) - Stopping the Mini Ozone Cluster
2019-10-26 09:00:40,195 [Thread-2770] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(377)) - Stopping the HddsDatanodes
2019-10-26 09:00:42,066 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-26 09:00:43,076 [Thread-3036] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-10-26 09:00:43,084 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2019-10-26 09:00:45,194 [Thread-3058] INFO  impl.FollowerState (FollowerState.java:run(111)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-FollowerState: change to CANDIDATE, lastRpcTime:5056ms, electionTimeout:5055ms
2019-10-26 09:00:45,195 [Thread-3058] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 019a86a7-b1be-483d-b756-841f956439f5: shutdown FollowerState
2019-10-26 09:00:45,195 [Thread-3058] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:00:45,196 [Thread-3058] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 019a86a7-b1be-483d-b756-841f956439f5: start LeaderElection
2019-10-26 09:00:45,200 [Thread-2770] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(227)) - Attempting to stop container services.
2019-10-26 09:00:45,201 [Thread-2770] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 019a86a7-b1be-483d-b756-841f956439f5: close
2019-10-26 09:00:45,202 [Thread-2770] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105: shutdown
2019-10-26 09:00:45,202 [Thread-2770] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3106575B4105,id=019a86a7-b1be-483d-b756-841f956439f5
2019-10-26 09:00:45,202 [Thread-2770] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 019a86a7-b1be-483d-b756-841f956439f5: shutdown LeaderElection
2019-10-26 09:00:45,202 [Thread-2770] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-StateMachineUpdater: set stopIndex = -1
2019-10-26 09:00:45,203 [Thread-2770] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105: closes. applyIndex: -1
2019-10-26 09:00:45,203 [019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:00:45,203 [Thread-2770] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-SegmentedRaftLogWorker close()
2019-10-26 09:00:45,206 [Thread-2770] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 019a86a7-b1be-483d-b756-841f956439f5: shutdown server with port 44291 now
2019-10-26 09:00:45,208 [Thread-2770] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 019a86a7-b1be-483d-b756-841f956439f5: shutdown server with port 44291 successfully
2019-10-26 09:00:45,213 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-8e20a85c-a80a-4723-908e-6d84d0fae967/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-26 09:00:45,225 [019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-LeaderElection51: begin an election at term 1 for -1: [019a86a7-b1be-483d-b756-841f956439f5:192.168.34.52:44291], old=null
2019-10-26 09:00:45,225 [019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:run(137)) - 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-LeaderElection51: IllegalArgumentException is safely ignored since this is already CLOSING
java.lang.IllegalArgumentException: 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-SegmentedRaftLog is expected to be opened but it is CLOSED
	at org.apache.ratis.util.OpenCloseState.assertOpen(OpenCloseState.java:63)
	at org.apache.ratis.server.raftlog.RaftLog.checkLogState(RaftLog.java:102)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.getLastEntryTermIndex(SegmentedRaftLog.java:345)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:180)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.util.OpenCloseState$CloseTrace: Close 019a86a7-b1be-483d-b756-841f956439f5@group-3106575B4105-SegmentedRaftLog
	at org.apache.ratis.util.OpenCloseState.lambda$close$1(OpenCloseState.java:109)
	at java.util.concurrent.atomic.AtomicReference.getAndUpdate(AtomicReference.java:160)
	at org.apache.ratis.util.OpenCloseState.close(OpenCloseState.java:109)
	at org.apache.ratis.server.raftlog.RaftLog.close(RaftLog.java:437)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.close(SegmentedRaftLog.java:500)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:389)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$shutdown$3(RaftServerImpl.java:272)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$2(LifeCycle.java:231)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:251)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:229)
	at org.apache.ratis.server.impl.RaftServerImpl.shutdown(RaftServerImpl.java:249)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.lambda$close$0(RaftServerProxy.java:107)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.concurrent.ConcurrentHashMap$ValueSpliterator.forEachRemaining(ConcurrentHashMap.java:3566)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:107)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$close$4(RaftServerProxy.java:315)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$2(LifeCycle.java:231)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:251)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:229)
	at org.apache.ratis.server.impl.RaftServerProxy.close(RaftServerProxy.java:313)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.stop(XceiverServerRatis.java:448)
	at org.apache.hadoop.ozone.container.ozoneimpl.OzoneContainer.stop(OzoneContainer.java:229)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.close(DatanodeStateMachine.java:270)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.stopDaemon(DatanodeStateMachine.java:394)
	at org.apache.hadoop.ozone.HddsDatanodeService.stop(HddsDatanodeService.java:457)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanode(MiniOzoneClusterImpl.java:385)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanodes(MiniOzoneClusterImpl.java:379)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stop(MiniOzoneClusterImpl.java:332)
	at org.apache.hadoop.ozone.MiniOzoneHAClusterImpl.stop(MiniOzoneHAClusterImpl.java:152)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.shutdown(MiniOzoneClusterImpl.java:319)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.shutdown(TestOzoneManagerHA.java:160)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-10-26 09:00:45,230 [Thread-2770] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service BlockDeletingService
2019-10-26 09:00:45,233 [Thread-2770] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-26 09:00:45,234 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@54f737b9{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-26 09:00:45,235 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@21e6fbe2{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 09:00:45,235 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@340aa492{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-26 09:00:45,235 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5d7a3f86{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:00:45,236 [Thread-2770] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(392)) - Stopping the StorageContainerManager
2019-10-26 09:00:45,236 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-26 09:00:45,237 [Thread-2770] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-10-26 09:00:45,237 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-26 09:00:45,237 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-26 09:00:45,237 [Thread-2770] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-26 09:00:45,237 [Thread-2770] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 34402
2019-10-26 09:00:45,239 [IPC Server listener on 34402] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 34402
2019-10-26 09:00:45,239 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:00:45,313 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-26 09:00:45,314 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-26 09:00:45,314 [Thread-2770] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-26 09:00:45,314 [Thread-2770] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 32835
2019-10-26 09:00:45,317 [IPC Server listener on 32835] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 32835
2019-10-26 09:00:45,324 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-26 09:00:45,325 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:00:45,325 [Thread-2770] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-26 09:00:45,325 [Thread-2770] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43719
2019-10-26 09:00:45,327 [IPC Server listener on 43719] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43719
2019-10-26 09:00:45,327 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-26 09:00:45,328 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:00:45,330 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@70adfce3{/,null,UNAVAILABLE}{/scm}
2019-10-26 09:00:45,331 [Thread-2770] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1bc7bd5e{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 09:00:45,331 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@45c94905{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:00:45,332 [Thread-2770] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@33b74a4f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:00:45,333 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-26 09:00:45,333 [Thread-2770] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 09:00:45,333 [Thread-2770] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 09:00:45,334 [Thread-2770] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-26 09:00:45,341 [Thread-2770] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-10-26 09:00:45,350 [Thread-2770] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
]]></system-out>
    <system-err><![CDATA[Oct 26, 2019 9:00:35 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed@8eb62cf
java.lang.NullPointerException
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onError(GrpcLogAppender.java:303)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:434)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:678)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:397)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:459)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:63)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:546)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$600(ClientCallImpl.java:467)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:584)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Oct 26, 2019 9:00:36 AM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=394, target=192.168.34.52:34218} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.<init>(GrpcClientProtocolClient.java:128)
	at org.apache.ratis.grpc.client.GrpcClientRpc.lambda$new$0(GrpcClientRpc.java:55)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$getProxy$0(PeerProxyMap.java:62)
	at org.apache.ratis.util.LifeCycle.startAndTransition(LifeCycle.java:202)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:108)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequestAsync(GrpcClientRpc.java:66)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequest(OrderedAsync.java:208)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequestWithRetry(OrderedAsync.java:169)
	at org.apache.ratis.util.SlidingWindow$Client.sendOrDelayRequest(SlidingWindow.java:278)
	at org.apache.ratis.util.SlidingWindow$Client.retry(SlidingWindow.java:294)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$scheduleWithTimeout$7(OrderedAsync.java:195)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:113)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:133)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:50)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:91)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

Oct 26, 2019 9:00:36 AM org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference cleanQueue
SEVERE: *~*~*~ Channel ManagedChannelImpl{logId=399, target=192.168.34.52:36457} was not shutdown properly!!! ~*~*~*
    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.
java.lang.RuntimeException: ManagedChannel allocation site
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:103)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:53)
	at org.apache.ratis.thirdparty.io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:44)
	at org.apache.ratis.thirdparty.io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:411)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connectToDatanode(XceiverClientGrpc.java:186)
	at org.apache.hadoop.hdds.scm.XceiverClientGrpc.connect(XceiverClientGrpc.java:133)
	at org.apache.hadoop.hdds.scm.XceiverClientManager$2.call(XceiverClientManager.java:246)
	at org.apache.hadoop.hdds.scm.XceiverClientManager$2.call(XceiverClientManager.java:230)
	at com.google.common.cache.LocalCache$LocalManualCache$1.load(LocalCache.java:4767)
	at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3568)
	at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2350)
	at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2313)
	at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2228)
	at com.google.common.cache.LocalCache.get(LocalCache.java:3965)
	at com.google.common.cache.LocalCache$LocalManualCache.get(LocalCache.java:4764)
	at org.apache.hadoop.hdds.scm.XceiverClientManager.getClient(XceiverClientManager.java:230)
	at org.apache.hadoop.hdds.scm.XceiverClientManager.acquireClient(XceiverClientManager.java:176)
	at org.apache.hadoop.hdds.scm.XceiverClientManager.acquireClientForReadData(XceiverClientManager.java:166)
	at org.apache.hadoop.hdds.scm.storage.BlockInputStream.getChunkInfos(BlockInputStream.java:154)
	at org.apache.hadoop.hdds.scm.storage.BlockInputStream.initialize(BlockInputStream.java:118)
	at org.apache.hadoop.hdds.scm.storage.BlockInputStream.read(BlockInputStream.java:224)
	at org.apache.hadoop.ozone.client.io.KeyInputStream.read(KeyInputStream.java:173)
	at org.apache.hadoop.ozone.client.io.OzoneInputStream.read(OzoneInputStream.java:47)
	at java.io.InputStream.read(InputStream.java:101)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.createMultipartKeyAndReadKey(TestOzoneManagerHA.java:523)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.testMultipartUploadWithOneOmNodeDown(TestOzoneManagerHA.java:479)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)

]]></system-err>
  </testcase>
  <testcase name="testAllOMNodesRunning" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.327"/>
  <testcase name="testListParts" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="27.708"/>
  <testcase name="testRemoveBucketAcl" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.163"/>
  <testcase name="testAddPrefixAcl" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="12.09"/>
  <testcase name="testReadRequest" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.215"/>
  <testcase name="testRemoveKeyAcl" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.194"/>
  <testcase name="testAllVolumeOperations" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.31"/>
  <testcase name="testSetBucketAcl" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.191">
    <error message="Couldn&apos;t create RpcClient protocol" type="java.io.IOException"><![CDATA[java.io.IOException: Couldn't create RpcClient protocol
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:263)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
Caused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.GeneratedMethodAccessor120.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	... 12 more
]]></error>
    <system-out><![CDATA[2019-10-26 09:02:31,395 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:31,421 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:31,421 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:31,421 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedBlocks
2019-10-26 09:02:31,422 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-26 09:02:31,422 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: validCerts
2019-10-26 09:02:31,422 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-26 09:02:31,422 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: revokedCerts
2019-10-26 09:02:31,422 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-26 09:02:31,422 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:02:31,422 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:02:31,422 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:02:31,596 [Thread-5382] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@79c93034
2019-10-26 09:02:31,597 [Thread-5382] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-26 09:02:31,601 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 09:02:31,601 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 09:02:31,601 [Thread-5382] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-26 09:02:31,602 [Thread-5382] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-26 09:02:31,602 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:31,653 [Thread-5382] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(132)) - No pipeline exists in current db
2019-10-26 09:02:31,653 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:31,742 [Thread-5382] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-26 09:02:31,743 [Thread-5382] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:31,744 [Socket Reader #1 for port 37883] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37883
2019-10-26 09:02:31,747 [Thread-5382] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:31,748 [Socket Reader #1 for port 37880] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37880
2019-10-26 09:02:31,750 [Thread-5382] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:31,750 [Socket Reader #1 for port 45431] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45431
2019-10-26 09:02:31,754 [Thread-5382] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-26 09:02:31,757 [Thread-5382] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:31,757 [Thread-5382] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:31,759 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:31,760 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-26 09:02:31,760 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:31,760 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:31,762 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:start(772)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45431
2019-10-26 09:02:31,765 [Thread-5382] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-26 09:02:31,766 [Thread-5382] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-26 09:02:31,766 [Thread-5382] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-26 09:02:31,863 [Thread-5382] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:31,971 [Thread-5382] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(159)) - RPC server for Client  is listening at /0.0.0.0:45431
2019-10-26 09:02:31,971 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:31,972 [IPC Server listener on 45431] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45431: starting
2019-10-26 09:02:31,976 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:start(782)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:37880
2019-10-26 09:02:31,976 [Thread-5382] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:37880
2019-10-26 09:02:31,977 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:31,977 [IPC Server listener on 37880] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37880: starting
2019-10-26 09:02:31,981 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:start(786)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:37883
2019-10-26 09:02:31,981 [Thread-5382] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(169)) - RPC server for DataNodes is listening at /0.0.0.0:37883
2019-10-26 09:02:31,981 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:31,981 [IPC Server listener on 37883] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37883: starting
2019-10-26 09:02:31,986 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 34488
2019-10-26 09:02:31,986 [Thread-5382] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:31,987 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4df027b6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:31,988 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@257d6f31{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:02:31,991 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@1977655e{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-26 09:02:31,991 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@11ef49ff{HTTP/1.1,[http/1.1]}{0.0.0.0:34488}
2019-10-26 09:02:31,991 [Thread-5382] INFO  server.Server (Server.java:doStart(419)) - Started @248143ms
2019-10-26 09:02:31,992 [Thread-5382] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:31,994 [Thread-5382] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:34488
2019-10-26 09:02:31,996 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5d84d135] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 09:02:31,996 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:32,022 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:10292 and Ratis port: 10296
2019-10-26 09:02:32,022 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-1: 127.0.0.1:10294
2019-10-26 09:02:32,022 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-1: 127.0.0.1:10295
2019-10-26 09:02:32,023 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-1: 127.0.0.1:10292
2019-10-26 09:02:32,023 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:32,023 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:32,032 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:32,033 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:02:32,033 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:02:32,033 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:02:32,033 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:02:32,033 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:02:32,034 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:02:32,034 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:02:32,034 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:02:32,034 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:02:32,034 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:02:32,034 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:02:32,034 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:02:32,035 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:02:32,035 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:02:32,035 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:02:32,035 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:02:32,035 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:02:32,035 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:02:32,036 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:02:32,036 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:02:32,036 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:02:32,036 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:02:32,036 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:02:32,036 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:02:32,036 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:02:32,684 [Thread-5382] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:32,685 [Thread-5382] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10296, localhost:10302, localhost:10308
2019-10-26 09:02:32,685 [Thread-5382] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:02:32,686 [Thread-5382] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:02:32,686 [Thread-5382] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10296 (custom)
2019-10-26 09:02:32,686 [Thread-5382] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:02:32,686 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:32,686 [Thread-5382] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:02:32,686 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:32,687 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis] (custom)
2019-10-26 09:02:32,687 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-1: addNew group-523986131536:[omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302] returns group-523986131536:java.util.concurrent.CompletableFuture@dd4bdf1[Not completed]
2019-10-26 09:02:32,688 [pool-1084-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:02:32,688 [Thread-5382] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10296
2019-10-26 09:02:32,688 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:02:32,688 [Thread-5382] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:32,688 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:02:32,689 [Thread-5382] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:32,689 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:02:32,689 [Thread-5382] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:02:32,689 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:02:32,689 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:32,689 [pool-1084-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null, confs=<EMPTY_MAP>
2019-10-26 09:02:32,690 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis] (custom)
2019-10-26 09:02:32,690 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:02:32,690 [pool-1084-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:02:32,690 [Thread-5382] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:32,691 [Socket Reader #1 for port 10292] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10292
2019-10-26 09:02:32,705 [pool-1084-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:02:32,709 [Thread-5382] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10292
2019-10-26 09:02:32,710 [Thread-5382] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:02:32,710 [Thread-5382] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-1 at port 10296
2019-10-26 09:02:32,726 [pool-1084-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:02:32,727 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:02:32,727 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:02:32,727 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:02:32,727 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:32,727 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:32,727 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:02:32,728 [pool-1084-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:02:32,728 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:02:32,728 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:02:32,728 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:32,728 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:02:32,728 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:02:32,728 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:02:32,729 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:02:32,729 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:02:32,729 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:02:32,729 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:02:32,729 [pool-1084-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:02:32,730 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:02:32,730 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:02:32,730 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:02:32,730 [pool-1084-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:02:32,733 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:32,733 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:02:32,733 [Thread-5382] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:02:32,734 [Thread-5382] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 09:02:32,734 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-1: start RPC server
2019-10-26 09:02:32,736 [Thread-5382] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-1: GrpcService started, listening on 0.0.0.0/0.0.0.0:10296
2019-10-26 09:02:32,742 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:32,744 [IPC Server listener on 10292] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10292: starting
2019-10-26 09:02:32,751 [Thread-5382] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10294
2019-10-26 09:02:32,753 [Thread-5382] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:32,753 [Thread-5382] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:32,755 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:32,756 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:02:32,756 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:32,756 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:32,757 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10294
2019-10-26 09:02:32,757 [Thread-5382] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:32,759 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@203f0e1{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:32,760 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@10d6d132{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:02:32,765 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2e6234da{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:02:32,765 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1ba888b1{HTTP/1.1,[http/1.1]}{0.0.0.0:10294}
2019-10-26 09:02:32,766 [Thread-5382] INFO  server.Server (Server.java:doStart(419)) - Started @248917ms
2019-10-26 09:02:32,767 [Thread-5382] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:32,768 [Thread-5382] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10294
2019-10-26 09:02:32,768 [Thread-5382] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10292
2019-10-26 09:02:32,769 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:32,795 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:10298 and Ratis port: 10302
2019-10-26 09:02:32,795 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-2: 127.0.0.1:10300
2019-10-26 09:02:32,795 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-2: 127.0.0.1:10301
2019-10-26 09:02:32,796 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-2: 127.0.0.1:10298
2019-10-26 09:02:32,796 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:32,796 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:32,804 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:32,805 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:02:32,805 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:02:32,805 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:02:32,805 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:02:32,805 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:02:32,805 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:02:32,806 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:02:32,806 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:02:32,806 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:02:32,806 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:02:32,806 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:02:32,806 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:02:32,807 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:02:32,807 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:02:32,807 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:02:32,807 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:02:32,807 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:02:32,807 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:02:32,807 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:02:32,808 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:02:32,808 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:02:32,808 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:02:32,808 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:02:32,808 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:02:32,808 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:02:33,478 [Thread-5382] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:33,479 [Thread-5382] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10302, localhost:10296, localhost:10308
2019-10-26 09:02:33,480 [Thread-5382] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:02:33,480 [Thread-5382] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:02:33,480 [Thread-5382] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10302 (custom)
2019-10-26 09:02:33,480 [Thread-5382] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:02:33,481 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:33,481 [Thread-5382] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:02:33,481 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:33,481 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis] (custom)
2019-10-26 09:02:33,482 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-2: addNew group-523986131536:[omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302] returns group-523986131536:java.util.concurrent.CompletableFuture@7d8b8b8f[Not completed]
2019-10-26 09:02:33,482 [pool-1100-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:02:33,482 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:02:33,482 [Thread-5382] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10302
2019-10-26 09:02:33,482 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:02:33,482 [Thread-5382] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:33,483 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:02:33,483 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:02:33,483 [Thread-5382] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:33,483 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:33,483 [pool-1100-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null, confs=<EMPTY_MAP>
2019-10-26 09:02:33,483 [Thread-5382] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:02:33,483 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis] (custom)
2019-10-26 09:02:33,484 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:02:33,484 [pool-1100-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:02:33,485 [Thread-5382] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:33,486 [Socket Reader #1 for port 10298] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10298
2019-10-26 09:02:33,497 [pool-1100-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:02:33,502 [pool-1100-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:02:33,502 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:02:33,503 [Thread-5382] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10298
2019-10-26 09:02:33,503 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:02:33,503 [Thread-5382] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:02:33,503 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:02:33,503 [Thread-5382] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-2 at port 10302
2019-10-26 09:02:33,503 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:33,503 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:33,503 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:02:33,504 [pool-1100-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:02:33,504 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:02:33,504 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:02:33,504 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:33,504 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:02:33,504 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:02:33,504 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:02:33,504 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:02:33,504 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:02:33,505 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:02:33,505 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:02:33,505 [pool-1100-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:02:33,505 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:02:33,505 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:02:33,506 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:02:33,506 [pool-1100-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:02:33,507 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:33,507 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:02:33,507 [Thread-5382] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:33,508 [Thread-5382] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 09:02:33,508 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-2: start RPC server
2019-10-26 09:02:33,509 [Thread-5382] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-2: GrpcService started, listening on 0.0.0.0/0.0.0.0:10302
2019-10-26 09:02:33,512 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:33,512 [IPC Server listener on 10298] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10298: starting
2019-10-26 09:02:33,519 [Thread-5382] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10300
2019-10-26 09:02:33,520 [Thread-5382] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:33,520 [Thread-5382] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:33,521 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:33,522 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:02:33,522 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:33,522 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:33,523 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10300
2019-10-26 09:02:33,523 [Thread-5382] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:33,524 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1f61a117{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:33,525 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@14ac61e4{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:02:33,528 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@331ea214{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:02:33,529 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@32b28fe2{HTTP/1.1,[http/1.1]}{0.0.0.0:10300}
2019-10-26 09:02:33,529 [Thread-5382] INFO  server.Server (Server.java:doStart(419)) - Started @249681ms
2019-10-26 09:02:33,530 [Thread-5382] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:33,531 [Thread-5382] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10300
2019-10-26 09:02:33,531 [Thread-5382] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10298
2019-10-26 09:02:33,532 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:33,536 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:10304 and Ratis port: 10308
2019-10-26 09:02:33,536 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-3: 127.0.0.1:10306
2019-10-26 09:02:33,537 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-3: 127.0.0.1:10307
2019-10-26 09:02:33,537 [Thread-5382] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-3: 127.0.0.1:10304
2019-10-26 09:02:33,537 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:33,537 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:33,542 [Thread-5382] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:33,542 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:02:33,542 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:02:33,542 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:02:33,542 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:02:33,542 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:02:33,543 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:02:33,543 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:02:33,543 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:02:33,543 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:02:33,543 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:02:33,543 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:02:33,543 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:02:33,543 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:02:33,543 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:02:33,544 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:02:33,544 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:02:33,544 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:02:33,544 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:02:33,544 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:02:33,544 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:02:33,544 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:02:33,544 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:02:33,544 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:02:33,545 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:02:33,545 [Thread-5382] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:02:33,827 [Thread-5474] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1093ms, electionTimeout:1093ms
2019-10-26 09:02:33,827 [Thread-5474] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:02:33,827 [Thread-5474] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:02:33,827 [Thread-5474] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderElection
2019-10-26 09:02:33,843 [omNode-1@group-523986131536-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-1@group-523986131536-LeaderElection90: begin an election at term 1 for -1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:33,848 [omNode-1@group-523986131536-LeaderElection90] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - omNode-1@group-523986131536-LeaderElection90 got exception when requesting votes: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:10308
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 09:02:33,852 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:omNode-1
2019-10-26 09:02:33,852 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:33,852 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:33,852 [Thread-5513] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:33,876 [omNode-1@group-523986131536-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-1@group-523986131536-LeaderElection90: Election PASSED; received 1 response(s) [omNode-1<-omNode-2#0:OK-t1] and 1 exception(s); omNode-1@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:33,876 [omNode-1@group-523986131536-LeaderElection90] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:10308
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 09:02:33,877 [omNode-1@group-523986131536-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-1: shutdown LeaderElection
2019-10-26 09:02:33,877 [omNode-1@group-523986131536-LeaderElection90] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-26 09:02:33,877 [omNode-1@group-523986131536-LeaderElection90] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1150ms
2019-10-26 09:02:33,877 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-26 09:02:33,878 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-26 09:02:33,878 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-26 09:02:33,878 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-26 09:02:33,878 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-26 09:02:33,878 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-26 09:02:33,879 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:02:33,879 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:33,879 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:02:33,880 [omNode-1@group-523986131536-LeaderElection90] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:02:33,880 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:33,880 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:33,880 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:02:33,880 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:33,881 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:02:33,881 [omNode-1@group-523986131536-LeaderElection90] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:02:33,881 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:33,881 [omNode-1@group-523986131536-LeaderElection90] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:33,881 [omNode-1@group-523986131536-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderState
2019-10-26 09:02:33,881 [omNode-1@group-523986131536-LeaderElection90] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:02:33,882 [omNode-1@group-523986131536-LeaderElection90] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-1@group-523986131536: set configuration 0: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null at 0
2019-10-26 09:02:33,883 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-10-26 09:02:33,885 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 382ms
2019-10-26 09:02:33,888 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-2@group-523986131536: set configuration 0: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null at 0
2019-10-26 09:02:33,888 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:02:33,894 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 09:02:33,897 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 09:02:34,088 [Thread-5382] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:34,088 [Thread-5382] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10308, localhost:10296, localhost:10302
2019-10-26 09:02:34,089 [Thread-5382] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:02:34,089 [Thread-5382] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:02:34,089 [Thread-5382] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10308 (custom)
2019-10-26 09:02:34,089 [Thread-5382] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:02:34,089 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:34,089 [Thread-5382] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:02:34,090 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:34,090 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-3/ratis] (custom)
2019-10-26 09:02:34,090 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-3: addNew group-523986131536:[omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302] returns group-523986131536:java.util.concurrent.CompletableFuture@7930c01b[Not completed]
2019-10-26 09:02:34,090 [pool-1116-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:02:34,090 [Thread-5382] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10308
2019-10-26 09:02:34,091 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:02:34,091 [Thread-5382] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:34,091 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:02:34,091 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:02:34,091 [Thread-5382] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:34,091 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:02:34,091 [Thread-5382] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:02:34,091 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:34,092 [pool-1116-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null, confs=<EMPTY_MAP>
2019-10-26 09:02:34,092 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-3/ratis] (custom)
2019-10-26 09:02:34,092 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:02:34,092 [Thread-5382] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:34,092 [pool-1116-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:02:34,093 [Socket Reader #1 for port 10304] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10304
2019-10-26 09:02:34,105 [Thread-5382] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10304
2019-10-26 09:02:34,105 [Thread-5382] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:02:34,105 [Thread-5382] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-3 at port 10308
2019-10-26 09:02:34,106 [pool-1116-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:02:34,119 [pool-1116-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:02:34,119 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:02:34,119 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:02:34,119 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:02:34,119 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:34,119 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:34,119 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:02:34,119 [pool-1116-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:02:34,120 [pool-1116-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:02:34,121 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:02:34,121 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:02:34,121 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:02:34,121 [pool-1116-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:02:34,123 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:34,123 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:02:34,123 [Thread-5382] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:02:34,124 [Thread-5382] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 09:02:34,124 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-3: start RPC server
2019-10-26 09:02:34,124 [Thread-5382] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-3: GrpcService started, listening on 0.0.0.0/0.0.0.0:10308
2019-10-26 09:02:34,125 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:34,127 [IPC Server listener on 10304] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10304: starting
2019-10-26 09:02:34,134 [Thread-5382] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10306
2019-10-26 09:02:34,136 [Thread-5382] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:34,136 [Thread-5382] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:34,138 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:34,139 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:02:34,139 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:34,139 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:34,140 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10306
2019-10-26 09:02:34,140 [Thread-5382] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:34,142 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@d094890{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:34,142 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5dd2cb4{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:02:34,147 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@1f36bff2{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:02:34,147 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2d51bd6c{HTTP/1.1,[http/1.1]}{0.0.0.0:10306}
2019-10-26 09:02:34,148 [Thread-5382] INFO  server.Server (Server.java:doStart(419)) - Started @250300ms
2019-10-26 09:02:34,148 [Thread-5382] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:34,150 [Thread-5382] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10306
2019-10-26 09:02:34,150 [Thread-5382] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10304
2019-10-26 09:02:34,153 [Thread-5382] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-26 09:02:34,167 [Thread-5382] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2347-vd84r-3012294141 ip:192.168.34.52
2019-10-26 09:02:34,175 [Thread-5382] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-26 09:02:34,175 [Thread-5382] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/containers/hdds to VolumeSet
2019-10-26 09:02:34,175 [Thread-5382] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/containers/hdds
2019-10-26 09:02:34,176 [Thread-5382] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(204)) - Scheduled health check for volume /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/containers/hdds
2019-10-26 09:02:34,192 [Thread-5382] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:02:34,193 [Thread-5382] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:02:34,193 [Thread-5382] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-10-26 09:02:34,193 [Thread-5382] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-26 09:02:34,193 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:34,193 [Thread-5382] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:02:34,193 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:34,194 [Thread-5382] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/ratis] (custom)
2019-10-26 09:02:34,196 [Thread-5382] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-10-26 09:02:34,197 [Thread-5382] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:34,198 [Thread-5382] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:34,199 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:34,199 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-26 09:02:34,200 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:34,200 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:34,200 [Thread-5382] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 33606
2019-10-26 09:02:34,201 [Thread-5382] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:34,202 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@357304ef{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:34,203 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4e8190e9{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-26 09:02:34,240 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@448d13a7{/,file:///tmp/jetty-0.0.0.0-33606-hddsDatanode-_-any-8476783811667383380.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-26 09:02:34,240 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5b51fec1{HTTP/1.1,[http/1.1]}{0.0.0.0:33606}
2019-10-26 09:02:34,242 [Thread-5382] INFO  server.Server (Server.java:doStart(419)) - Started @250394ms
2019-10-26 09:02:34,242 [Thread-5382] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:34,243 [Thread-5382] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:33606
2019-10-26 09:02:34,244 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:02:34,245 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2d7b321c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 09:02:34,246 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/meta/datanode.id
2019-10-26 09:02:35,214 [Thread-5565] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1090ms, electionTimeout:1090ms
2019-10-26 09:02:35,214 [Thread-5565] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:02:35,214 [Thread-5565] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:02:35,214 [Thread-5565] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:02:35,235 [omNode-3@group-523986131536-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection91: begin an election at term 1 for -1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:35,244 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:02:35,245 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-2@group-523986131536- FOLLOWER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=341ms
2019-10-26 09:02:35,245 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-1@group-523986131536-   LEADER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=null
2019-10-26 09:02:35,249 [omNode-3@group-523986131536-LeaderElection91] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection91: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t1, omNode-3<-omNode-2#0:FAIL-t1] and 0 exception(s); omNode-3@group-523986131536:t1, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:35,249 [omNode-3@group-523986131536-LeaderElection91] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-10-26 09:02:35,249 [omNode-3@group-523986131536-LeaderElection91] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:02:35,249 [omNode-3@group-523986131536-LeaderElection91] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:02:36,244 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:02:36,279 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(213)) - Attempting to start container services.
2019-10-26 09:02:36,279 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(177)) - Background container scanner has been disabled.
2019-10-26 09:02:36,279 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 02c54091-47dd-4e7e-823b-2be945299cc0 at port 0
2019-10-26 09:02:36,287 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 02c54091-47dd-4e7e-823b-2be945299cc0: start RPC server
2019-10-26 09:02:36,288 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 02c54091-47dd-4e7e-823b-2be945299cc0: GrpcService started, listening on 0.0.0.0/0.0.0.0:41442
2019-10-26 09:02:36,288 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(428)) - XceiverServerRatis 02c54091-47dd-4e7e-823b-2be945299cc0 is started using port 41442
2019-10-26 09:02:36,288 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(149)) - XceiverServerGrpc 02c54091-47dd-4e7e-823b-2be945299cc0 is started using port 46175
2019-10-26 09:02:36,312 [Thread-5618] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1062ms, electionTimeout:1062ms
2019-10-26 09:02:36,312 [Thread-5618] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:02:36,312 [Thread-5618] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-26 09:02:36,312 [Thread-5618] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:02:36,325 [omNode-3@group-523986131536-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection92: begin an election at term 2 for -1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:36,328 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 09:02:36,328 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 09:02:36,328 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 09:02:36,328 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 09:02:36,329 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:36,329 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - omNode-1: shutdown LeaderState
2019-10-26 09:02:36,329 [Thread-5550] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:36,329 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:36,334 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@13c12f88] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:02:36,334 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2019-10-26 09:02:36,334 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@387237fe] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:02:36,335 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#5-t1, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: <empty>
2019-10-26 09:02:36,336 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:02:36,336 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(308)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-10-26 09:02:36,339 [grpc-default-executor-2] INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2019-10-26 09:02:36,360 [omNode-3@group-523986131536-LeaderElection92] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection92: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t2, omNode-3<-omNode-2#0:FAIL-t2] and 0 exception(s); omNode-3@group-523986131536:t2, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:36,361 [omNode-3@group-523986131536-LeaderElection92] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-10-26 09:02:36,361 [omNode-3@group-523986131536-LeaderElection92] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:02:36,361 [omNode-3@group-523986131536-LeaderElection92] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:02:36,883 [java.util.concurrent.ThreadPoolExecutor$Worker@39ebce30[State = -1, empty queue]] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(209)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: appendEntries Timeout, request=omNode-1->omNode-3#0-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: <empty>
2019-10-26 09:02:37,248 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:02:37,467 [Thread-5631] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1131ms, electionTimeout:1131ms
2019-10-26 09:02:37,467 [Thread-5631] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:02:37,467 [Thread-5631] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-10-26 09:02:37,468 [Thread-5631] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderElection
2019-10-26 09:02:37,478 [omNode-1@group-523986131536-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-1@group-523986131536-LeaderElection93: begin an election at term 3 for 0: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:37,482 [Thread-5632] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1121ms, electionTimeout:1120ms
2019-10-26 09:02:37,483 [Thread-5632] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:02:37,483 [Thread-5632] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-10-26 09:02:37,483 [Thread-5632] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:02:37,483 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 3 for recognizeCandidate:omNode-1
2019-10-26 09:02:37,484 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:02:37,484 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:02:37,486 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:omNode-1
2019-10-26 09:02:37,486 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:37,486 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:37,486 [Thread-5629] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:37,513 [omNode-1@group-523986131536-LeaderElection93] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-1@group-523986131536-LeaderElection93: Election PASSED; received 2 response(s) [omNode-1<-omNode-3#0:FAIL-t3, omNode-1<-omNode-2#0:OK-t3] and 0 exception(s); omNode-1@group-523986131536:t3, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:37,513 [omNode-1@group-523986131536-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-1: shutdown LeaderElection
2019-10-26 09:02:37,513 [omNode-1@group-523986131536-LeaderElection93] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2019-10-26 09:02:37,513 [omNode-1@group-523986131536-LeaderElection93] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 3 for becomeLeader, leader elected after 1185ms
2019-10-26 09:02:37,513 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-26 09:02:37,513 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-26 09:02:37,513 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-26 09:02:37,514 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-26 09:02:37,514 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-26 09:02:37,514 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-26 09:02:37,514 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:02:37,514 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:37,514 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:02:37,514 [omNode-1@group-523986131536-LeaderElection93] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:02:37,515 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:37,515 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:37,515 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:02:37,515 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:37,515 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:02:37,515 [omNode-1@group-523986131536-LeaderElection93] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:02:37,515 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:37,516 [omNode-1@group-523986131536-LeaderElection93] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:37,516 [omNode-1@group-523986131536-LeaderElection93] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderState
2019-10-26 09:02:37,516 [omNode-1@group-523986131536-LeaderElection93] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(390)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-10-26 09:02:37,517 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(533)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_0-0
2019-10-26 09:02:37,517 [omNode-1@group-523986131536-LeaderElection93] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-1@group-523986131536: set configuration 1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null at 1
2019-10-26 09:02:37,520 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 3 for appendEntries, leader elected after 1191ms
2019-10-26 09:02:37,523 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-2@group-523986131536: set configuration 1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null at 1
2019-10-26 09:02:37,523 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(390)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-10-26 09:02:37,527 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(533)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_0-0
2019-10-26 09:02:37,537 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_1
2019-10-26 09:02:37,538 [omNode-3@group-523986131536-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection94: begin an election at term 4 for -1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:37,540 [omNode-3@group-523986131536-LeaderElection94] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection94: Election REJECTED; received 0 response(s) [] and 0 exception(s); omNode-3@group-523986131536:t4, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:37,541 [Thread-5641] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from omNode-1 to null at term 4 for updateCurrentTerm
2019-10-26 09:02:37,541 [Thread-5641] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from    LEADER to FOLLOWER at term 4 for stepDown
2019-10-26 09:02:37,541 [Thread-5641] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - omNode-1: shutdown LeaderState
2019-10-26 09:02:37,545 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@74aab8c3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:02:37,545 [Thread-5641] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2019-10-26 09:02:37,545 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@31a83092] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:02:37,545 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from omNode-1 to null at term 4 for updateCurrentTerm
2019-10-26 09:02:37,545 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#1-t3, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: size=1, first=(t:3, i:1), CONFIGURATIONENTRY
2019-10-26 09:02:37,545 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - omNode-3: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-3#0-t3, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: <empty>
2019-10-26 09:02:37,545 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:omNode-3
2019-10-26 09:02:37,546 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(308)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-10-26 09:02:37,546 [Thread-5641] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:02:37,546 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:37,548 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(308)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-10-26 09:02:37,548 [Thread-5640] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:37,548 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:37,550 [grpc-default-executor-2] INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 2 -> 1
2019-10-26 09:02:37,550 [grpc-default-executor-4] INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - omNode-1@group-523986131536->omNode-3: nextIndex: updateUnconditionally 1 -> 0
2019-10-26 09:02:37,552 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_1
2019-10-26 09:02:37,566 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:omNode-3
2019-10-26 09:02:37,569 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:02:37,569 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:02:37,569 [Thread-5650] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:38,248 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:02:38,253 [IPC Server handler 0 on 37883] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(111)) - Added a new node: /default-rack/02c54091-47dd-4e7e-823b-2be945299cc0
2019-10-26 09:02:38,253 [IPC Server handler 0 on 37883] INFO  node.SCMNodeManager (SCMNodeManager.java:register(268)) - Registered Data node : 02c54091-47dd-4e7e-823b-2be945299cc0{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}
2019-10-26 09:02:38,256 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-10-26 09:02:38,258 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-10-26 09:02:38,258 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-10-26 09:02:38,267 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 02c54091-47dd-4e7e-823b-2be945299cc0: addNew group-8D56A4FB05A1:[02c54091-47dd-4e7e-823b-2be945299cc0:192.168.34.52:41442] returns group-8D56A4FB05A1:java.util.concurrent.CompletableFuture@420d5a9d[Not completed]
2019-10-26 09:02:38,269 [pool-1124-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - 02c54091-47dd-4e7e-823b-2be945299cc0: new RaftServerImpl for group-8D56A4FB05A1:[02c54091-47dd-4e7e-823b-2be945299cc0:192.168.34.52:41442] with ContainerStateMachine:uninitialized
2019-10-26 09:02:38,269 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-26 09:02:38,269 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-26 09:02:38,269 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-26 09:02:38,269 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:02:38,270 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:38,270 [pool-1124-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1: ConfigurationManager, init=-1: [02c54091-47dd-4e7e-823b-2be945299cc0:192.168.34.52:41442], old=null, confs=<EMPTY_MAP>
2019-10-26 09:02:38,270 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/ratis] (custom)
2019-10-26 09:02:38,270 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:02:38,271 [pool-1124-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/ratis/cda7cd8b-6946-4450-8154-8d56a4fb05a1 does not exist. Creating ...
2019-10-26 09:02:38,295 [pool-1124-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/ratis/cda7cd8b-6946-4450-8154-8d56a4fb05a1/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:02:38,308 [pool-1124-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/ratis/cda7cd8b-6946-4450-8154-8d56a4fb05a1 has been successfully formatted.
2019-10-26 09:02:38,309 [pool-1124-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(231)) - group-8D56A4FB05A1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-26 09:02:38,309 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-26 09:02:38,309 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:02:38,309 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-26 09:02:38,309 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:38,309 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 09:02:38,310 [pool-1124-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:02:38,310 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:02:38,310 [pool-1124-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/ratis/cda7cd8b-6946-4450-8154-8d56a4fb05a1
2019-10-26 09:02:38,310 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-26 09:02:38,310 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-26 09:02:38,310 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 09:02:38,310 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:02:38,310 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-26 09:02:38,310 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:02:38,311 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:02:38,311 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:02:38,311 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:02:38,311 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-26 09:02:38,311 [pool-1124-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:02:38,312 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:02:38,312 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-10-26 09:02:38,312 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-26 09:02:38,312 [pool-1124-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:02:38,312 [pool-1124-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:02:38,313 [pool-1124-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:02:38,313 [pool-1124-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1: start as a follower, conf=-1: [02c54091-47dd-4e7e-823b-2be945299cc0:192.168.34.52:41442], old=null
2019-10-26 09:02:38,313 [pool-1124-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:02:38,313 [pool-1124-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 02c54091-47dd-4e7e-823b-2be945299cc0: start FollowerState
2019-10-26 09:02:38,314 [pool-1124-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D56A4FB05A1,id=02c54091-47dd-4e7e-823b-2be945299cc0
2019-10-26 09:02:38,314 [pool-1124-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:02:38,320 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: cda7cd8b-6946-4450-8154-8d56a4fb05a1, Nodes: 02c54091-47dd-4e7e-823b-2be945299cc0{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-26 09:02:38,571 [Thread-5651] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-2@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1023ms, electionTimeout:1021ms
2019-10-26 09:02:38,572 [Thread-5651] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:38,572 [Thread-5651] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-10-26 09:02:38,572 [Thread-5651] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start LeaderElection
2019-10-26 09:02:38,573 [Thread-5653] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1004ms, electionTimeout:1004ms
2019-10-26 09:02:38,573 [Thread-5653] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:02:38,573 [Thread-5653] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-10-26 09:02:38,573 [Thread-5653] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderElection
2019-10-26 09:02:38,582 [Thread-5639] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1098ms, electionTimeout:1098ms
2019-10-26 09:02:38,582 [Thread-5639] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:02:38,582 [Thread-5639] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-10-26 09:02:38,583 [Thread-5639] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:02:38,598 [omNode-1@group-523986131536-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-1@group-523986131536-LeaderElection96: begin an election at term 5 for 1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:38,598 [omNode-2@group-523986131536-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-2@group-523986131536-LeaderElection95: begin an election at term 5 for 1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:38,598 [omNode-3@group-523986131536-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection97: begin an election at term 5 for -1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:38,612 [omNode-3@group-523986131536-LeaderElection97] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection97: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t5, omNode-3<-omNode-2#0:FAIL-t5] and 0 exception(s); omNode-3@group-523986131536:t5, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:38,612 [omNode-3@group-523986131536-LeaderElection97] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 5 for DISCOVERED_A_NEW_TERM
2019-10-26 09:02:38,613 [omNode-3@group-523986131536-LeaderElection97] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:02:38,613 [omNode-3@group-523986131536-LeaderElection97] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:02:38,617 [omNode-1@group-523986131536-LeaderElection96] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-1@group-523986131536-LeaderElection96: Election REJECTED; received 2 response(s) [omNode-1<-omNode-3#0:FAIL-t5, omNode-1<-omNode-2#0:FAIL-t5] and 0 exception(s); omNode-1@group-523986131536:t5, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:38,619 [omNode-1@group-523986131536-LeaderElection96] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 5 for DISCOVERED_A_NEW_TERM
2019-10-26 09:02:38,619 [omNode-1@group-523986131536-LeaderElection96] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-1: shutdown LeaderElection
2019-10-26 09:02:38,620 [omNode-1@group-523986131536-LeaderElection96] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:02:38,622 [omNode-2@group-523986131536-LeaderElection95] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-2@group-523986131536-LeaderElection95: Election REJECTED; received 2 response(s) [omNode-2<-omNode-3#0:FAIL-t5, omNode-2<-omNode-1#0:FAIL-t5] and 0 exception(s); omNode-2@group-523986131536:t5, leader=null, voted=omNode-2, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [omNode-3:localhost:10308, omNode-1:localhost:10296, omNode-2:localhost:10302], old=null
2019-10-26 09:02:38,623 [omNode-2@group-523986131536-LeaderElection95] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 5 for DISCOVERED_A_NEW_TERM
2019-10-26 09:02:38,623 [omNode-2@group-523986131536-LeaderElection95] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-2: shutdown LeaderElection
2019-10-26 09:02:38,623 [omNode-2@group-523986131536-LeaderElection95] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:39,249 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-26 09:02:39,264 [IPC Server handler 0 on 10292] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10292, call Call#415 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:36758
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,280 [IPC Server handler 1 on 10298] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 10298, call Call#415 Retry#1 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:37264
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,282 [Thread-5382] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10298 after 1 failover attempts. Trying to failover immediately.
2019-10-26 09:02:39,289 [IPC Server handler 0 on 10304] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10304, call Call#415 Retry#2 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:32790
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,292 [Thread-5382] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10304 after 2 failover attempts. Trying to failover immediately.
2019-10-26 09:02:39,295 [IPC Server handler 1 on 10292] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 10292, call Call#415 Retry#3 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:36758
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,299 [Thread-5382] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10292 after 3 failover attempts. Trying to failover immediately.
2019-10-26 09:02:39,302 [IPC Server handler 0 on 10298] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10298, call Call#415 Retry#4 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:37264
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,305 [Thread-5382] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10298 after 4 failover attempts. Trying to failover immediately.
2019-10-26 09:02:39,308 [IPC Server handler 1 on 10304] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 10304, call Call#415 Retry#5 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:32790
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,312 [Thread-5382] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10304 after 5 failover attempts. Trying to failover immediately.
2019-10-26 09:02:39,315 [IPC Server handler 2 on 10292] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 10292, call Call#415 Retry#6 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:36758
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,317 [Thread-5382] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10292 after 6 failover attempts. Trying to failover immediately.
2019-10-26 09:02:39,320 [IPC Server handler 3 on 10298] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 3 on 10298, call Call#415 Retry#7 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:37264
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,323 [Thread-5382] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10298 after 7 failover attempts. Trying to failover immediately.
2019-10-26 09:02:39,331 [IPC Server handler 3 on 10304] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 3 on 10304, call Call#415 Retry#8 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:32790
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,335 [Thread-5382] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10304 after 8 failover attempts. Trying to failover immediately.
2019-10-26 09:02:39,338 [IPC Server handler 3 on 10292] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 3 on 10292, call Call#415 Retry#9 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:36758
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,340 [Thread-5382] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10292 after 9 failover attempts. Trying to failover immediately.
2019-10-26 09:02:39,343 [IPC Server handler 2 on 10298] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 10298, call Call#415 Retry#10 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:37264
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:39,346 [Thread-5382] ERROR ha.OMFailoverProxyProvider (OzoneManagerProtocolClientSideTranslatorPB.java:getRetryAction(268)) - Failed to connect to OM. Attempted 10 retries and 10 failovers
2019-10-26 09:02:39,348 [Thread-5382] ERROR client.OzoneClientFactory (OzoneClientFactory.java:getClientProtocol(259)) - Couldn't create RpcClient protocol exception: 
org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.GeneratedMethodAccessor120.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-10-26 09:02:39,348 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(314)) - Shutting down the Mini Ozone Cluster
2019-10-26 09:02:39,349 [Thread-5382] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-3
2019-10-26 09:02:39,349 [Thread-5382] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10304
2019-10-26 09:02:39,353 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:39,353 [IPC Server listener on 10304] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10304
2019-10-26 09:02:39,353 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-3: close
2019-10-26 09:02:39,355 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-3@group-523986131536: shutdown
2019-10-26 09:02:39,355 [Thread-5382] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 09:02:39,356 [Thread-5382] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:02:39,356 [Thread-5382] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = -1
2019-10-26 09:02:39,356 [Thread-5382] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-3@group-523986131536: closes. applyIndex: -1
2019-10-26 09:02:39,356 [Thread-5675] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-3@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:39,357 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:02:39,357 [Thread-5382] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:02:39,360 [Thread-5382] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-3: shutdown server with port 10308 now
2019-10-26 09:02:39,365 [Thread-5382] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-3: shutdown server with port 10308 successfully
2019-10-26 09:02:39,365 [Thread-5382] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:02:39,365 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:02:39,365 [Thread-5382] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:02:39,367 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@1f36bff2{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:02:39,367 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2d51bd6c{HTTP/1.1,[http/1.1]}{0.0.0.0:10306}
2019-10-26 09:02:39,368 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5dd2cb4{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:02:39,368 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@d094890{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:39,370 [Thread-5382] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-1
2019-10-26 09:02:39,370 [Thread-5382] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10292
2019-10-26 09:02:39,373 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:39,374 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-1: close
2019-10-26 09:02:39,374 [IPC Server listener on 10292] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10292
2019-10-26 09:02:39,374 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-1@group-523986131536: shutdown
2019-10-26 09:02:39,376 [Thread-5382] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 09:02:39,376 [Thread-5382] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:02:39,376 [Thread-5382] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:02:39,377 [Thread-5676] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:39,377 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:02:39,378 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:02:39,378 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:02:39,379 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:02:39,379 [Thread-5382] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-1@group-523986131536: closes. applyIndex: 0
2019-10-26 09:02:39,379 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:02:39,381 [Thread-5382] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:02:39,383 [Thread-5382] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-1: shutdown server with port 10296 now
2019-10-26 09:02:39,386 [Thread-5382] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-1: shutdown server with port 10296 successfully
2019-10-26 09:02:39,387 [Thread-5382] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:02:39,387 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:02:39,387 [Thread-5382] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:02:39,388 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2e6234da{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:02:39,389 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1ba888b1{HTTP/1.1,[http/1.1]}{0.0.0.0:10294}
2019-10-26 09:02:39,389 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@10d6d132{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:02:39,389 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@203f0e1{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:39,391 [Thread-5382] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-2
2019-10-26 09:02:39,391 [Thread-5382] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10298
2019-10-26 09:02:39,394 [IPC Server listener on 10298] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10298
2019-10-26 09:02:39,394 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:39,395 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-2: close
2019-10-26 09:02:39,396 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-2@group-523986131536: shutdown
2019-10-26 09:02:39,397 [Thread-5382] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 09:02:39,397 [Thread-5382] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:39,397 [Thread-5382] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:02:39,397 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:02:39,397 [Thread-5677] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:39,398 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:02:39,398 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:02:39,399 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:02:39,399 [Thread-5382] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-2@group-523986131536: closes. applyIndex: 0
2019-10-26 09:02:39,399 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:02:39,401 [Thread-5382] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:02:39,403 [Thread-5382] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-2: shutdown server with port 10302 now
2019-10-26 09:02:39,406 [Thread-5382] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-2: shutdown server with port 10302 successfully
2019-10-26 09:02:39,406 [Thread-5382] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:02:39,407 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:02:39,407 [Thread-5382] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:02:39,408 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@331ea214{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:02:39,408 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@32b28fe2{HTTP/1.1,[http/1.1]}{0.0.0.0:10300}
2019-10-26 09:02:39,408 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@14ac61e4{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:02:39,409 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1f61a117{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:39,410 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(330)) - Stopping the Mini Ozone Cluster
2019-10-26 09:02:39,411 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(377)) - Stopping the HddsDatanodes
2019-10-26 09:02:40,248 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-26 09:02:41,260 [Thread-5662] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-10-26 09:02:41,263 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2019-10-26 09:02:43,366 [Thread-5664] INFO  impl.FollowerState (FollowerState.java:run(111)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-FollowerState: change to CANDIDATE, lastRpcTime:5052ms, electionTimeout:5052ms
2019-10-26 09:02:43,366 [Thread-5664] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 02c54091-47dd-4e7e-823b-2be945299cc0: shutdown FollowerState
2019-10-26 09:02:43,366 [Thread-5664] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:02:43,366 [Thread-5664] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 02c54091-47dd-4e7e-823b-2be945299cc0: start LeaderElection
2019-10-26 09:02:43,403 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98: begin an election at term 1 for -1: [02c54091-47dd-4e7e-823b-2be945299cc0:192.168.34.52:41442], old=null
2019-10-26 09:02:43,403 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 02c54091-47dd-4e7e-823b-2be945299cc0: shutdown LeaderElection
2019-10-26 09:02:43,403 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-26 09:02:43,403 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1: change Leader from null to 02c54091-47dd-4e7e-823b-2be945299cc0 at term 1 for becomeLeader, leader elected after 5094ms
2019-10-26 09:02:43,403 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-26 09:02:43,404 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-26 09:02:43,404 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-26 09:02:43,404 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-26 09:02:43,404 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-26 09:02:43,404 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-26 09:02:43,405 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 02c54091-47dd-4e7e-823b-2be945299cc0: start LeaderState
2019-10-26 09:02:43,405 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:02:43,405 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-LeaderElection98] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1: set configuration 0: [02c54091-47dd-4e7e-823b-2be945299cc0:192.168.34.52:41442], old=null at 0
2019-10-26 09:02:43,442 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/ratis/cda7cd8b-6946-4450-8154-8d56a4fb05a1/current/log_inprogress_0
2019-10-26 09:02:44,411 [Thread-5382] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(227)) - Attempting to stop container services.
2019-10-26 09:02:44,412 [Thread-5382] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 02c54091-47dd-4e7e-823b-2be945299cc0: close
2019-10-26 09:02:44,412 [Thread-5382] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1: shutdown
2019-10-26 09:02:44,412 [Thread-5382] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D56A4FB05A1,id=02c54091-47dd-4e7e-823b-2be945299cc0
2019-10-26 09:02:44,413 [Thread-5382] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 02c54091-47dd-4e7e-823b-2be945299cc0: shutdown LeaderState
2019-10-26 09:02:44,413 [Thread-5382] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-PendingRequests: sendNotLeaderResponses
2019-10-26 09:02:44,413 [Thread-5382] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:02:44,414 [Thread-5382] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1: closes. applyIndex: 0
2019-10-26 09:02:44,414 [02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:02:44,416 [Thread-5382] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 02c54091-47dd-4e7e-823b-2be945299cc0@group-8D56A4FB05A1-SegmentedRaftLogWorker close()
2019-10-26 09:02:44,419 [Thread-5382] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 02c54091-47dd-4e7e-823b-2be945299cc0: shutdown server with port 41442 now
2019-10-26 09:02:44,421 [Thread-5382] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 02c54091-47dd-4e7e-823b-2be945299cc0: shutdown server with port 41442 successfully
2019-10-26 09:02:44,427 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-35db764c-4f09-436b-87d0-869e931a3d1f/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-26 09:02:44,443 [Thread-5382] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service BlockDeletingService
2019-10-26 09:02:44,447 [Thread-5382] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-26 09:02:44,448 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@448d13a7{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-26 09:02:44,449 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5b51fec1{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 09:02:44,449 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4e8190e9{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-26 09:02:44,449 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@357304ef{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:44,450 [Thread-5382] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(392)) - Stopping the StorageContainerManager
2019-10-26 09:02:44,450 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-26 09:02:44,450 [Thread-5382] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-10-26 09:02:44,450 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-26 09:02:44,451 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-26 09:02:44,451 [Thread-5382] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-26 09:02:44,451 [Thread-5382] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37883
2019-10-26 09:02:44,453 [IPC Server listener on 37883] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37883
2019-10-26 09:02:44,453 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:44,523 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-26 09:02:44,523 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-26 09:02:44,524 [Thread-5382] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-26 09:02:44,524 [Thread-5382] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37880
2019-10-26 09:02:44,527 [IPC Server listener on 37880] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37880
2019-10-26 09:02:44,527 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:44,527 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-26 09:02:44,530 [Thread-5382] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-26 09:02:44,530 [Thread-5382] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45431
2019-10-26 09:02:44,537 [IPC Server listener on 45431] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45431
2019-10-26 09:02:44,537 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:44,537 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-26 09:02:44,540 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@1977655e{/,null,UNAVAILABLE}{/scm}
2019-10-26 09:02:44,541 [Thread-5382] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@11ef49ff{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 09:02:44,541 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@257d6f31{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:02:44,542 [Thread-5382] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4df027b6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:44,542 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-26 09:02:44,542 [Thread-5382] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 09:02:44,542 [Thread-5382] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 09:02:44,543 [Thread-5382] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-26 09:02:44,547 [Thread-5382] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-10-26 09:02:44,557 [Thread-5382] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
]]></system-out>
    <system-err><![CDATA[Oct 26, 2019 9:02:33 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed@2cd985b2
java.lang.NullPointerException
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onError(GrpcLogAppender.java:303)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:434)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:678)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:397)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:459)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:63)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:546)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$600(ClientCallImpl.java:467)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:584)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

]]></system-err>
  </testcase>
  <testcase name="testListVolumes" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="12.191">
    <error message="Couldn&apos;t create RpcClient protocol" type="java.io.IOException"><![CDATA[java.io.IOException: Couldn't create RpcClient protocol
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:263)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
Caused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.GeneratedMethodAccessor120.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	... 12 more
]]></error>
    <system-out><![CDATA[2019-10-26 09:02:44,591 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:44,606 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:44,607 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:44,607 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedBlocks
2019-10-26 09:02:44,607 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-26 09:02:44,608 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: validCerts
2019-10-26 09:02:44,608 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-26 09:02:44,608 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: revokedCerts
2019-10-26 09:02:44,608 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-26 09:02:44,608 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:02:44,609 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:02:44,609 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:02:44,802 [Thread-5698] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@25664b72
2019-10-26 09:02:44,802 [Thread-5698] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-26 09:02:44,806 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 09:02:44,806 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 09:02:44,806 [Thread-5698] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-26 09:02:44,807 [Thread-5698] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-26 09:02:44,807 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:44,855 [Thread-5698] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(132)) - No pipeline exists in current db
2019-10-26 09:02:44,855 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:44,930 [Thread-5698] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-26 09:02:44,931 [Thread-5698] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:44,932 [Socket Reader #1 for port 33813] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 33813
2019-10-26 09:02:44,935 [Thread-5698] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:44,936 [Socket Reader #1 for port 36901] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 36901
2019-10-26 09:02:44,937 [Thread-5698] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:44,938 [Socket Reader #1 for port 35897] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 35897
2019-10-26 09:02:44,941 [Thread-5698] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-26 09:02:44,944 [Thread-5698] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:44,945 [Thread-5698] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:44,947 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:44,948 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-26 09:02:44,948 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:44,948 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:44,951 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:start(772)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:35897
2019-10-26 09:02:44,954 [Thread-5698] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-26 09:02:44,955 [Thread-5698] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-26 09:02:44,955 [Thread-5698] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-26 09:02:45,081 [Thread-5698] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:45,205 [Thread-5698] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(159)) - RPC server for Client  is listening at /0.0.0.0:35897
2019-10-26 09:02:45,206 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:45,206 [IPC Server listener on 35897] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 35897: starting
2019-10-26 09:02:45,211 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:start(782)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:36901
2019-10-26 09:02:45,211 [Thread-5698] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:36901
2019-10-26 09:02:45,212 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:45,212 [IPC Server listener on 36901] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 36901: starting
2019-10-26 09:02:45,216 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:start(786)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:33813
2019-10-26 09:02:45,216 [Thread-5698] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(169)) - RPC server for DataNodes is listening at /0.0.0.0:33813
2019-10-26 09:02:45,217 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:45,217 [IPC Server listener on 33813] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 33813: starting
2019-10-26 09:02:45,223 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 33221
2019-10-26 09:02:45,223 [Thread-5698] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:45,225 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@29df9ca8{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:45,226 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@9a6097b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:02:45,230 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@58ffc3fe{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-26 09:02:45,231 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@69e89928{HTTP/1.1,[http/1.1]}{0.0.0.0:33221}
2019-10-26 09:02:45,232 [Thread-5698] INFO  server.Server (Server.java:doStart(419)) - Started @261383ms
2019-10-26 09:02:45,232 [Thread-5698] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:45,233 [Thread-5698] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:33221
2019-10-26 09:02:45,235 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@230c721f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 09:02:45,236 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:45,263 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:10808 and Ratis port: 10812
2019-10-26 09:02:45,263 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-1: 127.0.0.1:10810
2019-10-26 09:02:45,263 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-1: 127.0.0.1:10811
2019-10-26 09:02:45,264 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-1: 127.0.0.1:10808
2019-10-26 09:02:45,264 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:45,264 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:45,278 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:45,279 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:02:45,279 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:02:45,279 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:02:45,280 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:02:45,280 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:02:45,280 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:02:45,280 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:02:45,280 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:02:45,280 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:02:45,281 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:02:45,281 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:02:45,281 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:02:45,281 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:02:45,281 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:02:45,281 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:02:45,282 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:02:45,282 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:02:45,282 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:02:45,282 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:02:45,282 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:02:45,282 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:02:45,283 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:02:45,283 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:02:45,283 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:02:45,283 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:02:45,834 [Thread-5698] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:45,835 [Thread-5698] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10812, localhost:10818, localhost:10824
2019-10-26 09:02:45,836 [Thread-5698] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:02:45,836 [Thread-5698] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:02:45,837 [Thread-5698] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10812 (custom)
2019-10-26 09:02:45,837 [Thread-5698] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:02:45,837 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:45,837 [Thread-5698] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:02:45,838 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:45,839 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-1/ratis] (custom)
2019-10-26 09:02:45,839 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-1: addNew group-523986131536:[omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818] returns group-523986131536:java.util.concurrent.CompletableFuture@4173a2de[Not completed]
2019-10-26 09:02:45,839 [pool-1148-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:02:45,840 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:02:45,840 [Thread-5698] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10812
2019-10-26 09:02:45,840 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:02:45,840 [Thread-5698] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:45,840 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:02:45,840 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:02:45,841 [Thread-5698] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:45,841 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:45,841 [pool-1148-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null, confs=<EMPTY_MAP>
2019-10-26 09:02:45,841 [Thread-5698] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:02:45,841 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-1/ratis] (custom)
2019-10-26 09:02:45,842 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:02:45,842 [pool-1148-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:02:45,844 [Thread-5698] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:45,846 [Socket Reader #1 for port 10808] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10808
2019-10-26 09:02:45,856 [pool-1148-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:02:45,869 [pool-1148-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:02:45,870 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:02:45,870 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:02:45,870 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:02:45,870 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:45,870 [Thread-5698] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10808
2019-10-26 09:02:45,870 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:45,870 [Thread-5698] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:02:45,871 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:02:45,871 [Thread-5698] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-1 at port 10812
2019-10-26 09:02:45,871 [pool-1148-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:02:45,871 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:02:45,871 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:02:45,871 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:45,871 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:02:45,872 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:02:45,872 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:02:45,872 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:02:45,872 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:02:45,872 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:02:45,872 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:02:45,872 [pool-1148-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:02:45,873 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:02:45,873 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:02:45,873 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:02:45,873 [pool-1148-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:02:45,875 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:45,875 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:02:45,875 [Thread-5698] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:02:45,876 [Thread-5698] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 09:02:45,876 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-1: start RPC server
2019-10-26 09:02:45,884 [Thread-5698] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-1: GrpcService started, listening on 0.0.0.0/0.0.0.0:10812
2019-10-26 09:02:45,887 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:45,889 [IPC Server listener on 10808] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10808: starting
2019-10-26 09:02:45,896 [Thread-5698] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10810
2019-10-26 09:02:45,898 [Thread-5698] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:45,898 [Thread-5698] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:45,901 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:45,902 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:02:45,902 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:45,902 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:45,903 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10810
2019-10-26 09:02:45,903 [Thread-5698] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:45,905 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7e5d4a3d{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:45,906 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2442b35b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:02:45,911 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@7eb3dc3e{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:02:45,912 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@7537d8e5{HTTP/1.1,[http/1.1]}{0.0.0.0:10810}
2019-10-26 09:02:45,914 [Thread-5698] INFO  server.Server (Server.java:doStart(419)) - Started @262065ms
2019-10-26 09:02:45,914 [Thread-5698] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:45,915 [Thread-5698] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10810
2019-10-26 09:02:45,915 [Thread-5698] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10808
2019-10-26 09:02:45,916 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:45,931 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:10814 and Ratis port: 10818
2019-10-26 09:02:45,931 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-2: 127.0.0.1:10816
2019-10-26 09:02:45,932 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-2: 127.0.0.1:10817
2019-10-26 09:02:45,932 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-2: 127.0.0.1:10814
2019-10-26 09:02:45,932 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:45,932 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:45,941 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:45,942 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:02:45,942 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:02:45,942 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:02:45,942 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:02:45,943 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:02:45,943 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:02:45,943 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:02:45,943 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:02:45,943 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:02:45,943 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:02:45,943 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:02:45,944 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:02:45,944 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:02:45,944 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:02:45,944 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:02:45,944 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:02:45,944 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:02:45,944 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:02:45,945 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:02:45,945 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:02:45,945 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:02:45,945 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:02:45,945 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:02:45,945 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:02:45,946 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:02:46,584 [Thread-5698] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:46,584 [Thread-5698] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10818, localhost:10812, localhost:10824
2019-10-26 09:02:46,585 [Thread-5698] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:02:46,585 [Thread-5698] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:02:46,585 [Thread-5698] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10818 (custom)
2019-10-26 09:02:46,586 [Thread-5698] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:02:46,586 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:46,586 [Thread-5698] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:02:46,586 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:46,587 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-2/ratis] (custom)
2019-10-26 09:02:46,587 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-2: addNew group-523986131536:[omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818] returns group-523986131536:java.util.concurrent.CompletableFuture@11a61de[Not completed]
2019-10-26 09:02:46,587 [pool-1164-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:02:46,587 [Thread-5698] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10818
2019-10-26 09:02:46,587 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:02:46,588 [Thread-5698] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:46,588 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:02:46,588 [Thread-5698] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:46,588 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:02:46,588 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:02:46,588 [Thread-5698] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:02:46,588 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:46,589 [pool-1164-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null, confs=<EMPTY_MAP>
2019-10-26 09:02:46,589 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-2/ratis] (custom)
2019-10-26 09:02:46,589 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:02:46,589 [pool-1164-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:02:46,590 [Thread-5698] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:46,590 [Socket Reader #1 for port 10814] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10814
2019-10-26 09:02:46,604 [pool-1164-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:02:46,606 [Thread-5698] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10814
2019-10-26 09:02:46,606 [Thread-5698] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:02:46,606 [Thread-5698] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-2 at port 10818
2019-10-26 09:02:46,617 [pool-1164-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:02:46,617 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:02:46,617 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:02:46,617 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:02:46,617 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:46,617 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:46,617 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:02:46,617 [pool-1164-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:02:46,618 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:02:46,618 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:02:46,618 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:46,618 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:02:46,618 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:02:46,618 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:02:46,618 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:02:46,618 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:02:46,618 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:02:46,619 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:02:46,619 [pool-1164-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:02:46,619 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:02:46,619 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:02:46,619 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:02:46,619 [pool-1164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:02:46,621 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:46,621 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:02:46,621 [Thread-5698] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:46,622 [Thread-5698] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 09:02:46,622 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-2: start RPC server
2019-10-26 09:02:46,623 [Thread-5698] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-2: GrpcService started, listening on 0.0.0.0/0.0.0.0:10818
2019-10-26 09:02:46,625 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:46,626 [IPC Server listener on 10814] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10814: starting
2019-10-26 09:02:46,633 [Thread-5698] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10816
2019-10-26 09:02:46,635 [Thread-5698] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:46,636 [Thread-5698] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:46,637 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:46,638 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:02:46,638 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:46,639 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:46,639 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10816
2019-10-26 09:02:46,640 [Thread-5698] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:46,642 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@32b13e60{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:46,642 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@62a61722{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:02:46,647 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2c4de759{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:02:46,647 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1b0cec28{HTTP/1.1,[http/1.1]}{0.0.0.0:10816}
2019-10-26 09:02:46,649 [Thread-5698] INFO  server.Server (Server.java:doStart(419)) - Started @262800ms
2019-10-26 09:02:46,649 [Thread-5698] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:46,650 [Thread-5698] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10816
2019-10-26 09:02:46,650 [Thread-5698] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10814
2019-10-26 09:02:46,651 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:46,665 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:10820 and Ratis port: 10824
2019-10-26 09:02:46,665 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-3: 127.0.0.1:10822
2019-10-26 09:02:46,665 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-3: 127.0.0.1:10823
2019-10-26 09:02:46,665 [Thread-5698] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-3: 127.0.0.1:10820
2019-10-26 09:02:46,666 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:46,666 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:46,673 [Thread-5698] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:02:46,673 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:02:46,673 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:02:46,673 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:02:46,674 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:02:46,674 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:02:46,674 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:02:46,674 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:02:46,674 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:02:46,674 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:02:46,675 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:02:46,675 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:02:46,675 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:02:46,675 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:02:46,675 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:02:46,675 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:02:46,675 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:02:46,676 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:02:46,676 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:02:46,676 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:02:46,676 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:02:46,677 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:02:46,677 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:02:46,677 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:02:46,677 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:02:46,677 [Thread-5698] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:02:46,895 [Thread-5790] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1019ms, electionTimeout:1019ms
2019-10-26 09:02:46,895 [Thread-5790] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:02:46,895 [Thread-5790] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:02:46,895 [Thread-5790] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderElection
2019-10-26 09:02:46,910 [omNode-1@group-523986131536-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-1@group-523986131536-LeaderElection99: begin an election at term 1 for -1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:46,917 [omNode-1@group-523986131536-LeaderElection99] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - omNode-1@group-523986131536-LeaderElection99 got exception when requesting votes: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:10824
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 09:02:46,921 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:omNode-1
2019-10-26 09:02:46,921 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:46,921 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:46,921 [Thread-5829] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:46,933 [omNode-1@group-523986131536-LeaderElection99] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-1@group-523986131536-LeaderElection99: Election PASSED; received 1 response(s) [omNode-1<-omNode-2#0:OK-t1] and 1 exception(s); omNode-1@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:46,933 [omNode-1@group-523986131536-LeaderElection99] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:10824
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 09:02:46,933 [omNode-1@group-523986131536-LeaderElection99] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-1: shutdown LeaderElection
2019-10-26 09:02:46,934 [omNode-1@group-523986131536-LeaderElection99] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-26 09:02:46,934 [omNode-1@group-523986131536-LeaderElection99] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1064ms
2019-10-26 09:02:46,934 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-26 09:02:46,934 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-26 09:02:46,934 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-26 09:02:46,935 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-26 09:02:46,935 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-26 09:02:46,935 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-26 09:02:46,935 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:02:46,935 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:46,935 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:02:46,936 [omNode-1@group-523986131536-LeaderElection99] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:02:46,936 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:46,936 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:46,936 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:02:46,936 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:46,937 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:02:46,937 [omNode-1@group-523986131536-LeaderElection99] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:02:46,937 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:46,937 [omNode-1@group-523986131536-LeaderElection99] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:46,937 [omNode-1@group-523986131536-LeaderElection99] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderState
2019-10-26 09:02:46,938 [omNode-1@group-523986131536-LeaderElection99] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:02:46,939 [omNode-1@group-523986131536-LeaderElection99] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-1@group-523986131536: set configuration 0: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null at 0
2019-10-26 09:02:46,939 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-10-26 09:02:46,940 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 323ms
2019-10-26 09:02:46,945 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-2@group-523986131536: set configuration 0: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null at 0
2019-10-26 09:02:46,945 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:02:46,951 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 09:02:46,951 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 09:02:47,262 [Thread-5698] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:47,263 [Thread-5698] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10824, localhost:10812, localhost:10818
2019-10-26 09:02:47,264 [Thread-5698] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:02:47,265 [Thread-5698] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:02:47,265 [Thread-5698] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10824 (custom)
2019-10-26 09:02:47,265 [Thread-5698] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:02:47,265 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:47,266 [Thread-5698] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:02:47,266 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:47,267 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-3/ratis] (custom)
2019-10-26 09:02:47,267 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-3: addNew group-523986131536:[omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818] returns group-523986131536:java.util.concurrent.CompletableFuture@107f08a0[Not completed]
2019-10-26 09:02:47,268 [pool-1180-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:02:47,268 [Thread-5698] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10824
2019-10-26 09:02:47,268 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:02:47,268 [Thread-5698] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:47,268 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:02:47,268 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:02:47,268 [Thread-5698] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:02:47,269 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:02:47,269 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:47,269 [Thread-5698] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:02:47,269 [pool-1180-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null, confs=<EMPTY_MAP>
2019-10-26 09:02:47,269 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-3/ratis] (custom)
2019-10-26 09:02:47,270 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:02:47,270 [pool-1180-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:02:47,270 [Thread-5698] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:02:47,271 [Socket Reader #1 for port 10820] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10820
2019-10-26 09:02:47,287 [Thread-5698] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10820
2019-10-26 09:02:47,287 [Thread-5698] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:02:47,287 [Thread-5698] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-3 at port 10824
2019-10-26 09:02:47,295 [pool-1180-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:02:47,308 [pool-1180-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:02:47,308 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:02:47,308 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:02:47,308 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:02:47,308 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:47,308 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:02:47,309 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:02:47,310 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:02:47,310 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:02:47,310 [pool-1180-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:02:47,310 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:02:47,311 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:02:47,311 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:02:47,311 [pool-1180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:02:47,313 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:47,313 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:02:47,313 [Thread-5698] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:02:47,314 [Thread-5698] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 09:02:47,314 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-3: start RPC server
2019-10-26 09:02:47,315 [Thread-5698] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-3: GrpcService started, listening on 0.0.0.0/0.0.0.0:10824
2019-10-26 09:02:47,316 [IPC Server listener on 10820] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10820: starting
2019-10-26 09:02:47,316 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:02:47,323 [Thread-5698] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10822
2019-10-26 09:02:47,326 [Thread-5698] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:47,326 [Thread-5698] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:47,328 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:47,329 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:02:47,329 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:47,329 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:47,331 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10822
2019-10-26 09:02:47,331 [Thread-5698] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:47,333 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3fcf79b5{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:47,333 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@494655fe{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:02:47,338 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@35dbc19c{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:02:47,339 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@64647961{HTTP/1.1,[http/1.1]}{0.0.0.0:10822}
2019-10-26 09:02:47,340 [Thread-5698] INFO  server.Server (Server.java:doStart(419)) - Started @263492ms
2019-10-26 09:02:47,341 [Thread-5698] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:47,342 [Thread-5698] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10822
2019-10-26 09:02:47,342 [Thread-5698] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10820
2019-10-26 09:02:47,345 [Thread-5698] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-26 09:02:47,360 [Thread-5698] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2347-vd84r-3012294141 ip:192.168.34.52
2019-10-26 09:02:47,368 [Thread-5698] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-26 09:02:47,368 [Thread-5698] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/containers/hdds to VolumeSet
2019-10-26 09:02:47,368 [Thread-5698] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/containers/hdds
2019-10-26 09:02:47,369 [Thread-5698] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(204)) - Scheduled health check for volume /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/containers/hdds
2019-10-26 09:02:47,385 [Thread-5698] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:02:47,385 [Thread-5698] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:02:47,385 [Thread-5698] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-10-26 09:02:47,385 [Thread-5698] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-26 09:02:47,385 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:47,385 [Thread-5698] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:02:47,386 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:02:47,386 [Thread-5698] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/ratis] (custom)
2019-10-26 09:02:47,388 [Thread-5698] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-10-26 09:02:47,389 [Thread-5698] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:02:47,390 [Thread-5698] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:02:47,391 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:02:47,392 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-26 09:02:47,392 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:02:47,392 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:02:47,393 [Thread-5698] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 33821
2019-10-26 09:02:47,393 [Thread-5698] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:02:47,395 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@58dee6ab{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:02:47,395 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@41a8bcb4{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-26 09:02:47,453 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@85051c7{/,file:///tmp/jetty-0.0.0.0-33821-hddsDatanode-_-any-5711104692531232596.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-26 09:02:47,454 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@649d5840{HTTP/1.1,[http/1.1]}{0.0.0.0:33821}
2019-10-26 09:02:47,458 [Thread-5698] INFO  server.Server (Server.java:doStart(419)) - Started @263610ms
2019-10-26 09:02:47,459 [Thread-5698] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:02:47,460 [Thread-5698] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:33821
2019-10-26 09:02:47,461 [Thread-5698] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:02:47,463 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@73602e79] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 09:02:47,466 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/meta/datanode.id
2019-10-26 09:02:48,320 [Thread-5880] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1006ms, electionTimeout:1006ms
2019-10-26 09:02:48,320 [Thread-5880] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:02:48,320 [Thread-5880] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:02:48,320 [Thread-5880] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:02:48,347 [omNode-3@group-523986131536-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection100: begin an election at term 1 for -1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:48,357 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-2@group-523986131536- FOLLOWER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=392ms
2019-10-26 09:02:48,358 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-1@group-523986131536-   LEADER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=null
2019-10-26 09:02:48,361 [omNode-3@group-523986131536-LeaderElection100] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection100: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t1, omNode-3<-omNode-2#0:FAIL-t1] and 0 exception(s); omNode-3@group-523986131536:t1, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:48,361 [omNode-3@group-523986131536-LeaderElection100] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-10-26 09:02:48,362 [omNode-3@group-523986131536-LeaderElection100] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:02:48,362 [omNode-3@group-523986131536-LeaderElection100] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:02:48,461 [Thread-5698] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:02:49,432 [Thread-5932] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1070ms, electionTimeout:1070ms
2019-10-26 09:02:49,433 [Thread-5932] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:02:49,433 [Thread-5932] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-26 09:02:49,433 [Thread-5932] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:02:49,447 [omNode-3@group-523986131536-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection101: begin an election at term 2 for -1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:49,449 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 09:02:49,449 [grpc-default-executor-2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 09:02:49,449 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 09:02:49,449 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 09:02:49,449 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:49,450 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - omNode-1: shutdown LeaderState
2019-10-26 09:02:49,450 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:49,452 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@4da815b4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:02:49,450 [Thread-5865] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:49,454 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2019-10-26 09:02:49,454 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@6e1f94fa] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:02:49,455 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#5-t1, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: <empty>
2019-10-26 09:02:49,455 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:02:49,455 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(308)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-10-26 09:02:49,458 [grpc-default-executor-4] INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2019-10-26 09:02:49,465 [Thread-5698] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:02:49,480 [omNode-3@group-523986131536-LeaderElection101] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection101: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t2, omNode-3<-omNode-2#0:FAIL-t2] and 0 exception(s); omNode-3@group-523986131536:t2, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:49,480 [omNode-3@group-523986131536-LeaderElection101] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-10-26 09:02:49,480 [omNode-3@group-523986131536-LeaderElection101] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:02:49,480 [omNode-3@group-523986131536-LeaderElection101] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:02:49,481 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(213)) - Attempting to start container services.
2019-10-26 09:02:49,482 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(177)) - Background container scanner has been disabled.
2019-10-26 09:02:49,482 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis c56268ac-d0e0-42fb-bf94-41440fc4a8c6 at port 0
2019-10-26 09:02:49,489 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: start RPC server
2019-10-26 09:02:49,490 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: GrpcService started, listening on 0.0.0.0/0.0.0.0:40941
2019-10-26 09:02:49,490 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(428)) - XceiverServerRatis c56268ac-d0e0-42fb-bf94-41440fc4a8c6 is started using port 40941
2019-10-26 09:02:49,491 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(149)) - XceiverServerGrpc c56268ac-d0e0-42fb-bf94-41440fc4a8c6 is started using port 36389
2019-10-26 09:02:49,939 [java.util.concurrent.ThreadPoolExecutor$Worker@51411f79[State = -1, empty queue]] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(209)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: appendEntries Timeout, request=omNode-1->omNode-3#0-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: <empty>
2019-10-26 09:02:50,468 [Thread-5698] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:02:50,488 [Thread-5946] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1007ms, electionTimeout:1007ms
2019-10-26 09:02:50,488 [Thread-5946] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:02:50,488 [Thread-5946] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-10-26 09:02:50,488 [Thread-5946] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:02:50,521 [omNode-3@group-523986131536-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection102: begin an election at term 3 for -1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:50,524 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:omNode-3
2019-10-26 09:02:50,524 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:omNode-3
2019-10-26 09:02:50,525 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:50,525 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:02:50,525 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:02:50,525 [Thread-5942] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:50,525 [Thread-5944] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:50,525 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:02:50,551 [omNode-3@group-523986131536-LeaderElection102] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection102: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t3, omNode-3<-omNode-2#0:FAIL-t3] and 0 exception(s); omNode-3@group-523986131536:t3, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10824, omNode-1:localhost:10812, omNode-2:localhost:10818], old=null
2019-10-26 09:02:50,551 [omNode-3@group-523986131536-LeaderElection102] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-10-26 09:02:50,552 [omNode-3@group-523986131536-LeaderElection102] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:02:50,552 [omNode-3@group-523986131536-LeaderElection102] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:02:51,467 [IPC Server handler 0 on 33813] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(111)) - Added a new node: /default-rack/c56268ac-d0e0-42fb-bf94-41440fc4a8c6
2019-10-26 09:02:51,470 [Thread-5698] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-26 09:02:51,470 [IPC Server handler 0 on 33813] INFO  node.SCMNodeManager (SCMNodeManager.java:register(268)) - Registered Data node : c56268ac-d0e0-42fb-bf94-41440fc4a8c6{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}
2019-10-26 09:02:51,472 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-10-26 09:02:51,474 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-10-26 09:02:51,474 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-10-26 09:02:51,483 [IPC Server handler 1 on 10808] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 10808, call Call#421 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:60946
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,487 [grpc-default-executor-3] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: addNew group-87ADB6F77865:[c56268ac-d0e0-42fb-bf94-41440fc4a8c6:192.168.34.52:40941] returns group-87ADB6F77865:java.util.concurrent.CompletableFuture@5e945827[Not completed]
2019-10-26 09:02:51,494 [pool-1188-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: new RaftServerImpl for group-87ADB6F77865:[c56268ac-d0e0-42fb-bf94-41440fc4a8c6:192.168.34.52:40941] with ContainerStateMachine:uninitialized
2019-10-26 09:02:51,494 [IPC Server handler 0 on 10814] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10814, call Call#421 Retry#1 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:51758
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,494 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-26 09:02:51,495 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-26 09:02:51,495 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-26 09:02:51,495 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:02:51,497 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:02:51,497 [Thread-5698] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10814 after 1 failover attempts. Trying to failover immediately.
2019-10-26 09:02:51,497 [pool-1188-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865: ConfigurationManager, init=-1: [c56268ac-d0e0-42fb-bf94-41440fc4a8c6:192.168.34.52:40941], old=null, confs=<EMPTY_MAP>
2019-10-26 09:02:51,497 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/ratis] (custom)
2019-10-26 09:02:51,498 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:02:51,500 [pool-1188-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/ratis/93b81f6c-5f70-4105-b30e-87adb6f77865 does not exist. Creating ...
2019-10-26 09:02:51,503 [IPC Server handler 0 on 10820] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10820, call Call#421 Retry#2 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:56844
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,506 [Thread-5698] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10820 after 2 failover attempts. Trying to failover immediately.
2019-10-26 09:02:51,507 [IPC Server handler 0 on 10808] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10808, call Call#421 Retry#3 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:60946
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,519 [pool-1188-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/ratis/93b81f6c-5f70-4105-b30e-87adb6f77865/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:02:51,520 [Thread-5698] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10808 after 3 failover attempts. Trying to failover immediately.
2019-10-26 09:02:51,522 [IPC Server handler 1 on 10814] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 10814, call Call#421 Retry#4 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:51758
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,525 [Thread-5698] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10814 after 4 failover attempts. Trying to failover immediately.
2019-10-26 09:02:51,528 [IPC Server handler 2 on 10820] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 10820, call Call#421 Retry#5 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:56844
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,531 [Thread-5698] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10820 after 5 failover attempts. Trying to failover immediately.
2019-10-26 09:02:51,533 [pool-1188-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/ratis/93b81f6c-5f70-4105-b30e-87adb6f77865 has been successfully formatted.
2019-10-26 09:02:51,533 [pool-1188-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(231)) - group-87ADB6F77865: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-26 09:02:51,534 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-26 09:02:51,534 [IPC Server handler 2 on 10808] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 10808, call Call#421 Retry#6 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:60946
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,535 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:02:51,536 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-26 09:02:51,536 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:02:51,539 [Thread-5698] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10808 after 6 failover attempts. Trying to failover immediately.
2019-10-26 09:02:51,539 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 09:02:51,539 [pool-1188-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:02:51,539 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:02:51,540 [pool-1188-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/ratis/93b81f6c-5f70-4105-b30e-87adb6f77865
2019-10-26 09:02:51,540 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-26 09:02:51,540 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-26 09:02:51,540 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 09:02:51,540 [IPC Server handler 2 on 10814] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 10814, call Call#421 Retry#7 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:51758
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,540 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:02:51,542 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-26 09:02:51,544 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:02:51,544 [Thread-5698] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10814 after 7 failover attempts. Trying to failover immediately.
2019-10-26 09:02:51,544 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:02:51,544 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:02:51,544 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:02:51,545 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-26 09:02:51,545 [pool-1188-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:02:51,545 [IPC Server handler 4 on 10820] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 4 on 10820, call Call#421 Retry#8 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:56844
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,547 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:02:51,547 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-10-26 09:02:51,547 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-26 09:02:51,549 [pool-1188-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:02:51,549 [Thread-5698] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10820 after 8 failover attempts. Trying to failover immediately.
2019-10-26 09:02:51,549 [pool-1188-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:02:51,550 [pool-1188-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:02:51,550 [pool-1188-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865: start as a follower, conf=-1: [c56268ac-d0e0-42fb-bf94-41440fc4a8c6:192.168.34.52:40941], old=null
2019-10-26 09:02:51,550 [pool-1188-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:02:51,550 [pool-1188-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: start FollowerState
2019-10-26 09:02:51,551 [IPC Server handler 5 on 10808] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 5 on 10808, call Call#421 Retry#9 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:60946
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,552 [pool-1188-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-87ADB6F77865,id=c56268ac-d0e0-42fb-bf94-41440fc4a8c6
2019-10-26 09:02:51,552 [pool-1188-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:02:51,554 [Thread-5698] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10808 after 9 failover attempts. Trying to failover immediately.
2019-10-26 09:02:51,557 [IPC Server handler 4 on 10814] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 4 on 10814, call Call#421 Retry#10 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:51758
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:02:51,559 [Thread-5698] ERROR ha.OMFailoverProxyProvider (OzoneManagerProtocolClientSideTranslatorPB.java:getRetryAction(268)) - Failed to connect to OM. Attempted 10 retries and 10 failovers
2019-10-26 09:02:51,561 [Thread-5698] ERROR client.OzoneClientFactory (OzoneClientFactory.java:getClientProtocol(259)) - Couldn't create RpcClient protocol exception: 
org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.GeneratedMethodAccessor120.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-10-26 09:02:51,561 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 93b81f6c-5f70-4105-b30e-87adb6f77865, Nodes: c56268ac-d0e0-42fb-bf94-41440fc4a8c6{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-26 09:02:51,562 [Thread-5698] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(314)) - Shutting down the Mini Ozone Cluster
2019-10-26 09:02:51,562 [Thread-5698] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-3
2019-10-26 09:02:51,562 [Thread-5698] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10820
2019-10-26 09:02:51,565 [IPC Server listener on 10820] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10820
2019-10-26 09:02:51,567 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:51,567 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-3: close
2019-10-26 09:02:51,567 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-3@group-523986131536: shutdown
2019-10-26 09:02:51,568 [Thread-5698] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 09:02:51,568 [Thread-5698] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:02:51,568 [Thread-5698] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = -1
2019-10-26 09:02:51,568 [Thread-5955] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-3@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:51,568 [Thread-5698] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-3@group-523986131536: closes. applyIndex: -1
2019-10-26 09:02:51,568 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:02:51,568 [Thread-5698] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:02:51,571 [Thread-5698] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-3: shutdown server with port 10824 now
2019-10-26 09:02:51,580 [Thread-5698] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-3: shutdown server with port 10824 successfully
2019-10-26 09:02:51,580 [Thread-5698] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:02:51,580 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:02:51,581 [Thread-5698] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:02:51,582 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@35dbc19c{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:02:51,582 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@64647961{HTTP/1.1,[http/1.1]}{0.0.0.0:10822}
2019-10-26 09:02:51,583 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@494655fe{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:02:51,583 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3fcf79b5{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:51,585 [Thread-5698] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-1
2019-10-26 09:02:51,585 [Thread-5698] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10808
2019-10-26 09:02:51,588 [IPC Server listener on 10808] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10808
2019-10-26 09:02:51,588 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:51,588 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-1: close
2019-10-26 09:02:51,588 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-1@group-523986131536: shutdown
2019-10-26 09:02:51,590 [Thread-5698] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 09:02:51,590 [Thread-5698] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:02:51,590 [Thread-5698] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:02:51,590 [Thread-5954] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:51,590 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:02:51,591 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:02:51,591 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:02:51,592 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:02:51,592 [Thread-5698] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-1@group-523986131536: closes. applyIndex: 0
2019-10-26 09:02:51,592 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:02:51,593 [Thread-5698] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:02:51,595 [Thread-5698] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-1: shutdown server with port 10812 now
2019-10-26 09:02:51,596 [Thread-5698] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-1: shutdown server with port 10812 successfully
2019-10-26 09:02:51,596 [Thread-5698] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:02:51,596 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:02:51,596 [Thread-5698] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:02:51,603 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@7eb3dc3e{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:02:51,604 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@7537d8e5{HTTP/1.1,[http/1.1]}{0.0.0.0:10810}
2019-10-26 09:02:51,604 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2442b35b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:02:51,604 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7e5d4a3d{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:51,606 [Thread-5698] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-2
2019-10-26 09:02:51,606 [Thread-5698] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10814
2019-10-26 09:02:51,609 [IPC Server listener on 10814] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10814
2019-10-26 09:02:51,609 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:51,609 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-2: close
2019-10-26 09:02:51,610 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-2@group-523986131536: shutdown
2019-10-26 09:02:51,611 [Thread-5698] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 09:02:51,611 [Thread-5698] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:02:51,611 [Thread-5698] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:02:51,611 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:02:51,611 [Thread-5953] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:02:51,612 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:02:51,612 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:02:51,612 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:02:51,612 [Thread-5698] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-2@group-523986131536: closes. applyIndex: 0
2019-10-26 09:02:51,613 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:02:51,614 [Thread-5698] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:02:51,616 [Thread-5698] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-2: shutdown server with port 10818 now
2019-10-26 09:02:51,616 [Thread-5698] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-2: shutdown server with port 10818 successfully
2019-10-26 09:02:51,617 [Thread-5698] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:02:51,617 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:02:51,617 [Thread-5698] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:02:51,617 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2c4de759{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:02:51,618 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1b0cec28{HTTP/1.1,[http/1.1]}{0.0.0.0:10816}
2019-10-26 09:02:51,618 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@62a61722{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:02:51,618 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@32b13e60{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:51,620 [Thread-5698] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(330)) - Stopping the Mini Ozone Cluster
2019-10-26 09:02:51,620 [Thread-5698] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(377)) - Stopping the HddsDatanodes
2019-10-26 09:02:53,463 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-26 09:02:54,475 [Thread-5966] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-10-26 09:02:54,479 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2019-10-26 09:02:56,558 [Thread-5980] INFO  impl.FollowerState (FollowerState.java:run(111)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-FollowerState: change to CANDIDATE, lastRpcTime:5007ms, electionTimeout:5007ms
2019-10-26 09:02:56,558 [Thread-5980] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: shutdown FollowerState
2019-10-26 09:02:56,558 [Thread-5980] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:02:56,558 [Thread-5980] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: start LeaderElection
2019-10-26 09:02:56,589 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103: begin an election at term 1 for -1: [c56268ac-d0e0-42fb-bf94-41440fc4a8c6:192.168.34.52:40941], old=null
2019-10-26 09:02:56,590 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: shutdown LeaderElection
2019-10-26 09:02:56,590 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-26 09:02:56,590 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865: change Leader from null to c56268ac-d0e0-42fb-bf94-41440fc4a8c6 at term 1 for becomeLeader, leader elected after 5056ms
2019-10-26 09:02:56,590 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-26 09:02:56,590 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-26 09:02:56,590 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-26 09:02:56,591 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-26 09:02:56,591 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-26 09:02:56,591 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-26 09:02:56,591 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: start LeaderState
2019-10-26 09:02:56,591 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:02:56,592 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-LeaderElection103] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865: set configuration 0: [c56268ac-d0e0-42fb-bf94-41440fc4a8c6:192.168.34.52:40941], old=null at 0
2019-10-26 09:02:56,620 [Thread-5698] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(227)) - Attempting to stop container services.
2019-10-26 09:02:56,621 [Thread-5698] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: close
2019-10-26 09:02:56,621 [Thread-5698] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865: shutdown
2019-10-26 09:02:56,622 [Thread-5698] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-87ADB6F77865,id=c56268ac-d0e0-42fb-bf94-41440fc4a8c6
2019-10-26 09:02:56,622 [Thread-5698] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: shutdown LeaderState
2019-10-26 09:02:56,622 [Thread-5698] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-PendingRequests: sendNotLeaderResponses
2019-10-26 09:02:56,623 [Thread-5698] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-StateMachineUpdater: set stopIndex = -1
2019-10-26 09:02:56,623 [Thread-5698] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865: closes. applyIndex: -1
2019-10-26 09:02:56,627 [c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-SegmentedRaftLogWorker] WARN  segmented.SegmentedRaftLogOutputStream (SegmentedRaftLogOutputStream.java:<init>(77)) - Hit IOException while creating log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/ratis/93b81f6c-5f70-4105-b30e-87adb6f77865/current/log_inprogress_0, delete the partial file.
2019-10-26 09:02:56,630 [Thread-5698] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6@group-87ADB6F77865-SegmentedRaftLogWorker close()
2019-10-26 09:02:56,639 [Thread-5698] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: shutdown server with port 40941 now
2019-10-26 09:02:56,640 [Thread-5698] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - c56268ac-d0e0-42fb-bf94-41440fc4a8c6: shutdown server with port 40941 successfully
2019-10-26 09:02:56,641 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-12cb4268-6b5b-4c93-aba9-7a331b906fb1/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-26 09:02:56,656 [Thread-5698] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service BlockDeletingService
2019-10-26 09:02:56,659 [Thread-5698] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-26 09:02:56,660 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@85051c7{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-26 09:02:56,660 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@649d5840{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 09:02:56,660 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@41a8bcb4{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-26 09:02:56,661 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@58dee6ab{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:56,661 [Thread-5698] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(392)) - Stopping the StorageContainerManager
2019-10-26 09:02:56,661 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-26 09:02:56,661 [Thread-5698] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-10-26 09:02:56,661 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-26 09:02:56,661 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-26 09:02:56,661 [Thread-5698] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-26 09:02:56,662 [Thread-5698] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 33813
2019-10-26 09:02:56,663 [IPC Server listener on 33813] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 33813
2019-10-26 09:02:56,663 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:56,726 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-26 09:02:56,726 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-26 09:02:56,726 [Thread-5698] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-26 09:02:56,727 [Thread-5698] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 36901
2019-10-26 09:02:56,728 [IPC Server listener on 36901] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 36901
2019-10-26 09:02:56,728 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:56,728 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-26 09:02:56,728 [Thread-5698] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-26 09:02:56,729 [Thread-5698] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 35897
2019-10-26 09:02:56,732 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-26 09:02:56,732 [IPC Server listener on 35897] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 35897
2019-10-26 09:02:56,732 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:02:56,734 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@58ffc3fe{/,null,UNAVAILABLE}{/scm}
2019-10-26 09:02:56,734 [Thread-5698] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@69e89928{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 09:02:56,735 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@9a6097b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:02:56,735 [Thread-5698] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@29df9ca8{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:02:56,736 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-26 09:02:56,736 [Thread-5698] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 09:02:56,736 [Thread-5698] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 09:02:56,736 [Thread-5698] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-26 09:02:56,742 [Thread-5698] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-10-26 09:02:56,750 [Thread-5698] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
]]></system-out>
    <system-err><![CDATA[Oct 26, 2019 9:02:46 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed@4ff2795
java.lang.NullPointerException
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onError(GrpcLogAppender.java:303)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:434)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:678)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:397)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:459)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:63)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:546)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$600(ClientCallImpl.java:467)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:584)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

]]></system-err>
  </testcase>
  <testcase name="testAddKeyAcl" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.615"/>
  <testcase name="testFileOperationsWithNonRecursive" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="19.95"/>
  <testcase name="testOMProxyProviderInitialization" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.189"/>
  <testcase name="testRemovePrefixAcl" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.47"/>
  <testcase name="testOneOMNodeDown" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.11">
    <error message="Couldn&apos;t create RpcClient protocol" type="java.io.IOException"><![CDATA[java.io.IOException: Couldn't create RpcClient protocol
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:263)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
Caused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.GeneratedMethodAccessor120.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	... 12 more
]]></error>
    <system-out><![CDATA[2019-10-26 09:03:57,006 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:57,020 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:57,020 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:57,020 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedBlocks
2019-10-26 09:03:57,020 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-10-26 09:03:57,021 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: validCerts
2019-10-26 09:03:57,021 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-10-26 09:03:57,021 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: revokedCerts
2019-10-26 09:03:57,021 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-10-26 09:03:57,021 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:03:57,021 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:03:57,021 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:03:57,231 [Thread-7376] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@200da9e0
2019-10-26 09:03:57,232 [Thread-7376] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-10-26 09:03:57,235 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 09:03:57,235 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(70)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2019-10-26 09:03:57,235 [Thread-7376] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(116)) - Entering startup safe mode.
2019-10-26 09:03:57,236 [Thread-7376] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-10-26 09:03:57,236 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:57,296 [Thread-7376] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(132)) - No pipeline exists in current db
2019-10-26 09:03:57,297 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:57,373 [Thread-7376] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-10-26 09:03:57,374 [Thread-7376] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:03:57,375 [Socket Reader #1 for port 35683] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 35683
2019-10-26 09:03:57,378 [Thread-7376] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:03:57,379 [Socket Reader #1 for port 39576] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39576
2019-10-26 09:03:57,381 [Thread-7376] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:03:57,382 [Socket Reader #1 for port 43208] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43208
2019-10-26 09:03:57,385 [Thread-7376] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-10-26 09:03:57,387 [Thread-7376] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:03:57,388 [Thread-7376] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:03:57,390 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:03:57,390 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-10-26 09:03:57,391 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:03:57,391 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:03:57,393 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:start(772)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:43208
2019-10-26 09:03:57,395 [Thread-7376] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-10-26 09:03:57,396 [Thread-7376] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-10-26 09:03:57,396 [Thread-7376] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-10-26 09:03:57,578 [Thread-7376] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:03:57,737 [Thread-7376] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(159)) - RPC server for Client  is listening at /0.0.0.0:43208
2019-10-26 09:03:57,737 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:03:57,737 [IPC Server listener on 43208] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43208: starting
2019-10-26 09:03:57,743 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:start(782)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:39576
2019-10-26 09:03:57,743 [Thread-7376] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:39576
2019-10-26 09:03:57,744 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:03:57,745 [IPC Server listener on 39576] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39576: starting
2019-10-26 09:03:57,749 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:start(786)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:35683
2019-10-26 09:03:57,749 [Thread-7376] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(169)) - RPC server for DataNodes is listening at /0.0.0.0:35683
2019-10-26 09:03:57,750 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:03:57,751 [IPC Server listener on 35683] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 35683: starting
2019-10-26 09:03:57,755 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44645
2019-10-26 09:03:57,755 [Thread-7376] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:03:57,757 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2ed6007a{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:03:57,758 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@73c28de4{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:03:57,763 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@719951b8{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-10-26 09:03:57,764 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@dbde093{HTTP/1.1,[http/1.1]}{0.0.0.0:44645}
2019-10-26 09:03:57,765 [Thread-7376] INFO  server.Server (Server.java:doStart(419)) - Started @333917ms
2019-10-26 09:03:57,765 [Thread-7376] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:03:57,766 [Thread-7376] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:44645
2019-10-26 09:03:57,768 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@25a22bab] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 09:03:57,769 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:57,782 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:10644 and Ratis port: 10648
2019-10-26 09:03:57,782 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-1: 127.0.0.1:10646
2019-10-26 09:03:57,782 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-1: 127.0.0.1:10647
2019-10-26 09:03:57,783 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-1: 127.0.0.1:10644
2019-10-26 09:03:57,783 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:57,783 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:57,792 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:57,792 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:03:57,792 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:03:57,792 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:03:57,793 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:03:57,793 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:03:57,793 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:03:57,793 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:03:57,793 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:03:57,793 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:03:57,793 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:03:57,793 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:03:57,793 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:03:57,794 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:03:57,794 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:03:57,794 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:03:57,794 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:03:57,794 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:03:57,794 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:03:57,794 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:03:57,794 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:03:57,794 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:03:57,795 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:03:57,795 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:03:57,795 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:03:57,795 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:03:58,321 [Thread-7376] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:03:58,322 [Thread-7376] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10648, localhost:10654, localhost:10660
2019-10-26 09:03:58,323 [Thread-7376] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:03:58,323 [Thread-7376] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:03:58,324 [Thread-7376] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10648 (custom)
2019-10-26 09:03:58,324 [Thread-7376] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:03:58,324 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:03:58,324 [Thread-7376] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:03:58,324 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:03:58,325 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-1/ratis] (custom)
2019-10-26 09:03:58,325 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-1: addNew group-523986131536:[omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654] returns group-523986131536:java.util.concurrent.CompletableFuture@6029bb12[Not completed]
2019-10-26 09:03:58,326 [pool-1474-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:03:58,326 [Thread-7376] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10648
2019-10-26 09:03:58,326 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:03:58,326 [Thread-7376] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:03:58,326 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:03:58,326 [Thread-7376] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:03:58,326 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:03:58,327 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:03:58,327 [Thread-7376] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:03:58,327 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:03:58,327 [pool-1474-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null, confs=<EMPTY_MAP>
2019-10-26 09:03:58,327 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-1/ratis] (custom)
2019-10-26 09:03:58,327 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:03:58,328 [pool-1474-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:03:58,328 [Thread-7376] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:03:58,329 [Socket Reader #1 for port 10644] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10644
2019-10-26 09:03:58,342 [pool-1474-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:03:58,349 [Thread-7376] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10644
2019-10-26 09:03:58,349 [Thread-7376] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:03:58,349 [Thread-7376] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-1 at port 10648
2019-10-26 09:03:58,355 [pool-1474-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:03:58,355 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:03:58,355 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:03:58,355 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:03:58,355 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:03:58,356 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:03:58,356 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:03:58,356 [pool-1474-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:03:58,356 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:03:58,356 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:03:58,356 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:03:58,356 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:03:58,356 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:03:58,356 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:03:58,357 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:03:58,357 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:03:58,357 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:03:58,357 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:03:58,357 [pool-1474-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:03:58,358 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:03:58,358 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:03:58,358 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:03:58,358 [pool-1474-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:03:58,359 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:03:58,360 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:03:58,360 [Thread-7376] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:03:58,360 [Thread-7376] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 09:03:58,361 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-1: start RPC server
2019-10-26 09:03:58,362 [Thread-7376] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-1: GrpcService started, listening on 0.0.0.0/0.0.0.0:10648
2019-10-26 09:03:58,364 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:03:58,364 [IPC Server listener on 10644] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10644: starting
2019-10-26 09:03:58,372 [Thread-7376] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10646
2019-10-26 09:03:58,373 [Thread-7376] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:03:58,374 [Thread-7376] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:03:58,376 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:03:58,376 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:03:58,377 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:03:58,377 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:03:58,378 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10646
2019-10-26 09:03:58,378 [Thread-7376] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:03:58,380 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@31b4217e{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:03:58,381 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6b956c64{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:03:58,385 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2a87f9fa{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:03:58,386 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@7e5ef8bb{HTTP/1.1,[http/1.1]}{0.0.0.0:10646}
2019-10-26 09:03:58,387 [Thread-7376] INFO  server.Server (Server.java:doStart(419)) - Started @334539ms
2019-10-26 09:03:58,388 [Thread-7376] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:03:58,389 [Thread-7376] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10646
2019-10-26 09:03:58,389 [Thread-7376] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10644
2019-10-26 09:03:58,390 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:58,394 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:10650 and Ratis port: 10654
2019-10-26 09:03:58,394 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-2: 127.0.0.1:10652
2019-10-26 09:03:58,395 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-2: 127.0.0.1:10653
2019-10-26 09:03:58,395 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-2: 127.0.0.1:10650
2019-10-26 09:03:58,395 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:58,395 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:58,403 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:58,403 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:03:58,403 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:03:58,403 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:03:58,404 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:03:58,404 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:03:58,404 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:03:58,404 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:03:58,404 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:03:58,404 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:03:58,404 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:03:58,404 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:03:58,405 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:03:58,405 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:03:58,405 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:03:58,405 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:03:58,405 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:03:58,405 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:03:58,405 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:03:58,406 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:03:58,406 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:03:58,406 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:03:58,406 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:03:58,406 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:03:58,406 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:03:58,406 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:03:58,990 [Thread-7376] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:03:58,991 [Thread-7376] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10654, localhost:10648, localhost:10660
2019-10-26 09:03:58,991 [Thread-7376] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:03:58,991 [Thread-7376] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:03:58,992 [Thread-7376] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10654 (custom)
2019-10-26 09:03:58,992 [Thread-7376] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:03:58,992 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:03:58,992 [Thread-7376] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:03:58,992 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:03:58,993 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-2/ratis] (custom)
2019-10-26 09:03:58,993 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-2: addNew group-523986131536:[omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654] returns group-523986131536:java.util.concurrent.CompletableFuture@6087f544[Not completed]
2019-10-26 09:03:58,993 [pool-1490-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:03:58,994 [Thread-7376] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10654
2019-10-26 09:03:58,994 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:03:58,994 [Thread-7376] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:03:58,994 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:03:58,994 [Thread-7376] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:03:58,994 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:03:58,994 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:03:58,995 [Thread-7376] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:03:58,995 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:03:58,995 [pool-1490-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null, confs=<EMPTY_MAP>
2019-10-26 09:03:58,995 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-2/ratis] (custom)
2019-10-26 09:03:58,995 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:03:58,996 [pool-1490-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:03:58,996 [Thread-7376] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:03:58,997 [Socket Reader #1 for port 10650] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10650
2019-10-26 09:03:59,015 [Thread-7376] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10650
2019-10-26 09:03:59,016 [Thread-7376] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:03:59,016 [Thread-7376] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-2 at port 10654
2019-10-26 09:03:59,021 [pool-1490-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:03:59,034 [pool-1490-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:03:59,034 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:03:59,034 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:03:59,034 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:03:59,035 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:03:59,035 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:03:59,035 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:03:59,035 [pool-1490-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:03:59,035 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:03:59,035 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:03:59,035 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:03:59,035 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:03:59,035 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:03:59,036 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:03:59,036 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:03:59,036 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:03:59,036 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:03:59,036 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:03:59,036 [pool-1490-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:03:59,037 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:03:59,037 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:03:59,037 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:03:59,037 [pool-1490-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:03:59,039 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:03:59,039 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:03:59,039 [Thread-7376] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:03:59,040 [Thread-7376] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 09:03:59,040 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-2: start RPC server
2019-10-26 09:03:59,041 [Thread-7376] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-2: GrpcService started, listening on 0.0.0.0/0.0.0.0:10654
2019-10-26 09:03:59,042 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:03:59,042 [IPC Server listener on 10650] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10650: starting
2019-10-26 09:03:59,049 [Thread-7376] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10652
2019-10-26 09:03:59,051 [Thread-7376] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:03:59,051 [Thread-7376] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:03:59,053 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:03:59,054 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:03:59,054 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:03:59,054 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:03:59,055 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10652
2019-10-26 09:03:59,055 [Thread-7376] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:03:59,057 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@216b172d{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:03:59,058 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@34111eb8{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:03:59,062 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@cd0e8b9{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:03:59,063 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@51624337{HTTP/1.1,[http/1.1]}{0.0.0.0:10652}
2019-10-26 09:03:59,064 [Thread-7376] INFO  server.Server (Server.java:doStart(419)) - Started @335216ms
2019-10-26 09:03:59,064 [Thread-7376] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:03:59,065 [Thread-7376] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10652
2019-10-26 09:03:59,066 [Thread-7376] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10650
2019-10-26 09:03:59,066 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:59,080 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(165)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:10656 and Ratis port: 10660
2019-10-26 09:03:59,081 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.omNode-3: 127.0.0.1:10658
2019-10-26 09:03:59,081 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.omNode-3: 127.0.0.1:10659
2019-10-26 09:03:59,081 [Thread-7376] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:setOMNodeSpecificConfigs(298)) - Setting configuration key ozone.om.address with value of key ozone.om.address.omNode-3: 127.0.0.1:10656
2019-10-26 09:03:59,081 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:59,081 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:59,088 [Thread-7376] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-10-26 09:03:59,088 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: userTable
2019-10-26 09:03:59,088 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-10-26 09:03:59,089 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: volumeTable
2019-10-26 09:03:59,089 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-10-26 09:03:59,089 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: bucketTable
2019-10-26 09:03:59,089 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-10-26 09:03:59,089 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: keyTable
2019-10-26 09:03:59,089 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-10-26 09:03:59,089 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: deletedTable
2019-10-26 09:03:59,090 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-10-26 09:03:59,090 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: openKeyTable
2019-10-26 09:03:59,090 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-10-26 09:03:59,090 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3Table
2019-10-26 09:03:59,090 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-10-26 09:03:59,090 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: multipartInfoTable
2019-10-26 09:03:59,090 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-10-26 09:03:59,091 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: dTokenTable
2019-10-26 09:03:59,091 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-10-26 09:03:59,091 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: s3SecretTable
2019-10-26 09:03:59,091 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-10-26 09:03:59,091 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: prefixTable
2019-10-26 09:03:59,091 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(183)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-10-26 09:03:59,091 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(127)) - using custom profile for table: default
2019-10-26 09:03:59,092 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(189)) - Using default column profile:DBProfile.DISK for Table:default
2019-10-26 09:03:59,092 [Thread-7376] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(220)) - Using default options. DBProfile.DISK
2019-10-26 09:03:59,558 [Thread-7468] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1198ms, electionTimeout:1198ms
2019-10-26 09:03:59,559 [Thread-7468] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:03:59,559 [Thread-7468] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:03:59,559 [Thread-7468] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderElection
2019-10-26 09:03:59,577 [omNode-1@group-523986131536-LeaderElection125] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-1@group-523986131536-LeaderElection125: begin an election at term 1 for -1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:03:59,584 [omNode-1@group-523986131536-LeaderElection125] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - omNode-1@group-523986131536-LeaderElection125 got exception when requesting votes: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:10660
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 09:03:59,588 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:omNode-1
2019-10-26 09:03:59,588 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:03:59,588 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:03:59,588 [Thread-7507] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:03:59,600 [omNode-1@group-523986131536-LeaderElection125] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-1@group-523986131536-LeaderElection125: Election PASSED; received 1 response(s) [omNode-1<-omNode-2#0:OK-t1] and 1 exception(s); omNode-1@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:03:59,600 [omNode-1@group-523986131536-LeaderElection125] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: {}
java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.ratis.server.impl.LeaderElection.waitForResults(LeaderElection.java:259)
	at org.apache.ratis.server.impl.LeaderElection.askForVotes(LeaderElection.java:197)
	at org.apache.ratis.server.impl.LeaderElection.run(LeaderElection.java:133)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$RaftServerProtocolServiceBlockingStub.requestVote(RaftServerProtocolServiceGrpc.java:265)
	at org.apache.ratis.grpc.server.GrpcServerProtocolClient.requestVote(GrpcServerProtocolClient.java:99)
	at org.apache.ratis.grpc.server.GrpcService.requestVote(GrpcService.java:204)
	at org.apache.ratis.server.impl.LeaderElection.lambda$submitRequests$1(LeaderElection.java:234)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:10660
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.ratis.thirdparty.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:327)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:632)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 more
Caused by: java.net.ConnectException: Connection refused
	... 11 more
2019-10-26 09:03:59,600 [omNode-1@group-523986131536-LeaderElection125] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-1: shutdown LeaderElection
2019-10-26 09:03:59,600 [omNode-1@group-523986131536-LeaderElection125] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-26 09:03:59,601 [omNode-1@group-523986131536-LeaderElection125] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1245ms
2019-10-26 09:03:59,601 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-26 09:03:59,601 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-26 09:03:59,601 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-26 09:03:59,601 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-26 09:03:59,601 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-26 09:03:59,601 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-26 09:03:59,601 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:03:59,601 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:03:59,602 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:03:59,602 [omNode-1@group-523986131536-LeaderElection125] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:03:59,602 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:03:59,602 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:03:59,602 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-10-26 09:03:59,602 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:03:59,602 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2019-10-26 09:03:59,602 [omNode-1@group-523986131536-LeaderElection125] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2019-10-26 09:03:59,603 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:03:59,603 [omNode-1@group-523986131536-LeaderElection125] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:03:59,603 [omNode-1@group-523986131536-LeaderElection125] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderState
2019-10-26 09:03:59,603 [omNode-1@group-523986131536-LeaderElection125] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:03:59,603 [omNode-1@group-523986131536-LeaderElection125] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-1@group-523986131536: set configuration 0: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null at 0
2019-10-26 09:03:59,606 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(134)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2019-10-26 09:03:59,608 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 574ms
2019-10-26 09:03:59,610 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - omNode-2@group-523986131536: set configuration 0: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null at 0
2019-10-26 09:03:59,611 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:03:59,616 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 09:03:59,616 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2019-10-26 09:03:59,669 [Thread-7376] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:03:59,670 [Thread-7376] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(243)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:10660, localhost:10648, localhost:10654
2019-10-26 09:03:59,670 [Thread-7376] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:03:59,670 [Thread-7376] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:03:59,670 [Thread-7376] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 10660 (custom)
2019-10-26 09:03:59,671 [Thread-7376] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33554432 (custom)
2019-10-26 09:03:59,671 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:03:59,671 [Thread-7376] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:03:59,671 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:03:59,671 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-3/ratis] (custom)
2019-10-26 09:03:59,672 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - omNode-3: addNew group-523986131536:[omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654] returns group-523986131536:java.util.concurrent.CompletableFuture@459b1361[Not completed]
2019-10-26 09:03:59,672 [pool-1506-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654] with OzoneManagerStateMachine:uninitialized
2019-10-26 09:03:59,672 [Thread-7376] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1220)) - OzoneManager Ratis server initialized at port 10660
2019-10-26 09:03:59,672 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 1s (custom)
2019-10-26 09:03:59,672 [Thread-7376] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:03:59,672 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 1200ms (custom)
2019-10-26 09:03:59,672 [Thread-7376] WARN  scm.HddsServerUtil (HddsServerUtil.java:getDefaultRatisDirectory(354)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2019-10-26 09:03:59,672 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 2s (custom)
2019-10-26 09:03:59,672 [Thread-7376] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(81)) - Initializing OM Snapshot Provider
2019-10-26 09:03:59,673 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:03:59,673 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:03:59,673 [pool-1506-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null, confs=<EMPTY_MAP>
2019-10-26 09:03:59,673 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-3/ratis] (custom)
2019-10-26 09:03:59,673 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:03:59,674 [Thread-7376] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-10-26 09:03:59,674 [pool-1506-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2019-10-26 09:03:59,674 [Socket Reader #1 for port 10656] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 10656
2019-10-26 09:03:59,678 [pool-1506-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:03:59,682 [pool-1506-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2019-10-26 09:03:59,682 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 2s (custom)
2019-10-26 09:03:59,682 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:03:59,682 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 50 (custom)
2019-10-26 09:03:59,682 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:03:59,683 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:03:59,683 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:03:59,683 [pool-1506-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2019-10-26 09:03:59,683 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-10-26 09:03:59,683 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-10-26 09:03:59,683 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 16384 (custom)
2019-10-26 09:03:59,683 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:03:59,683 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-10-26 09:03:59,684 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:03:59,684 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:03:59,684 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:03:59,684 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:03:59,684 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-10-26 09:03:59,684 [pool-1506-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:03:59,685 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:03:59,685 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2019-10-26 09:03:59,685 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-10-26 09:03:59,685 [pool-1506-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:03:59,686 [Thread-7376] INFO  om.OzoneManager (OzoneManager.java:start(1074)) - OzoneManager RPC server is listening at localhost/127.0.0.1:10656
2019-10-26 09:03:59,686 [Thread-7376] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-10-26 09:03:59,686 [Thread-7376] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(333)) - Starting OzoneManagerRatisServer omNode-3 at port 10660
2019-10-26 09:03:59,688 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:03:59,688 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:03:59,688 [Thread-7376] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:03:59,688 [Thread-7376] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 09:03:59,688 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - omNode-3: start RPC server
2019-10-26 09:03:59,689 [Thread-7376] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - omNode-3: GrpcService started, listening on 0.0.0.0/0.0.0.0:10660
2019-10-26 09:03:59,692 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-10-26 09:03:59,693 [IPC Server listener on 10656] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 10656: starting
2019-10-26 09:03:59,698 [Thread-7376] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:10658
2019-10-26 09:03:59,699 [Thread-7376] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:03:59,699 [Thread-7376] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:03:59,700 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:03:59,701 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-10-26 09:03:59,701 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:03:59,701 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:03:59,702 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 10658
2019-10-26 09:03:59,702 [Thread-7376] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:03:59,704 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@17e11aeb{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:03:59,704 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5c0ec494{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-10-26 09:03:59,707 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@51647974{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-10-26 09:03:59,708 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@4a0ecdf{HTTP/1.1,[http/1.1]}{0.0.0.0:10658}
2019-10-26 09:03:59,710 [Thread-7376] INFO  server.Server (Server.java:doStart(419)) - Started @335862ms
2019-10-26 09:03:59,710 [Thread-7376] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:03:59,711 [Thread-7376] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:10658
2019-10-26 09:03:59,711 [Thread-7376] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(274)) - Started OzoneManager RPC server at localhost/127.0.0.1:10656
2019-10-26 09:03:59,714 [Thread-7376] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-10-26 09:03:59,726 [Thread-7376] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2347-vd84r-3012294141 ip:192.168.34.52
2019-10-26 09:03:59,747 [Thread-7376] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-10-26 09:03:59,747 [Thread-7376] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/containers/hdds to VolumeSet
2019-10-26 09:03:59,747 [Thread-7376] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/containers/hdds
2019-10-26 09:03:59,748 [Thread-7376] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(204)) - Scheduled health check for volume /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/containers/hdds
2019-10-26 09:03:59,760 [Thread-7376] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-10-26 09:03:59,760 [Thread-7376] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-10-26 09:03:59,760 [Thread-7376] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-10-26 09:03:59,761 [Thread-7376] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-10-26 09:03:59,761 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:03:59,761 [Thread-7376] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-10-26 09:03:59,761 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-10-26 09:03:59,761 [Thread-7376] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/ratis] (custom)
2019-10-26 09:03:59,763 [Thread-7376] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-10-26 09:03:59,764 [Thread-7376] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-10-26 09:03:59,764 [Thread-7376] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-10-26 09:03:59,765 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-10-26 09:03:59,765 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-10-26 09:03:59,765 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-10-26 09:03:59,766 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-10-26 09:03:59,766 [Thread-7376] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 38571
2019-10-26 09:03:59,766 [Thread-7376] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.25.v20180904, build timestamp: 2018-09-04T21:11:46Z, git hash: 3ce520221d0240229c862b122d2b06c12a625732
2019-10-26 09:03:59,768 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@180eda1f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-10-26 09:03:59,768 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@30be675c{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-10-26 09:03:59,798 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@3a231269{/,file:///tmp/jetty-0.0.0.0-38571-hddsDatanode-_-any-7892682450411659745.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-10-26 09:03:59,798 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@42d3a049{HTTP/1.1,[http/1.1]}{0.0.0.0:38571}
2019-10-26 09:03:59,799 [Thread-7376] INFO  server.Server (Server.java:doStart(419)) - Started @335950ms
2019-10-26 09:03:59,801 [Thread-7376] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-10-26 09:03:59,802 [Thread-7376] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:38571
2019-10-26 09:03:59,802 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:03:59,807 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@69bc20c1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-10-26 09:03:59,808 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/meta/datanode.id
2019-10-26 09:04:00,803 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:04:00,878 [Thread-7558] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1190ms, electionTimeout:1190ms
2019-10-26 09:04:00,879 [Thread-7558] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:04:00,879 [Thread-7558] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:04:00,879 [Thread-7558] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:04:00,897 [omNode-3@group-523986131536-LeaderElection126] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection126: begin an election at term 1 for -1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:00,920 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-1@group-523986131536-   LEADER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=null
2019-10-26 09:04:00,921 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(776)) - omNode-2@group-523986131536- FOLLOWER: Withhold vote from candidate omNode-3 with term 1. State: leader=omNode-1, term=1, lastRpcElapsed=285ms
2019-10-26 09:04:00,924 [omNode-3@group-523986131536-LeaderElection126] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection126: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t1, omNode-3<-omNode-2#0:FAIL-t1] and 0 exception(s); omNode-3@group-523986131536:t1, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:00,924 [omNode-3@group-523986131536-LeaderElection126] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-10-26 09:04:00,924 [omNode-3@group-523986131536-LeaderElection126] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:04:00,924 [omNode-3@group-523986131536-LeaderElection126] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:04:01,804 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:04:01,829 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(213)) - Attempting to start container services.
2019-10-26 09:04:01,829 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(177)) - Background container scanner has been disabled.
2019-10-26 09:04:01,829 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(418)) - Starting XceiverServerRatis 39f544fb-e253-4589-ad23-a2c9d505e0ed at port 0
2019-10-26 09:04:01,837 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: start RPC server
2019-10-26 09:04:01,846 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: GrpcService started, listening on 0.0.0.0/0.0.0.0:38285
2019-10-26 09:04:01,846 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(428)) - XceiverServerRatis 39f544fb-e253-4589-ad23-a2c9d505e0ed is started using port 38285
2019-10-26 09:04:01,846 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(149)) - XceiverServerGrpc 39f544fb-e253-4589-ad23-a2c9d505e0ed is started using port 42082
2019-10-26 09:04:02,063 [Thread-7612] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1138ms, electionTimeout:1138ms
2019-10-26 09:04:02,063 [Thread-7612] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:04:02,063 [Thread-7612] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-10-26 09:04:02,063 [Thread-7612] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:04:02,076 [omNode-3@group-523986131536-LeaderElection127] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection127: begin an election at term 2 for -1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:02,079 [grpc-default-executor-3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-1@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 09:04:02,079 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - omNode-2@group-523986131536: change Leader from omNode-1 to null at term 2 for updateCurrentTerm
2019-10-26 09:04:02,079 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 09:04:02,079 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:omNode-3
2019-10-26 09:04:02,079 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:04:02,079 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - omNode-1: shutdown LeaderState
2019-10-26 09:04:02,079 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:04:02,080 [Thread-7544] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:04:02,083 [grpc-default-executor-3] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2019-10-26 09:04:02,083 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@3066b393] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:04:02,083 [org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$257/2102299286@77666009] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(149)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2019-10-26 09:04:02,084 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:04:02,084 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(113)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#5-t1, previous=(t:1, i:0), leaderCommit=0, initializing? false, entries: <empty>
2019-10-26 09:04:02,085 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(308)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2019-10-26 09:04:02,087 [grpc-default-executor-4] INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2019-10-26 09:04:02,100 [omNode-3@group-523986131536-LeaderElection127] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection127: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t2, omNode-3<-omNode-2#0:FAIL-t2] and 0 exception(s); omNode-3@group-523986131536:t2, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:02,100 [omNode-3@group-523986131536-LeaderElection127] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-10-26 09:04:02,101 [omNode-3@group-523986131536-LeaderElection127] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:04:02,101 [omNode-3@group-523986131536-LeaderElection127] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:04:02,606 [java.util.concurrent.ThreadPoolExecutor$Worker@50cb1f9a[State = -1, empty queue]] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(209)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: appendEntries Timeout, request=omNode-1->omNode-3#0-t1, previous=(t:0, i:0), leaderCommit=-1, initializing? false, entries: <empty>
2019-10-26 09:04:02,805 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:04:03,171 [Thread-7625] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1070ms, electionTimeout:1070ms
2019-10-26 09:04:03,171 [Thread-7625] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:04:03,172 [Thread-7625] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-10-26 09:04:03,172 [Thread-7625] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:04:03,197 [omNode-3@group-523986131536-LeaderElection128] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection128: begin an election at term 3 for -1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:03,200 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:omNode-3
2019-10-26 09:04:03,200 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:04:03,200 [grpc-default-executor-3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:omNode-3
2019-10-26 09:04:03,200 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:04:03,200 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:04:03,200 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:04:03,200 [Thread-7624] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:04:03,201 [Thread-7622] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:04:03,215 [omNode-3@group-523986131536-LeaderElection128] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection128: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t3, omNode-3<-omNode-2#0:FAIL-t3] and 0 exception(s); omNode-3@group-523986131536:t3, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:03,215 [omNode-3@group-523986131536-LeaderElection128] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-10-26 09:04:03,215 [omNode-3@group-523986131536-LeaderElection128] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:04:03,215 [omNode-3@group-523986131536-LeaderElection128] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:04:03,805 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-10-26 09:04:03,812 [IPC Server handler 1 on 35683] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(111)) - Added a new node: /default-rack/39f544fb-e253-4589-ad23-a2c9d505e0ed
2019-10-26 09:04:03,813 [IPC Server handler 1 on 35683] INFO  node.SCMNodeManager (SCMNodeManager.java:register(268)) - Registered Data node : 39f544fb-e253-4589-ad23-a2c9d505e0ed{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}
2019-10-26 09:04:03,814 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-10-26 09:04:03,815 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-10-26 09:04:03,815 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-10-26 09:04:03,828 [grpc-default-executor-3] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: addNew group-14968726DF3F:[39f544fb-e253-4589-ad23-a2c9d505e0ed:192.168.34.52:38285] returns group-14968726DF3F:java.util.concurrent.CompletableFuture@23ad3938[Not completed]
2019-10-26 09:04:03,829 [pool-1514-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: new RaftServerImpl for group-14968726DF3F:[39f544fb-e253-4589-ad23-a2c9d505e0ed:192.168.34.52:38285] with ContainerStateMachine:uninitialized
2019-10-26 09:04:03,830 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-10-26 09:04:03,830 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-10-26 09:04:03,830 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-10-26 09:04:03,830 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-10-26 09:04:03,830 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-10-26 09:04:03,830 [pool-1514-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F: ConfigurationManager, init=-1: [39f544fb-e253-4589-ad23-a2c9d505e0ed:192.168.34.52:38285], old=null, confs=<EMPTY_MAP>
2019-10-26 09:04:03,830 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/ratis] (custom)
2019-10-26 09:04:03,831 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-10-26 09:04:03,831 [pool-1514-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/ratis/d0381937-3e3e-4950-bacb-14968726df3f does not exist. Creating ...
2019-10-26 09:04:03,844 [pool-1514-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/ratis/d0381937-3e3e-4950-bacb-14968726df3f/in_use.lock acquired by nodename 8682@pr-hdds-2347-vd84r-3012294141
2019-10-26 09:04:03,856 [pool-1514-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/ratis/d0381937-3e3e-4950-bacb-14968726df3f has been successfully formatted.
2019-10-26 09:04:03,857 [pool-1514-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(231)) - group-14968726DF3F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-10-26 09:04:03,857 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-10-26 09:04:03,857 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-10-26 09:04:03,857 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-10-26 09:04:03,857 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-10-26 09:04:03,857 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 09:04:03,858 [pool-1514-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:04:03,858 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-10-26 09:04:03,858 [pool-1514-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/ratis/d0381937-3e3e-4950-bacb-14968726df3f
2019-10-26 09:04:03,858 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-10-26 09:04:03,858 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-10-26 09:04:03,858 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-10-26 09:04:03,858 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-10-26 09:04:03,858 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-10-26 09:04:03,858 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-10-26 09:04:03,859 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-10-26 09:04:03,859 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-10-26 09:04:03,859 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-10-26 09:04:03,859 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-10-26 09:04:03,859 [pool-1514-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-10-26 09:04:03,859 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-10-26 09:04:03,860 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-10-26 09:04:03,860 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-10-26 09:04:03,860 [pool-1514-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-10-26 09:04:03,860 [pool-1514-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:04:03,860 [pool-1514-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:04:03,860 [pool-1514-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F: start as a follower, conf=-1: [39f544fb-e253-4589-ad23-a2c9d505e0ed:192.168.34.52:38285], old=null
2019-10-26 09:04:03,860 [pool-1514-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-10-26 09:04:03,860 [pool-1514-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: start FollowerState
2019-10-26 09:04:03,861 [pool-1514-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-14968726DF3F,id=39f544fb-e253-4589-ad23-a2c9d505e0ed
2019-10-26 09:04:03,861 [pool-1514-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-10-26 09:04:03,866 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: d0381937-3e3e-4950-bacb-14968726df3f, Nodes: 39f544fb-e253-4589-ad23-a2c9d505e0ed{ip: 192.168.34.52, host: pr-hdds-2347-vd84r-3012294141, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-10-26 09:04:04,348 [Thread-7633] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1132ms, electionTimeout:1132ms
2019-10-26 09:04:04,348 [Thread-7633] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:04:04,348 [Thread-7633] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-10-26 09:04:04,348 [Thread-7633] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start LeaderElection
2019-10-26 09:04:04,350 [Thread-7631] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1149ms, electionTimeout:1149ms
2019-10-26 09:04:04,350 [Thread-7631] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:04:04,350 [Thread-7631] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-10-26 09:04:04,350 [Thread-7631] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start LeaderElection
2019-10-26 09:04:04,358 [Thread-7632] INFO  impl.FollowerState (FollowerState.java:run(111)) - omNode-2@group-523986131536-FollowerState: change to CANDIDATE, lastRpcTime:1157ms, electionTimeout:1157ms
2019-10-26 09:04:04,358 [Thread-7632] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:04:04,358 [Thread-7632] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-10-26 09:04:04,359 [Thread-7632] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start LeaderElection
2019-10-26 09:04:04,363 [omNode-3@group-523986131536-LeaderElection129] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-3@group-523986131536-LeaderElection129: begin an election at term 4 for -1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:04,363 [omNode-2@group-523986131536-LeaderElection131] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-2@group-523986131536-LeaderElection131: begin an election at term 4 for 0: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:04,363 [omNode-1@group-523986131536-LeaderElection130] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - omNode-1@group-523986131536-LeaderElection130: begin an election at term 4 for 0: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:04,376 [omNode-3@group-523986131536-LeaderElection129] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-3@group-523986131536-LeaderElection129: Election REJECTED; received 2 response(s) [omNode-3<-omNode-1#0:FAIL-t4, omNode-3<-omNode-2#0:FAIL-t4] and 0 exception(s); omNode-3@group-523986131536:t4, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:04,378 [omNode-3@group-523986131536-LeaderElection129] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 4 for DISCOVERED_A_NEW_TERM
2019-10-26 09:04:04,378 [omNode-3@group-523986131536-LeaderElection129] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-3: shutdown LeaderElection
2019-10-26 09:04:04,378 [omNode-3@group-523986131536-LeaderElection129] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-3: start FollowerState
2019-10-26 09:04:04,380 [omNode-2@group-523986131536-LeaderElection131] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-2@group-523986131536-LeaderElection131: Election REJECTED; received 2 response(s) [omNode-2<-omNode-3#0:FAIL-t4, omNode-2<-omNode-1#0:FAIL-t4] and 0 exception(s); omNode-2@group-523986131536:t4, leader=null, voted=omNode-2, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:04,381 [omNode-2@group-523986131536-LeaderElection131] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-2@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 4 for DISCOVERED_A_NEW_TERM
2019-10-26 09:04:04,382 [omNode-2@group-523986131536-LeaderElection131] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-2: shutdown LeaderElection
2019-10-26 09:04:04,383 [omNode-1@group-523986131536-LeaderElection130] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - omNode-1@group-523986131536-LeaderElection130: Election REJECTED; received 2 response(s) [omNode-1<-omNode-3#0:FAIL-t4, omNode-1<-omNode-2#0:FAIL-t4] and 0 exception(s); omNode-1@group-523986131536:t4, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [omNode-3:localhost:10660, omNode-1:localhost:10648, omNode-2:localhost:10654], old=null
2019-10-26 09:04:04,383 [omNode-2@group-523986131536-LeaderElection131] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-2: start FollowerState
2019-10-26 09:04:04,383 [omNode-1@group-523986131536-LeaderElection130] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - omNode-1@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 4 for DISCOVERED_A_NEW_TERM
2019-10-26 09:04:04,383 [omNode-1@group-523986131536-LeaderElection130] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - omNode-1: shutdown LeaderElection
2019-10-26 09:04:04,383 [omNode-1@group-523986131536-LeaderElection130] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - omNode-1: start FollowerState
2019-10-26 09:04:04,805 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(147)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-10-26 09:04:04,817 [IPC Server handler 5 on 10644] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 5 on 10644, call Call#543 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:53062
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,827 [IPC Server handler 0 on 10650] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10650, call Call#543 Retry#1 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:33288
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,829 [Thread-7376] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10650 after 1 failover attempts. Trying to failover immediately.
2019-10-26 09:04:04,837 [IPC Server handler 3 on 10656] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 3 on 10656, call Call#543 Retry#2 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:37514
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,839 [Thread-7376] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10656 after 2 failover attempts. Trying to failover immediately.
2019-10-26 09:04:04,841 [IPC Server handler 4 on 10644] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 4 on 10644, call Call#543 Retry#3 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:53062
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,844 [Thread-7376] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10644 after 3 failover attempts. Trying to failover immediately.
2019-10-26 09:04:04,845 [IPC Server handler 1 on 10650] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 10650, call Call#543 Retry#4 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:33288
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,848 [Thread-7376] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10650 after 4 failover attempts. Trying to failover immediately.
2019-10-26 09:04:04,849 [IPC Server handler 0 on 10656] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10656, call Call#543 Retry#5 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:37514
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,853 [Thread-7376] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10656 after 5 failover attempts. Trying to failover immediately.
2019-10-26 09:04:04,854 [IPC Server handler 0 on 10644] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 0 on 10644, call Call#543 Retry#6 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:53062
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,857 [Thread-7376] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10644 after 6 failover attempts. Trying to failover immediately.
2019-10-26 09:04:04,858 [IPC Server handler 2 on 10650] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 10650, call Call#543 Retry#7 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:33288
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,860 [Thread-7376] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:10650 after 7 failover attempts. Trying to failover immediately.
2019-10-26 09:04:04,861 [IPC Server handler 2 on 10656] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 2 on 10656, call Call#543 Retry#8 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:37514
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,863 [Thread-7376] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:10656 after 8 failover attempts. Trying to failover immediately.
2019-10-26 09:04:04,864 [IPC Server handler 3 on 10644] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 3 on 10644, call Call#543 Retry#9 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:53062
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,866 [Thread-7376] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
, while invoking $Proxy37.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:10644 after 9 failover attempts. Trying to failover immediately.
2019-10-26 09:04:04,867 [IPC Server handler 3 on 10650] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 3 on 10650, call Call#543 Retry#10 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 127.0.0.1:33288
org.apache.hadoop.ozone.om.exceptions.NotLeaderException: OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-10-26 09:04:04,869 [Thread-7376] ERROR ha.OMFailoverProxyProvider (OzoneManagerProtocolClientSideTranslatorPB.java:getRetryAction(268)) - Failed to connect to OM. Attempted 10 retries and 10 failovers
2019-10-26 09:04:04,870 [Thread-7376] ERROR client.OzoneClientFactory (OzoneClientFactory.java:getClientProtocol(259)) - Couldn't create RpcClient protocol exception: 
org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.NotLeaderException): OM omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:198)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:187)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:112)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:72)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:102)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)

	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1511)
	at org.apache.hadoop.ipc.Client.call(Client.java:1457)
	at org.apache.hadoop.ipc.Client.call(Client.java:1367)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:228)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy37.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:338)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1223)
	at sun.reflect.GeneratedMethodAccessor120.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.tracing.TraceAllMethod.invoke(TraceAllMethod.java:66)
	at com.sun.proxy.$Proxy38.getServiceInfo(Unknown Source)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:154)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:256)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:187)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:150)
	at sun.reflect.GeneratedMethodAccessor126.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2019-10-26 09:04:04,870 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(314)) - Shutting down the Mini Ozone Cluster
2019-10-26 09:04:04,870 [Thread-7376] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-3
2019-10-26 09:04:04,870 [Thread-7376] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10656
2019-10-26 09:04:04,874 [IPC Server listener on 10656] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10656
2019-10-26 09:04:04,874 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:04:04,875 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-3: close
2019-10-26 09:04:04,876 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-3@group-523986131536: shutdown
2019-10-26 09:04:04,877 [Thread-7376] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2019-10-26 09:04:04,877 [Thread-7376] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-3: shutdown FollowerState
2019-10-26 09:04:04,878 [Thread-7376] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = -1
2019-10-26 09:04:04,878 [Thread-7658] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-3@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:04:04,878 [Thread-7376] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-3@group-523986131536: closes. applyIndex: -1
2019-10-26 09:04:04,878 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:04:04,879 [Thread-7376] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:04:04,881 [Thread-7376] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-3: shutdown server with port 10660 now
2019-10-26 09:04:04,892 [Thread-7376] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-3: shutdown server with port 10660 successfully
2019-10-26 09:04:04,893 [Thread-7376] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:04:04,893 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:04:04,893 [Thread-7376] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:04:04,895 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@51647974{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:04:04,896 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@4a0ecdf{HTTP/1.1,[http/1.1]}{0.0.0.0:10658}
2019-10-26 09:04:04,896 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5c0ec494{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:04:04,897 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@17e11aeb{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:04:04,899 [Thread-7376] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-1
2019-10-26 09:04:04,899 [Thread-7376] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10644
2019-10-26 09:04:04,903 [IPC Server listener on 10644] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10644
2019-10-26 09:04:04,903 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:04:04,903 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-1: close
2019-10-26 09:04:04,905 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-1@group-523986131536: shutdown
2019-10-26 09:04:04,906 [Thread-7376] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2019-10-26 09:04:04,906 [Thread-7376] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-1: shutdown FollowerState
2019-10-26 09:04:04,906 [Thread-7376] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:04:04,906 [Thread-7660] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-1@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:04:04,906 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:04:04,908 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:04:04,908 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:04:04,908 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:04:04,908 [Thread-7376] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-1@group-523986131536: closes. applyIndex: 0
2019-10-26 09:04:04,909 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:04:04,910 [Thread-7376] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:04:04,913 [Thread-7376] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-1: shutdown server with port 10648 now
2019-10-26 09:04:04,915 [Thread-7376] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-1: shutdown server with port 10648 successfully
2019-10-26 09:04:04,915 [Thread-7376] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:04:04,915 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:04:04,916 [Thread-7376] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:04:04,917 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2a87f9fa{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:04:04,917 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@7e5ef8bb{HTTP/1.1,[http/1.1]}{0.0.0.0:10646}
2019-10-26 09:04:04,917 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6b956c64{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:04:04,918 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@31b4217e{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:04:04,920 [Thread-7376] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(147)) - Stopping the OzoneManager omNode-2
2019-10-26 09:04:04,920 [Thread-7376] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 10650
2019-10-26 09:04:04,923 [IPC Server listener on 10650] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 10650
2019-10-26 09:04:04,924 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:04:04,924 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - omNode-2: close
2019-10-26 09:04:04,925 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - omNode-2@group-523986131536: shutdown
2019-10-26 09:04:04,926 [Thread-7376] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2019-10-26 09:04:04,926 [Thread-7376] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - omNode-2: shutdown FollowerState
2019-10-26 09:04:04,926 [Thread-7376] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:04:04,926 [Thread-7659] INFO  impl.FollowerState (FollowerState.java:run(120)) - omNode-2@group-523986131536-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-10-26 09:04:04,926 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:04:04,927 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:04:04,927 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(254)) - Saving Ratis snapshot on the OM.
2019-10-26 09:04:04,927 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OMRatisSnapshotInfo (OMRatisSnapshotInfo.java:saveRatisSnapshotToDisk(107)) - Saved Ratis Snapshot on the OM with snapshotIndex -1
2019-10-26 09:04:04,928 [Thread-7376] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - omNode-2@group-523986131536: closes. applyIndex: 0
2019-10-26 09:04:04,928 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:04:04,933 [Thread-7376] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2019-10-26 09:04:04,935 [Thread-7376] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - omNode-2: shutdown server with port 10654 now
2019-10-26 09:04:04,935 [Thread-7376] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - omNode-2: shutdown server with port 10654 successfully
2019-10-26 09:04:04,935 [Thread-7376] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(255)) - Stopping OMDoubleBuffer flush thread
2019-10-26 09:04:04,935 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(198)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-10-26 09:04:04,935 [Thread-7376] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service KeyDeletingService
2019-10-26 09:04:04,936 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@cd0e8b9{/,null,UNAVAILABLE}{/ozoneManager}
2019-10-26 09:04:04,936 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@51624337{HTTP/1.1,[http/1.1]}{0.0.0.0:10652}
2019-10-26 09:04:04,937 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@34111eb8{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:04:04,937 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@216b172d{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:04:04,939 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(330)) - Stopping the Mini Ozone Cluster
2019-10-26 09:04:04,939 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(377)) - Stopping the HddsDatanodes
2019-10-26 09:04:05,807 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-10-26 09:04:06,816 [Thread-7643] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-10-26 09:04:06,819 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2019-10-26 09:04:08,975 [Thread-7645] INFO  impl.FollowerState (FollowerState.java:run(111)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-FollowerState: change to CANDIDATE, lastRpcTime:5114ms, electionTimeout:5114ms
2019-10-26 09:04:08,975 [Thread-7645] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: shutdown FollowerState
2019-10-26 09:04:08,975 [Thread-7645] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-10-26 09:04:08,976 [Thread-7645] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: start LeaderElection
2019-10-26 09:04:09,006 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132: begin an election at term 1 for -1: [39f544fb-e253-4589-ad23-a2c9d505e0ed:192.168.34.52:38285], old=null
2019-10-26 09:04:09,006 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: shutdown LeaderElection
2019-10-26 09:04:09,006 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-10-26 09:04:09,006 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F: change Leader from null to 39f544fb-e253-4589-ad23-a2c9d505e0ed at term 1 for becomeLeader, leader elected after 5149ms
2019-10-26 09:04:09,007 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-10-26 09:04:09,007 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-10-26 09:04:09,007 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-10-26 09:04:09,007 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-10-26 09:04:09,008 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-10-26 09:04:09,008 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-10-26 09:04:09,008 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: start LeaderState
2019-10-26 09:04:09,008 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-SegmentedRaftLogWorker: Starting segment from index:0
2019-10-26 09:04:09,009 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-LeaderElection132] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F: set configuration 0: [39f544fb-e253-4589-ad23-a2c9d505e0ed:192.168.34.52:38285], old=null at 0
2019-10-26 09:04:09,059 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/ratis/d0381937-3e3e-4950-bacb-14968726df3f/current/log_inprogress_0
2019-10-26 09:04:09,939 [Thread-7376] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(227)) - Attempting to stop container services.
2019-10-26 09:04:09,940 [Thread-7376] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: close
2019-10-26 09:04:09,940 [Thread-7376] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F: shutdown
2019-10-26 09:04:09,940 [Thread-7376] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-14968726DF3F,id=39f544fb-e253-4589-ad23-a2c9d505e0ed
2019-10-26 09:04:09,941 [Thread-7376] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: shutdown LeaderState
2019-10-26 09:04:09,941 [Thread-7376] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-PendingRequests: sendNotLeaderResponses
2019-10-26 09:04:09,942 [Thread-7376] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-StateMachineUpdater: set stopIndex = 0
2019-10-26 09:04:09,942 [Thread-7376] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F: closes. applyIndex: 0
2019-10-26 09:04:09,942 [39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-10-26 09:04:09,944 [Thread-7376] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed@group-14968726DF3F-SegmentedRaftLogWorker close()
2019-10-26 09:04:09,946 [Thread-7376] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: shutdown server with port 38285 now
2019-10-26 09:04:09,948 [Thread-7376] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 39f544fb-e253-4589-ad23-a2c9d505e0ed: shutdown server with port 38285 successfully
2019-10-26 09:04:09,950 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-fd748d8e-186a-4bae-a84a-b033054a075b/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-10-26 09:04:09,968 [Thread-7376] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service BlockDeletingService
2019-10-26 09:04:09,972 [Thread-7376] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-10-26 09:04:09,973 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@3a231269{/,null,UNAVAILABLE}{/hddsDatanode}
2019-10-26 09:04:09,974 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@42d3a049{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 09:04:09,974 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@30be675c{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-10-26 09:04:09,975 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@180eda1f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:04:09,975 [Thread-7376] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(392)) - Stopping the StorageContainerManager
2019-10-26 09:04:09,976 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(810)) - Stopping Replication Manager Service.
2019-10-26 09:04:09,976 [Thread-7376] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-10-26 09:04:09,976 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(817)) - Stopping Lease Manager of the command watchers
2019-10-26 09:04:09,976 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(824)) - Stopping datanode service RPC server
2019-10-26 09:04:09,976 [Thread-7376] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(346)) - Stopping the RPC server for DataNodes
2019-10-26 09:04:09,976 [Thread-7376] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 35683
2019-10-26 09:04:09,978 [IPC Server listener on 35683] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 35683
2019-10-26 09:04:09,978 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:04:10,055 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-10-26 09:04:10,055 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(832)) - Stopping block service RPC server
2019-10-26 09:04:10,056 [Thread-7376] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-10-26 09:04:10,056 [Thread-7376] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39576
2019-10-26 09:04:10,058 [IPC Server listener on 39576] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39576
2019-10-26 09:04:10,062 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(839)) - Stopping the StorageContainerLocationProtocol RPC server
2019-10-26 09:04:10,063 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:04:10,064 [Thread-7376] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(168)) - Stopping the RPC server for Client Protocol
2019-10-26 09:04:10,064 [Thread-7376] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43208
2019-10-26 09:04:10,066 [IPC Server listener on 43208] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43208
2019-10-26 09:04:10,066 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-10-26 09:04:10,066 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Storage Container Manager HTTP server.
2019-10-26 09:04:10,068 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@719951b8{/,null,UNAVAILABLE}{/scm}
2019-10-26 09:04:10,069 [Thread-7376] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@dbde093{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-10-26 09:04:10,069 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@73c28de4{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-10-26 09:04:10,069 [Thread-7376] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2ed6007a{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-10-26 09:04:10,070 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(857)) - Stopping Block Manager Service.
2019-10-26 09:04:10,070 [Thread-7376] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 09:04:10,070 [Thread-7376] INFO  utils.BackgroundService (BackgroundService.java:shutdown(151)) - Shutting down service SCMBlockDeletingService
2019-10-26 09:04:10,070 [Thread-7376] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(879)) - Stopping SCM Event Queue.
2019-10-26 09:04:10,074 [Thread-7376] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-10-26 09:04:10,086 [Thread-7376] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
]]></system-out>
    <system-err><![CDATA[Oct 26, 2019 9:03:59 AM org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor run
SEVERE: Exception while executing runnable org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed@7b76c090
java.lang.NullPointerException
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onError(GrpcLogAppender.java:303)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:434)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:678)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at org.apache.ratis.thirdparty.io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:397)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:459)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:63)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:546)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$600(ClientCallImpl.java:467)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:584)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

]]></system-err>
  </testcase>
  <testcase name="testSetKeyAcl" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.297"/>
  <testcase name="testTwoOMNodesDown" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="157.364"/>
  <testcase name="testSetPrefixAcl" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="13.279"/>
  <testcase name="testOMRestart" classname="org.apache.hadoop.ozone.om.TestOzoneManagerHA" time="21.326"/>
</testsuite>