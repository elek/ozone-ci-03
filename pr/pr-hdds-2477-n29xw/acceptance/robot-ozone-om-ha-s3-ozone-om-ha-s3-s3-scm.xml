<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20191114 01:42:53.836" generator="Robot 3.1.2 (Python 2.7.5 on linux2)">
<suite source="/opt/hadoop/smoketest/s3" id="s1" name="ozone-om-ha-s3-s3">
<suite source="/opt/hadoop/smoketest/s3/awss3.robot" id="s1-s1" name="Awss3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:42:53.904" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:42:53.923" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:42:53.923" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:42:53.923" starttime="20191114 01:42:53.903"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:42:53.925" starttime="20191114 01:42:53.924"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:42:53.927" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:42:56.114" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:42:56.114" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:42:56.115" starttime="20191114 01:42:53.925"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:42:56.120" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:17.606" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:17.606" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:43:17.606" starttime="20191114 01:42:56.118"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:17.608" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package awscli.noarch 0:1.14.28-5.el7_5.1 will be installed
--&gt; Processing Dependency: python-s3transfer &gt;= 0.1.9 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-docutils &gt;= 0.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-cryptography &gt;= 1.7.2 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: PyYAML &gt;= 3.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Running transaction check
---&gt; Package PyYAML.x86_64 0:3.10-11.el7 will be installed
--&gt; Processing Dependency: libyaml-0.so.2()(64bit) for package: PyYAML-3.10-11.el7.x86_64
---&gt; Package python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7 will be installed
--&gt; Processing Dependency: python-imaging for package: python-docutils-0.11-0.3.20130715svn7687.el7.noarch
---&gt; Package python-s3transfer.noarch 0:0.1.13-1.el7.0.1 will be installed
--&gt; Processing Dependency: python-dateutil &gt;= 1.4 for package: python-s3transfer-0.1.13-1.el7.0.1.noarch
---&gt; Package python2-cryptography.x86_64 0:1.7.2-2.el7 will be installed
--&gt; Processing Dependency: python-six &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-pyasn1 &gt;= 0.1.8 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-idna &gt;= 2.0 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-cffi &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-enum34 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: openssl for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Running transaction check
---&gt; Package libyaml.x86_64 0:0.1.4-11.el7_0 will be installed
---&gt; Package openssl.x86_64 1:1.0.2k-19.el7 will be installed
--&gt; Processing Dependency: openssl-libs(x86-64) = 1:1.0.2k-19.el7 for package: 1:openssl-1.0.2k-19.el7.x86_64
--&gt; Processing Dependency: make for package: 1:openssl-1.0.2k-19.el7.x86_64
---&gt; Package python-cffi.x86_64 0:1.6.0-5.el7 will be installed
--&gt; Processing Dependency: python-pycparser for package: python-cffi-1.6.0-5.el7.x86_64
---&gt; Package python-dateutil.noarch 0:1.5-7.el7 will be installed
---&gt; Package python-enum34.noarch 0:1.0.4-1.el7 will be installed
---&gt; Package python-idna.noarch 0:2.4-1.el7 will be installed
---&gt; Package python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7 will be installed
--&gt; Processing Dependency: libtiff.so.5(LIBTIFF_4.0)(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libwebp.so.4()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libtiff.so.5()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
---&gt; Package python-six.noarch 0:1.9.0-2.el7 will be installed
---&gt; Package python2-pyasn1.noarch 0:0.1.9-7.el7 will be installed
--&gt; Running transaction check
---&gt; Package libtiff.x86_64 0:4.0.3-32.el7 will be installed
--&gt; Processing Dependency: libjbig.so.2.0()(64bit) for package: libtiff-4.0.3-32.el7.x86_64
---&gt; Package libwebp.x86_64 0:0.3.0-7.el7 will be installed
---&gt; Package make.x86_64 1:3.82-24.el7 will be installed
---&gt; Package openssl-libs.x86_64 1:1.0.2k-16.el7 will be updated
---&gt; Package openssl-libs.x86_64 1:1.0.2k-19.el7 will be an update
---&gt; Package python-pycparser.noarch 0:2.14-1.el7 will be installed
--&gt; Processing Dependency: python-ply for package: python-pycparser-2.14-1.el7.noarch
--&gt; Running transaction check
---&gt; Package jbigkit-libs.x86_64 0:2.0-11.el7 will be installed
---&gt; Package python-ply.noarch 0:3.4-11.el7 will be installed
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                Arch     Version                           Repository
                                                                           Size
================================================================================
Installing:
 awscli                 noarch   1.14.28-5.el7_5.1                 base   1.0 M
Installing for dependencies:
 PyYAML                 x86_64   3.10-11.el7                       base   153 k
 jbigkit-libs           x86_64   2.0-11.el7                        base    46 k
 libtiff                x86_64   4.0.3-32.el7                      base   171 k
 libwebp                x86_64   0.3.0-7.el7                       base   170 k
 libyaml                x86_64   0.1.4-11.el7_0                    base    55 k
 make                   x86_64   1:3.82-24.el7                     base   421 k
 openssl                x86_64   1:1.0.2k-19.el7                   base   493 k
 python-cffi            x86_64   1.6.0-5.el7                       base   218 k
 python-dateutil        noarch   1.5-7.el7                         base    85 k
 python-docutils        noarch   0.11-0.3.20130715svn7687.el7      base   1.5 M
 python-enum34          noarch   1.0.4-1.el7                       base    52 k
 python-idna            noarch   2.4-1.el7                         base    94 k
 python-pillow          x86_64   2.0.0-19.gitd1c6db8.el7           base   438 k
 python-ply             noarch   3.4-11.el7                        base   123 k
 python-pycparser       noarch   2.14-1.el7                        base   104 k
 python-s3transfer      noarch   0.1.13-1.el7.0.1                  base   2.9 M
 python-six             noarch   1.9.0-2.el7                       base    29 k
 python2-cryptography   x86_64   1.7.2-2.el7                       base   502 k
 python2-pyasn1         noarch   0.1.9-7.el7                       base   100 k
Updating for dependencies:
 openssl-libs           x86_64   1:1.0.2k-19.el7                   base   1.2 M

Transaction Summary
================================================================================
Install  1 Package  (+19 Dependent packages)
Upgrade             (  1 Dependent package)

Total download size: 9.9 M
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
--------------------------------------------------------------------------------
Total                                               33 MB/s | 9.9 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : 1:openssl-libs-1.0.2k-19.el7.x86_64                         1/22 
  Installing : python2-pyasn1-0.1.9-7.el7.noarch                           2/22 
  Installing : libyaml-0.1.4-11.el7_0.x86_64                               3/22 
  Installing : PyYAML-3.10-11.el7.x86_64                                   4/22 
  Installing : jbigkit-libs-2.0-11.el7.x86_64                              5/22 
  Installing : libtiff-4.0.3-32.el7.x86_64                                 6/22 
  Installing : python-ply-3.4-11.el7.noarch                                7/22 
  Installing : python-pycparser-2.14-1.el7.noarch                          8/22 
  Installing : python-cffi-1.6.0-5.el7.x86_64                              9/22 
  Installing : python-idna-2.4-1.el7.noarch                               10/22 
  Installing : python-six-1.9.0-2.el7.noarch                              11/22 
  Installing : 1:make-3.82-24.el7.x86_64                                  12/22 
  Installing : 1:openssl-1.0.2k-19.el7.x86_64                             13/22 
  Installing : python-dateutil-1.5-7.el7.noarch                           14/22 
  Installing : python-enum34-1.0.4-1.el7.noarch                           15/22 
  Installing : python2-cryptography-1.7.2-2.el7.x86_64                    16/22 
  Installing : libwebp-0.3.0-7.el7.x86_64                                 17/22 
  Installing : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               18/22 
  Installing : python-docutils-0.11-0.3.20130715svn7687.el7.noarch        19/22 
  Installing : python-s3transfer-0.1.13-1.el7.0.1.noarch                  20/22 
  Installing : awscli-1.14.28-5.el7_5.1.noarch                            21/22 
  Cleanup    : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 
  Verifying  : libwebp-0.3.0-7.el7.x86_64                                  1/22 
  Verifying  : python-enum34-1.0.4-1.el7.noarch                            2/22 
  Verifying  : python-docutils-0.11-0.3.20130715svn7687.el7.noarch         3/22 
  Verifying  : 1:openssl-libs-1.0.2k-19.el7.x86_64                         4/22 
  Verifying  : python-dateutil-1.5-7.el7.noarch                            5/22 
  Verifying  : 1:make-3.82-24.el7.x86_64                                   6/22 
  Verifying  : python-six-1.9.0-2.el7.noarch                               7/22 
  Verifying  : python-s3transfer-0.1.13-1.el7.0.1.noarch                   8/22 
  Verifying  : python-idna-2.4-1.el7.noarch                                9/22 
  Verifying  : python-ply-3.4-11.el7.noarch                               10/22 
  Verifying  : 1:openssl-1.0.2k-19.el7.x86_64                             11/22 
  Verifying  : python-cffi-1.6.0-5.el7.x86_64                             12/22 
  Verifying  : awscli-1.14.28-5.el7_5.1.noarch                            13/22 
  Verifying  : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               14/22 
  Verifying  : jbigkit-libs-2.0-11.el7.x86_64                             15/22 
  Verifying  : python-pycparser-2.14-1.el7.noarch                         16/22 
  Verifying  : libyaml-0.1.4-11.el7_0.x86_64                              17/22 
  Verifying  : libtiff-4.0.3-32.el7.x86_64                                18/22 
  Verifying  : python2-pyasn1-0.1.9-7.el7.noarch                          19/22 
  Verifying  : PyYAML-3.10-11.el7.x86_64                                  20/22 
  Verifying  : python2-cryptography-1.7.2-2.el7.x86_64                    21/22 
  Verifying  : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 

Installed:
  awscli.noarch 0:1.14.28-5.el7_5.1                                             

Dependency Installed:
  PyYAML.x86_64 0:3.10-11.el7                                                   
  jbigkit-libs.x86_64 0:2.0-11.el7                                              
  libtiff.x86_64 0:4.0.3-32.el7                                                 
  libwebp.x86_64 0:0.3.0-7.el7                                                  
  libyaml.x86_64 0:0.1.4-11.el7_0                                               
  make.x86_64 1:3.82-24.el7                                                     
  openssl.x86_64 1:1.0.2k-19.el7                                                
  python-cffi.x86_64 0:1.6.0-5.el7                                              
  python-dateutil.noarch 0:1.5-7.el7                                            
  python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7                         
  python-enum34.noarch 0:1.0.4-1.el7                                            
  python-idna.noarch 0:2.4-1.el7                                                
  python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7                                
  python-ply.noarch 0:3.4-11.el7                                                
  python-pycparser.noarch 0:2.14-1.el7                                          
  python-s3transfer.noarch 0:0.1.13-1.el7.0.1                                   
  python-six.noarch 0:1.9.0-2.el7                                               
  python2-cryptography.x86_64 0:1.7.2-2.el7                                     
  python2-pyasn1.noarch 0:0.1.9-7.el7                                           

Dependency Updated:
  openssl-libs.x86_64 1:1.0.2k-19.el7                                           

Complete!</msg>
<status status="PASS" endtime="20191114 01:43:17.609" starttime="20191114 01:43:17.607"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:17.609" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:17.610" starttime="20191114 01:43:17.609"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:17.610" starttime="20191114 01:42:56.117"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:17.610" starttime="20191114 01:42:56.117"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:17.611" starttime="20191114 01:42:56.115"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:17.611" starttime="20191114 01:42:53.903"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:17.611" starttime="20191114 01:42:53.902"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:43:17.614" starttime="20191114 01:43:17.613"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:43:17.615" starttime="20191114 01:43:17.614"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:17.619" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:18.619" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:18.619" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:43:18.619" starttime="20191114 01:43:17.617"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:18.621" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:43:18.621" starttime="20191114 01:43:18.620"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:18.622" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:18.622" starttime="20191114 01:43:18.621"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:18.623" starttime="20191114 01:43:17.616"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:18.626" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:19.027" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:19.027" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:43:19.027" starttime="20191114 01:43:18.624"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:19.028" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:43:19.028" starttime="20191114 01:43:19.028"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:19.029" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:19.029" starttime="20191114 01:43:19.028"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:19.029" starttime="20191114 01:43:18.623"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:19.032" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:19.381" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:19.381" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:43:19.381" starttime="20191114 01:43:19.030"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:19.382" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:43:19.382" starttime="20191114 01:43:19.382"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:19.383" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:19.383" starttime="20191114 01:43:19.383"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:19.384" starttime="20191114 01:43:19.029"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:19.386" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:19.708" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:19.708" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:43:19.708" starttime="20191114 01:43:19.384"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:19.709" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:43:19.710" starttime="20191114 01:43:19.709"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:19.711" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:19.711" starttime="20191114 01:43:19.710"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:19.711" starttime="20191114 01:43:19.384"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:19.711" starttime="20191114 01:43:17.616"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:19.712" starttime="20191114 01:43:17.615"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:19.712" starttime="20191114 01:43:17.612"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:19.712" starttime="20191114 01:43:17.611"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:43:19.714" level="INFO">${postfix} = 02547</msg>
<status status="PASS" endtime="20191114 01:43:19.714" starttime="20191114 01:43:19.714"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:43:19.716" level="INFO">${BUCKET} = bucket-02547</msg>
<status status="PASS" endtime="20191114 01:43:19.716" starttime="20191114 01:43:19.715"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:19.720" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-02547 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:27.131" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:27.131" level="INFO">${output} = {
    "Location": "http://s3g:9878/bucket-02547"
}</msg>
<status status="PASS" endtime="20191114 01:43:27.131" starttime="20191114 01:43:19.717"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:27.132" level="INFO">{
    "Location": "http://s3g:9878/bucket-02547"
}</msg>
<status status="PASS" endtime="20191114 01:43:27.132" starttime="20191114 01:43:27.132"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:27.133" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:27.133" starttime="20191114 01:43:27.133"></status>
</kw>
<msg timestamp="20191114 01:43:27.134" level="INFO">${output} = {
    "Location": "http://s3g:9878/bucket-02547"
}</msg>
<status status="PASS" endtime="20191114 01:43:27.134" starttime="20191114 01:43:19.717"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:27.134" starttime="20191114 01:43:19.716"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:27.134" starttime="20191114 01:43:19.713"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:27.134" starttime="20191114 01:43:19.712"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:27.135" starttime="20191114 01:42:53.902"></status>
</kw>
<test id="s1-s1-t1" name="File upload and directory list">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:27.139" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:27.143" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:43:27.143" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:43:27.143" starttime="20191114 01:43:27.137"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:43:27.144" starttime="20191114 01:43:27.144"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:27.146" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:27.338" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:27.338" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:43:27.339" starttime="20191114 01:43:27.144"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:27.344" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:28.051" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:28.051" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:43:28.051" starttime="20191114 01:43:27.342"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:28.053" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:43:28.053" starttime="20191114 01:43:28.052"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:28.054" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:28.054" starttime="20191114 01:43:28.053"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:28.055" starttime="20191114 01:43:27.341"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:28.055" starttime="20191114 01:43:27.340"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:28.055" starttime="20191114 01:43:27.339"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:28.055" starttime="20191114 01:43:27.137"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:28.055" starttime="20191114 01:43:27.136"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:43:28.058" starttime="20191114 01:43:28.058"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:43:28.059" starttime="20191114 01:43:28.059"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:28.064" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:28.457" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:28.458" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:43:28.458" starttime="20191114 01:43:28.062"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:28.459" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:43:28.459" starttime="20191114 01:43:28.458"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:28.460" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:28.460" starttime="20191114 01:43:28.460"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:28.461" starttime="20191114 01:43:28.061"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:28.464" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:28.865" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:28.865" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:43:28.865" starttime="20191114 01:43:28.462"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:28.866" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:43:28.867" starttime="20191114 01:43:28.866"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:28.867" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:28.867" starttime="20191114 01:43:28.867"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:28.868" starttime="20191114 01:43:28.461"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:28.871" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:29.273" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:29.274" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:43:29.274" starttime="20191114 01:43:28.869"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:29.275" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:43:29.275" starttime="20191114 01:43:29.274"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:29.275" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:29.276" starttime="20191114 01:43:29.275"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:29.276" starttime="20191114 01:43:28.868"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:29.278" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:43:29.687" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:29.687" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:43:29.687" starttime="20191114 01:43:29.277"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:29.688" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:43:29.689" starttime="20191114 01:43:29.688"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:29.690" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:29.690" starttime="20191114 01:43:29.689"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:29.690" starttime="20191114 01:43:29.276"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:29.691" starttime="20191114 01:43:28.060"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:29.691" starttime="20191114 01:43:28.060"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:29.691" starttime="20191114 01:43:28.057"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:29.691" starttime="20191114 01:43:28.056"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:43:29.692" starttime="20191114 01:43:29.691"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:29.692" starttime="20191114 01:43:27.136"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:29.696" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 01:43:29.716" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:43:29.716" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:43:29.716" starttime="20191114 01:43:29.694"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:43:29.717" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:43:29.717" starttime="20191114 01:43:29.717"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:43:29.718" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:43:29.718" starttime="20191114 01:43:29.718"></status>
</kw>
<status status="PASS" endtime="20191114 01:43:29.719" starttime="20191114 01:43:29.693"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:43:29.722" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-02547 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:36.039" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:44:36.040" level="INFO">${output} = Completed 29 Bytes/29 Bytes (0 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-02547/testfile An error occurred (500) when calling the PutObject operation (reached m...</msg>
<status status="PASS" endtime="20191114 01:44:36.040" starttime="20191114 01:43:29.721"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:36.041" level="INFO">Completed 29 Bytes/29 Bytes (0 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-02547/testfile An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:44:36.041" starttime="20191114 01:44:36.040"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:36.041" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:44:36.042" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 01:44:36.042" starttime="20191114 01:44:36.041"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:36.042" starttime="20191114 01:43:29.720"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:36.042" starttime="20191114 01:43:29.719"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:36.043" critical="yes" starttime="20191114 01:43:27.135">1 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:44:36.043" starttime="20191114 01:42:53.896"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketcreate.robot" id="s1-s2" name="Bucketcreate">
<test id="s1-s2-t1" name="Create bucket which already exists">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:36.055" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:36.061" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:44:36.061" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:44:36.061" starttime="20191114 01:44:36.053"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:44:36.063" starttime="20191114 01:44:36.062"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:36.065" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:36.353" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:36.353" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:44:36.353" starttime="20191114 01:44:36.063"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:36.358" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:37.149" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:37.149" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:44:37.149" starttime="20191114 01:44:36.356"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:37.151" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:44:37.151" starttime="20191114 01:44:37.150"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:37.151" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:37.152" starttime="20191114 01:44:37.151"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:37.152" starttime="20191114 01:44:36.356"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:37.152" starttime="20191114 01:44:36.355"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:37.152" starttime="20191114 01:44:36.354"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:37.152" starttime="20191114 01:44:36.053"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:37.153" starttime="20191114 01:44:36.053"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:44:37.155" starttime="20191114 01:44:37.154"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:44:37.155" starttime="20191114 01:44:37.155"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:37.159" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:37.877" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:37.878" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:37.878" starttime="20191114 01:44:37.157"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:37.879" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:37.879" starttime="20191114 01:44:37.878"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:37.880" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:37.880" starttime="20191114 01:44:37.880"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:37.881" starttime="20191114 01:44:37.157"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:37.884" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:38.256" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:38.256" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:38.256" starttime="20191114 01:44:37.882"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:38.257" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:38.257" starttime="20191114 01:44:38.256"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:38.257" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:38.258" starttime="20191114 01:44:38.257"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:38.258" starttime="20191114 01:44:37.881"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:38.260" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:38.642" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:38.642" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:38.643" starttime="20191114 01:44:38.258"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:38.644" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:38.644" starttime="20191114 01:44:38.643"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:38.645" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:38.645" starttime="20191114 01:44:38.644"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:38.645" starttime="20191114 01:44:38.258"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:38.649" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:39.026" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:39.026" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:39.026" starttime="20191114 01:44:38.647"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:39.028" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:39.028" starttime="20191114 01:44:39.027"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:39.029" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:39.029" starttime="20191114 01:44:39.028"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:39.029" starttime="20191114 01:44:38.646"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:39.030" starttime="20191114 01:44:37.156"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:39.030" starttime="20191114 01:44:37.156"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:39.030" starttime="20191114 01:44:37.154"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:39.030" starttime="20191114 01:44:37.153"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:44:39.032" level="INFO">${postfix} = 68068</msg>
<status status="PASS" endtime="20191114 01:44:39.032" starttime="20191114 01:44:39.032"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:44:39.033" level="INFO">${BUCKET} = bucket-68068</msg>
<status status="PASS" endtime="20191114 01:44:39.033" starttime="20191114 01:44:39.032"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:39.036" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-68068 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:47.369" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:44:47.369" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:44:47.369" starttime="20191114 01:44:39.035"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:47.370" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:44:47.370" starttime="20191114 01:44:47.370"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:47.371" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:44:47.371" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:44:47.371" starttime="20191114 01:44:47.370"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:47.372" starttime="20191114 01:44:39.034"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:47.372" starttime="20191114 01:44:39.033"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:47.372" starttime="20191114 01:44:39.031"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:47.372" starttime="20191114 01:44:39.030"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:47.372" starttime="20191114 01:44:36.052"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:47.373" critical="yes" starttime="20191114 01:44:36.052">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:44:47.373" starttime="20191114 01:44:36.045"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/buckethead.robot" id="s1-s3" name="Buckethead">
<test id="s1-s3-t1" name="Head Bucket not existent">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:47.386" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:47.389" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:44:47.389" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:44:47.389" starttime="20191114 01:44:47.384"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:44:47.390" starttime="20191114 01:44:47.389"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:47.391" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:47.557" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:47.557" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:44:47.557" starttime="20191114 01:44:47.390"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:47.561" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:48.213" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:48.213" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.lease...</msg>
<status status="PASS" endtime="20191114 01:44:48.213" starttime="20191114 01:44:47.559"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:48.215" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:44:48.215" starttime="20191114 01:44:48.214"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:48.216" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:48.216" starttime="20191114 01:44:48.215"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:48.216" starttime="20191114 01:44:47.559"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:48.216" starttime="20191114 01:44:47.558"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:48.217" starttime="20191114 01:44:47.557"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:48.217" starttime="20191114 01:44:47.384"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:48.217" starttime="20191114 01:44:47.383"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:44:48.220" starttime="20191114 01:44:48.219"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:44:48.221" starttime="20191114 01:44:48.220"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:48.227" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:48.589" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:48.589" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:48.589" starttime="20191114 01:44:48.224"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:48.591" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:48.591" starttime="20191114 01:44:48.590"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:48.591" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:48.592" starttime="20191114 01:44:48.591"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:48.592" starttime="20191114 01:44:48.223"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:48.596" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:48.990" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:48.990" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:48.990" starttime="20191114 01:44:48.593"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:48.992" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:48.992" starttime="20191114 01:44:48.991"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:48.993" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:48.993" starttime="20191114 01:44:48.992"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:48.993" starttime="20191114 01:44:48.592"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:48.996" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:49.411" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:49.411" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:49.411" starttime="20191114 01:44:48.994"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:49.413" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:49.413" starttime="20191114 01:44:49.412"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:49.414" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:49.414" starttime="20191114 01:44:49.413"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:49.415" starttime="20191114 01:44:48.994"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:49.418" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:49.858" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:49.858" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:49.858" starttime="20191114 01:44:49.416"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:49.860" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:49.860" starttime="20191114 01:44:49.859"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:49.861" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:49.861" starttime="20191114 01:44:49.861"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:49.862" starttime="20191114 01:44:49.415"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:49.862" starttime="20191114 01:44:48.222"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:49.862" starttime="20191114 01:44:48.221"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:49.863" starttime="20191114 01:44:48.218"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:49.863" starttime="20191114 01:44:48.217"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:44:49.865" level="INFO">${postfix} = 94090</msg>
<status status="PASS" endtime="20191114 01:44:49.865" starttime="20191114 01:44:49.865"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:44:49.866" level="INFO">${BUCKET} = bucket-94090</msg>
<status status="PASS" endtime="20191114 01:44:49.867" starttime="20191114 01:44:49.866"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:49.870" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-94090 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:55.790" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:44:55.790" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:44:55.790" starttime="20191114 01:44:49.868"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:55.791" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:44:55.791" starttime="20191114 01:44:55.790"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:55.792" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:44:55.792" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:44:55.792" starttime="20191114 01:44:55.791"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:55.793" starttime="20191114 01:44:49.868"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:55.793" starttime="20191114 01:44:49.867"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:55.793" starttime="20191114 01:44:49.864"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:55.793" starttime="20191114 01:44:49.863"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:55.793" starttime="20191114 01:44:47.383"></status>
</kw>
<status status="FAIL" endtime="20191114 01:44:55.794" critical="yes" starttime="20191114 01:44:47.382">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:44:55.795" starttime="20191114 01:44:47.375"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketlist.robot" id="s1-s4" name="Bucketlist">
<test id="s1-s4-t1" name="List buckets">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:55.808" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:55.814" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:44:55.814" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:44:55.814" starttime="20191114 01:44:55.806"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:44:55.817" starttime="20191114 01:44:55.815"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:55.819" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:56.009" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:56.009" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:44:56.009" starttime="20191114 01:44:55.817"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:56.015" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:56.716" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:56.716" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:44:56.716" starttime="20191114 01:44:56.013"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:56.718" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:44:56.718" starttime="20191114 01:44:56.717"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:56.719" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:56.719" starttime="20191114 01:44:56.719"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:56.720" starttime="20191114 01:44:56.012"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:56.720" starttime="20191114 01:44:56.012"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:56.720" starttime="20191114 01:44:56.010"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:56.721" starttime="20191114 01:44:55.806"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:56.721" starttime="20191114 01:44:55.805"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:44:56.723" starttime="20191114 01:44:56.723"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:44:56.724" starttime="20191114 01:44:56.724"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:56.729" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:57.121" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:57.122" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:57.122" starttime="20191114 01:44:56.726"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:57.124" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:57.124" starttime="20191114 01:44:57.123"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:57.125" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:57.126" starttime="20191114 01:44:57.124"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:57.126" starttime="20191114 01:44:56.726"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:57.130" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:57.548" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:57.548" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:57.548" starttime="20191114 01:44:57.128"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:57.550" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:57.550" starttime="20191114 01:44:57.549"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:57.551" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:57.553" starttime="20191114 01:44:57.550"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:57.553" starttime="20191114 01:44:57.127"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:57.556" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:58.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:58.183" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:58.183" starttime="20191114 01:44:57.554"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:58.184" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:58.184" starttime="20191114 01:44:58.183"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:58.185" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:58.185" starttime="20191114 01:44:58.184"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:58.185" starttime="20191114 01:44:57.554"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:58.187" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:44:58.589" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:44:58.589" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:44:58.589" starttime="20191114 01:44:58.186"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:44:58.591" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:44:58.591" starttime="20191114 01:44:58.590"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:44:58.592" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:44:58.592" starttime="20191114 01:44:58.591"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:58.593" starttime="20191114 01:44:58.185"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:58.593" starttime="20191114 01:44:56.725"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:58.593" starttime="20191114 01:44:56.725"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:58.593" starttime="20191114 01:44:56.722"></status>
</kw>
<status status="PASS" endtime="20191114 01:44:58.594" starttime="20191114 01:44:56.721"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:44:58.596" level="INFO">${postfix} = 80965</msg>
<status status="PASS" endtime="20191114 01:44:58.597" starttime="20191114 01:44:58.596"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:44:58.598" level="INFO">${BUCKET} = bucket-80965</msg>
<status status="PASS" endtime="20191114 01:44:58.598" starttime="20191114 01:44:58.597"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:44:58.602" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-80965 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:05.170" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:45:05.171" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:05.171" starttime="20191114 01:44:58.600"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:05.173" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:05.173" starttime="20191114 01:45:05.172"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:05.174" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:45:05.174" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:45:05.175" starttime="20191114 01:45:05.173"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:05.175" starttime="20191114 01:44:58.599"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:05.176" starttime="20191114 01:44:58.598"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:05.176" starttime="20191114 01:44:58.595"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:05.176" starttime="20191114 01:44:58.594"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:05.176" starttime="20191114 01:44:55.805"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:05.177" critical="yes" starttime="20191114 01:44:55.804">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:45:05.178" starttime="20191114 01:44:55.796"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/MultipartUpload.robot" id="s1-s5" name="MultipartUpload">
<test id="s1-s5-t1" name="Test Multipart Upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:05.197" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:05.203" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:45:05.203" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:45:05.203" starttime="20191114 01:45:05.195"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:05.205" starttime="20191114 01:45:05.204"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:06.214" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:06.412" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:06.412" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:45:06.413" starttime="20191114 01:45:05.205"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:06.418" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:07.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:07.136" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:45:07.136" starttime="20191114 01:45:06.416"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:07.138" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:45:07.138" starttime="20191114 01:45:07.137"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:07.139" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:07.139" starttime="20191114 01:45:07.138"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:07.139" starttime="20191114 01:45:06.415"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:07.140" starttime="20191114 01:45:06.415"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:07.140" starttime="20191114 01:45:06.413"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:07.140" starttime="20191114 01:45:05.195"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:07.140" starttime="20191114 01:45:05.194"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:07.143" starttime="20191114 01:45:07.142"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:07.144" starttime="20191114 01:45:07.143"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:07.149" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:07.552" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:07.552" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:07.552" starttime="20191114 01:45:07.147"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:07.554" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:07.554" starttime="20191114 01:45:07.553"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:07.555" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:07.555" starttime="20191114 01:45:07.555"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:07.556" starttime="20191114 01:45:07.146"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:07.559" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:08.000" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:08.000" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:08.000" starttime="20191114 01:45:07.557"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:08.002" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:08.002" starttime="20191114 01:45:08.001"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:08.003" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:08.003" starttime="20191114 01:45:08.002"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:08.004" starttime="20191114 01:45:07.556"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:08.007" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:10.746" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:10.746" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:10.747" starttime="20191114 01:45:08.005"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:10.749" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:10.749" starttime="20191114 01:45:10.747"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:10.750" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:10.750" starttime="20191114 01:45:10.749"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:10.751" starttime="20191114 01:45:08.004"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:10.754" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:11.151" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:11.151" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:11.151" starttime="20191114 01:45:10.752"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:11.153" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:11.153" starttime="20191114 01:45:11.152"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:11.153" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:11.154" starttime="20191114 01:45:11.153"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:11.154" starttime="20191114 01:45:10.751"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:11.154" starttime="20191114 01:45:07.145"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:11.154" starttime="20191114 01:45:07.144"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:11.155" starttime="20191114 01:45:07.142"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:11.155" starttime="20191114 01:45:07.141"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:45:11.157" level="INFO">${postfix} = 09595</msg>
<status status="PASS" endtime="20191114 01:45:11.157" starttime="20191114 01:45:11.156"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:45:11.158" level="INFO">${BUCKET} = bucket-09595</msg>
<status status="PASS" endtime="20191114 01:45:11.158" starttime="20191114 01:45:11.157"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:11.162" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-09595 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:16.741" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:45:16.741" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:16.741" starttime="20191114 01:45:11.160"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:16.742" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:16.742" starttime="20191114 01:45:16.741"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:16.743" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:45:16.743" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:45:16.743" starttime="20191114 01:45:16.742"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:16.743" starttime="20191114 01:45:11.159"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:16.744" starttime="20191114 01:45:11.158"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:16.744" starttime="20191114 01:45:11.156"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:16.744" starttime="20191114 01:45:11.155"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:16.744" starttime="20191114 01:45:05.193"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:16.744" critical="yes" starttime="20191114 01:45:05.192">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t2" name="Test Multipart Upload Complete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:16.748" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:16.752" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:45:16.752" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:45:16.752" starttime="20191114 01:45:16.747"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:16.753" starttime="20191114 01:45:16.752"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:16.755" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:16.913" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:16.914" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:45:16.914" starttime="20191114 01:45:16.753"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:16.920" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:17.631" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:17.631" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth....</msg>
<status status="PASS" endtime="20191114 01:45:17.631" starttime="20191114 01:45:16.918"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:17.633" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:45:17.633" starttime="20191114 01:45:17.632"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:17.634" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:17.634" starttime="20191114 01:45:17.633"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:17.634" starttime="20191114 01:45:16.917"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:17.634" starttime="20191114 01:45:16.916"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:17.635" starttime="20191114 01:45:16.915"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:17.635" starttime="20191114 01:45:16.746"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:17.635" starttime="20191114 01:45:16.746"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:17.637" starttime="20191114 01:45:17.637"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:17.638" starttime="20191114 01:45:17.638"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:17.643" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:18.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:18.049" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:18.049" starttime="20191114 01:45:17.641"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:18.050" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:18.051" starttime="20191114 01:45:18.050"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:18.051" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:18.051" starttime="20191114 01:45:18.051"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:18.051" starttime="20191114 01:45:17.639"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:18.054" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:18.462" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:18.462" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:18.462" starttime="20191114 01:45:18.052"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:18.464" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:18.464" starttime="20191114 01:45:18.463"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:18.464" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:18.464" starttime="20191114 01:45:18.464"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:18.465" starttime="20191114 01:45:18.052"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:18.467" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:18.866" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:18.867" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:18.867" starttime="20191114 01:45:18.465"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:18.868" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:18.868" starttime="20191114 01:45:18.867"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:18.868" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:18.868" starttime="20191114 01:45:18.868"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:18.869" starttime="20191114 01:45:18.465"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:18.871" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:19.235" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:19.235" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:19.235" starttime="20191114 01:45:18.869"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:19.237" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:19.237" starttime="20191114 01:45:19.236"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:19.237" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:19.237" starttime="20191114 01:45:19.237"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:19.238" starttime="20191114 01:45:18.869"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:19.238" starttime="20191114 01:45:17.639"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:19.238" starttime="20191114 01:45:17.638"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:19.238" starttime="20191114 01:45:17.636"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:19.238" starttime="20191114 01:45:17.635"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:19.239" starttime="20191114 01:45:19.238"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:19.239" starttime="20191114 01:45:16.746"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:19.242" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-09595 --key multipartKey1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:27.192" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:45:27.193" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:27.193" starttime="20191114 01:45:19.240"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:27.194" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:27.194" starttime="20191114 01:45:27.193"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:27.194" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:45:27.195" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:45:27.195" starttime="20191114 01:45:27.194"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:27.195" starttime="20191114 01:45:19.240"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:27.195" starttime="20191114 01:45:19.239"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:27.196" critical="yes" starttime="20191114 01:45:16.745">255 != 0</status>
</test>
<test id="s1-s5-t3" name="Test Multipart Upload Complete Entity too small">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:27.199" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:27.203" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:45:27.203" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:45:27.203" starttime="20191114 01:45:27.198"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:27.204" starttime="20191114 01:45:27.204"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:27.206" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:27.364" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:27.364" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:45:27.364" starttime="20191114 01:45:27.204"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:27.370" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:28.059" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:28.060" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 01:45:28.060" starttime="20191114 01:45:27.368"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:28.061" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:45:28.062" starttime="20191114 01:45:28.060"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:28.062" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:28.063" starttime="20191114 01:45:28.062"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:28.063" starttime="20191114 01:45:27.367"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:28.063" starttime="20191114 01:45:27.366"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:28.063" starttime="20191114 01:45:27.365"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:28.064" starttime="20191114 01:45:27.197"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:28.064" starttime="20191114 01:45:27.197"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:28.066" starttime="20191114 01:45:28.066"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:28.067" starttime="20191114 01:45:28.067"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:28.071" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:28.496" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:28.497" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:28.497" starttime="20191114 01:45:28.069"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:28.498" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:28.498" starttime="20191114 01:45:28.497"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:28.499" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:28.499" starttime="20191114 01:45:28.499"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:28.499" starttime="20191114 01:45:28.069"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:28.502" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:28.867" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:28.867" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:28.867" starttime="20191114 01:45:28.500"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:28.869" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:28.869" starttime="20191114 01:45:28.868"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:28.870" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:28.871" starttime="20191114 01:45:28.870"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:28.871" starttime="20191114 01:45:28.500"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:28.875" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:29.241" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:29.241" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:29.241" starttime="20191114 01:45:28.872"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:29.242" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:29.242" starttime="20191114 01:45:29.241"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:29.243" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:29.243" starttime="20191114 01:45:29.242"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:29.243" starttime="20191114 01:45:28.871"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:29.245" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:29.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:29.655" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:29.655" starttime="20191114 01:45:29.244"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:29.657" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:29.657" starttime="20191114 01:45:29.656"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:29.658" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:29.658" starttime="20191114 01:45:29.657"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:29.658" starttime="20191114 01:45:29.243"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:29.659" starttime="20191114 01:45:28.068"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:29.659" starttime="20191114 01:45:28.068"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:29.659" starttime="20191114 01:45:28.065"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:29.659" starttime="20191114 01:45:28.064"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:29.660" starttime="20191114 01:45:29.660"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:29.661" starttime="20191114 01:45:27.197"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey2</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:29.665" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-09595 --key multipartKey2 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:39.532" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:45:39.532" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:39.532" starttime="20191114 01:45:29.663"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:39.533" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:39.533" starttime="20191114 01:45:39.533"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:39.534" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:45:39.534" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:45:39.534" starttime="20191114 01:45:39.534"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:39.535" starttime="20191114 01:45:29.662"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:39.535" starttime="20191114 01:45:29.661"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:39.535" critical="yes" starttime="20191114 01:45:27.196">255 != 0</status>
</test>
<test id="s1-s5-t4" name="Test Multipart Upload Complete Invalid part errors and complete mpu with few parts">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:39.540" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:39.543" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:45:39.543" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:45:39.543" starttime="20191114 01:45:39.538"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:39.544" starttime="20191114 01:45:39.543"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:39.545" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:39.703" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:39.703" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:45:39.704" starttime="20191114 01:45:39.544"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:39.708" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:40.353" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:40.353" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 01:45:40.353" starttime="20191114 01:45:39.706"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:40.355" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:45:40.355" starttime="20191114 01:45:40.354"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:40.356" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:40.356" starttime="20191114 01:45:40.355"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:40.356" starttime="20191114 01:45:39.706"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:40.357" starttime="20191114 01:45:39.705"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:40.357" starttime="20191114 01:45:39.704"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:40.357" starttime="20191114 01:45:39.538"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:40.357" starttime="20191114 01:45:39.537"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:40.360" starttime="20191114 01:45:40.359"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:40.361" starttime="20191114 01:45:40.360"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:40.365" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:40.760" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:40.760" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:40.760" starttime="20191114 01:45:40.363"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:40.761" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:40.762" starttime="20191114 01:45:40.761"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:40.762" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:40.762" starttime="20191114 01:45:40.762"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:40.763" starttime="20191114 01:45:40.362"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:40.765" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:41.170" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:41.170" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:41.170" starttime="20191114 01:45:40.764"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:41.171" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:41.172" starttime="20191114 01:45:41.171"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:41.172" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:41.172" starttime="20191114 01:45:41.172"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:41.173" starttime="20191114 01:45:40.763"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:41.175" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:41.574" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:41.574" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:41.574" starttime="20191114 01:45:41.174"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:41.577" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:41.577" starttime="20191114 01:45:41.575"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:41.578" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:41.578" starttime="20191114 01:45:41.577"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:41.579" starttime="20191114 01:45:41.173"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:41.582" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:42.035" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:42.036" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:42.036" starttime="20191114 01:45:41.580"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:42.037" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:42.037" starttime="20191114 01:45:42.036"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:42.038" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:42.038" starttime="20191114 01:45:42.038"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:42.039" starttime="20191114 01:45:41.579"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:42.039" starttime="20191114 01:45:40.362"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:42.039" starttime="20191114 01:45:40.361"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:42.039" starttime="20191114 01:45:40.358"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:42.039" starttime="20191114 01:45:40.358"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:42.040" starttime="20191114 01:45:42.040"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:42.040" starttime="20191114 01:45:39.537"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey3</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:42.044" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-09595 --key multipartKey3 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:52.083" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:45:52.083" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:52.083" starttime="20191114 01:45:42.042"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:52.085" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:45:52.085" starttime="20191114 01:45:52.084"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:52.086" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:45:52.086" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:45:52.086" starttime="20191114 01:45:52.085"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:52.087" starttime="20191114 01:45:42.042"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:52.087" starttime="20191114 01:45:42.041"></status>
</kw>
<status status="FAIL" endtime="20191114 01:45:52.087" critical="yes" starttime="20191114 01:45:39.536">255 != 0</status>
</test>
<test id="s1-s5-t5" name="Test abort Multipart upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:52.092" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:52.098" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:45:52.098" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:45:52.098" starttime="20191114 01:45:52.090"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:52.100" starttime="20191114 01:45:52.099"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:52.103" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:52.315" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:52.315" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:45:52.315" starttime="20191114 01:45:52.101"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:52.321" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:53.046" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:53.047" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 01:45:53.047" starttime="20191114 01:45:52.319"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:53.048" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:45:53.048" starttime="20191114 01:45:53.047"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:53.049" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:53.049" starttime="20191114 01:45:53.048"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:53.049" starttime="20191114 01:45:52.318"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:53.049" starttime="20191114 01:45:52.318"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:53.049" starttime="20191114 01:45:52.316"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:53.049" starttime="20191114 01:45:52.090"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:53.049" starttime="20191114 01:45:52.089"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:53.051" starttime="20191114 01:45:53.051"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:53.052" starttime="20191114 01:45:53.051"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:53.055" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:53.469" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:53.469" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:53.469" starttime="20191114 01:45:53.053"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:53.471" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:53.471" starttime="20191114 01:45:53.470"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:53.471" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:53.472" starttime="20191114 01:45:53.471"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:53.472" starttime="20191114 01:45:53.053"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:53.475" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:53.922" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:53.923" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:53.923" starttime="20191114 01:45:53.473"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:53.924" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:53.924" starttime="20191114 01:45:53.923"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:53.924" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:53.925" starttime="20191114 01:45:53.924"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:53.925" starttime="20191114 01:45:53.472"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:53.927" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:54.312" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:54.312" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:54.312" starttime="20191114 01:45:53.926"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:54.313" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:54.313" starttime="20191114 01:45:54.313"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:54.314" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:54.314" starttime="20191114 01:45:54.313"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:54.314" starttime="20191114 01:45:53.925"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:54.316" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:45:54.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:45:54.697" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:45:54.697" starttime="20191114 01:45:54.315"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:45:54.698" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:45:54.698" starttime="20191114 01:45:54.697"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:45:54.698" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:45:54.699" starttime="20191114 01:45:54.698"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:54.699" starttime="20191114 01:45:54.314"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:54.699" starttime="20191114 01:45:53.052"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:54.699" starttime="20191114 01:45:53.052"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:54.699" starttime="20191114 01:45:53.050"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:54.700" starttime="20191114 01:45:53.050"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:45:54.700" starttime="20191114 01:45:54.700"></status>
</kw>
<status status="PASS" endtime="20191114 01:45:54.701" starttime="20191114 01:45:52.089"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey4 --storage-class REDUCED_REDUNDANCY</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:45:54.704" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-09595 --key multipartKey4 --storage-class REDUCED_REDUNDANCY 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:03.103" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:46:03.103" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:03.103" starttime="20191114 01:45:54.702"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:03.104" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:03.104" starttime="20191114 01:46:03.103"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:03.105" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:46:03.105" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:46:03.105" starttime="20191114 01:46:03.104"></status>
</kw>
<status status="FAIL" endtime="20191114 01:46:03.106" starttime="20191114 01:45:54.702"></status>
</kw>
<status status="FAIL" endtime="20191114 01:46:03.106" starttime="20191114 01:45:54.701"></status>
</kw>
<status status="FAIL" endtime="20191114 01:46:03.106" critical="yes" starttime="20191114 01:45:52.088">255 != 0</status>
</test>
<test id="s1-s5-t6" name="Test abort Multipart upload with invalid uploadId">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:03.111" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:03.116" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:46:03.116" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:46:03.117" starttime="20191114 01:46:03.109"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:03.118" starttime="20191114 01:46:03.117"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:03.120" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:03.285" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:03.286" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:46:03.286" starttime="20191114 01:46:03.119"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:03.293" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:03.938" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:03.938" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 01:46:03.938" starttime="20191114 01:46:03.290"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:03.939" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:46:03.939" starttime="20191114 01:46:03.939"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:03.940" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:03.941" starttime="20191114 01:46:03.940"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:03.941" starttime="20191114 01:46:03.289"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:03.941" starttime="20191114 01:46:03.288"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:03.941" starttime="20191114 01:46:03.287"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:03.941" starttime="20191114 01:46:03.109"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:03.942" starttime="20191114 01:46:03.108"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:03.944" starttime="20191114 01:46:03.943"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:03.944" starttime="20191114 01:46:03.944"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:03.948" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:05.455" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:05.456" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:05.456" starttime="20191114 01:46:03.946"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:05.458" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:05.458" starttime="20191114 01:46:05.457"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:05.459" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:05.459" starttime="20191114 01:46:05.458"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:05.459" starttime="20191114 01:46:03.946"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:05.463" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:05.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:05.836" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:05.836" starttime="20191114 01:46:05.461"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:05.838" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:05.838" starttime="20191114 01:46:05.837"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:05.839" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:05.839" starttime="20191114 01:46:05.838"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:05.839" starttime="20191114 01:46:05.460"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:05.843" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:07.755" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:07.755" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:07.755" starttime="20191114 01:46:05.841"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:07.756" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:07.756" starttime="20191114 01:46:07.755"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:07.756" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:07.757" starttime="20191114 01:46:07.756"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:07.757" starttime="20191114 01:46:05.840"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:07.760" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:09.325" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:09.326" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:09.326" starttime="20191114 01:46:07.758"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:09.327" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:09.328" starttime="20191114 01:46:09.326"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:09.328" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:09.329" starttime="20191114 01:46:09.328"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:09.329" starttime="20191114 01:46:07.757"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:09.330" starttime="20191114 01:46:03.945"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:09.330" starttime="20191114 01:46:03.945"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:09.330" starttime="20191114 01:46:03.943"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:09.330" starttime="20191114 01:46:03.942"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:09.331" starttime="20191114 01:46:09.331"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:09.332" starttime="20191114 01:46:03.108"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>abort-multipart-upload --bucket ${BUCKET} --key multipartKey5 --upload-id "random"</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:09.336" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 abort-multipart-upload --bucket bucket-09595 --key multipartKey5 --upload-id "random" 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:20.604" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:46:20.604" level="INFO">${output} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:20.604" starttime="20191114 01:46:09.334"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:20.605" level="INFO">
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:20.605" starttime="20191114 01:46:20.604"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:46:20.606" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:20.606" starttime="20191114 01:46:20.605"></status>
</kw>
<msg timestamp="20191114 01:46:20.606" level="INFO">${output} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:20.606" starttime="20191114 01:46:09.333"></status>
</kw>
<msg timestamp="20191114 01:46:20.607" level="INFO">${result} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:20.607" starttime="20191114 01:46:09.332"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:20.607" critical="yes" starttime="20191114 01:46:03.107"></status>
</test>
<test id="s1-s5-t7" name="Upload part with Incorrect uploadID">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:20.611" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:20.617" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:46:20.617" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:46:20.617" starttime="20191114 01:46:20.610"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:20.619" starttime="20191114 01:46:20.618"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:20.621" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:20.793" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:20.793" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:46:20.793" starttime="20191114 01:46:20.619"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:20.797" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:21.515" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:21.515" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.lease...</msg>
<status status="PASS" endtime="20191114 01:46:21.515" starttime="20191114 01:46:20.795"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:21.517" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:46:21.517" starttime="20191114 01:46:21.516"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:21.518" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:21.518" starttime="20191114 01:46:21.517"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:21.518" starttime="20191114 01:46:20.795"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:21.519" starttime="20191114 01:46:20.794"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:21.519" starttime="20191114 01:46:20.794"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:21.519" starttime="20191114 01:46:20.609"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:21.519" starttime="20191114 01:46:20.609"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:21.522" starttime="20191114 01:46:21.521"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:21.523" starttime="20191114 01:46:21.522"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:21.527" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:21.996" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:21.996" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:21.996" starttime="20191114 01:46:21.525"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:21.998" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:21.998" starttime="20191114 01:46:21.997"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:21.999" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:21.999" starttime="20191114 01:46:21.998"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:21.999" starttime="20191114 01:46:21.524"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:22.003" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:22.430" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:22.430" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:22.431" starttime="20191114 01:46:22.001"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:22.432" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:22.432" starttime="20191114 01:46:22.431"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:22.433" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:22.433" starttime="20191114 01:46:22.432"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:22.433" starttime="20191114 01:46:22.000"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:22.436" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:27.270" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:27.270" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:27.270" starttime="20191114 01:46:22.434"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:27.272" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:27.272" starttime="20191114 01:46:27.271"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:27.273" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:27.273" starttime="20191114 01:46:27.272"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:27.273" starttime="20191114 01:46:22.433"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:27.276" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:27.698" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:27.698" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:27.698" starttime="20191114 01:46:27.274"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:27.700" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:27.700" starttime="20191114 01:46:27.699"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:27.701" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:27.701" starttime="20191114 01:46:27.700"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:27.702" starttime="20191114 01:46:27.273"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:27.702" starttime="20191114 01:46:21.524"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:27.702" starttime="20191114 01:46:21.523"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:27.703" starttime="20191114 01:46:21.521"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:27.703" starttime="20191114 01:46:21.520"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:27.704" starttime="20191114 01:46:27.703"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:27.704" starttime="20191114 01:46:20.608"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>echo "Multipart upload" &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:27.708" level="INFO">Running command 'echo "Multipart upload" &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 01:46:27.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:27.712" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:27.712" starttime="20191114 01:46:27.705"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:27.713" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:27.713" starttime="20191114 01:46:27.712"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:27.714" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:27.714" starttime="20191114 01:46:27.713"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:27.714" starttime="20191114 01:46:27.705"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>upload-part --bucket ${BUCKET} --key multipartKey --part-number 1 --body /tmp/testfile --upload-id "random"</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:27.717" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 upload-part --bucket bucket-09595 --key multipartKey --part-number 1 --body /tmp/testfile --upload-id "random" 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:37.919" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:46:37.919" level="INFO">${output} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:37.919" starttime="20191114 01:46:27.716"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:37.920" level="INFO">
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:37.920" starttime="20191114 01:46:37.920"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:46:37.921" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:37.921" starttime="20191114 01:46:37.921"></status>
</kw>
<msg timestamp="20191114 01:46:37.922" level="INFO">${output} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:37.922" starttime="20191114 01:46:27.715"></status>
</kw>
<msg timestamp="20191114 01:46:37.922" level="INFO">${result} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:37.922" starttime="20191114 01:46:27.714"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchUpload</arg>
</arguments>
<msg timestamp="20191114 01:46:37.923" level="FAIL">'
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchUpload'</msg>
<status status="FAIL" endtime="20191114 01:46:37.923" starttime="20191114 01:46:37.922"></status>
</kw>
<status status="FAIL" endtime="20191114 01:46:37.923" critical="yes" starttime="20191114 01:46:20.607">'
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchUpload'</status>
</test>
<test id="s1-s5-t8" name="Test list parts">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:37.927" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:37.931" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:46:37.931" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:46:37.931" starttime="20191114 01:46:37.926"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:37.933" starttime="20191114 01:46:37.932"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:37.934" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:38.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:38.112" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:46:38.113" starttime="20191114 01:46:37.933"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:38.117" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:38.816" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:38.817" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:46:38.817" starttime="20191114 01:46:38.115"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:38.818" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:46:38.818" starttime="20191114 01:46:38.817"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:38.818" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:38.818" starttime="20191114 01:46:38.818"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:38.819" starttime="20191114 01:46:38.115"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:38.819" starttime="20191114 01:46:38.114"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:38.819" starttime="20191114 01:46:38.113"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:38.819" starttime="20191114 01:46:37.925"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:38.819" starttime="20191114 01:46:37.925"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:38.821" starttime="20191114 01:46:38.821"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:38.822" starttime="20191114 01:46:38.822"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:38.825" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:39.252" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:39.252" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:39.252" starttime="20191114 01:46:38.823"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:39.253" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:39.253" starttime="20191114 01:46:39.253"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:39.254" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:39.254" starttime="20191114 01:46:39.254"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:39.254" starttime="20191114 01:46:38.823"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:39.257" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:39.677" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:39.677" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:39.677" starttime="20191114 01:46:39.255"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:39.678" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:39.679" starttime="20191114 01:46:39.678"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:39.679" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:39.679" starttime="20191114 01:46:39.679"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:39.680" starttime="20191114 01:46:39.255"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:39.682" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:40.127" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:40.127" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:40.127" starttime="20191114 01:46:39.680"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:40.128" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:40.128" starttime="20191114 01:46:40.128"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:40.129" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:40.129" starttime="20191114 01:46:40.129"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:40.130" starttime="20191114 01:46:39.680"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:40.133" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:40.535" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:40.535" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:40.536" starttime="20191114 01:46:40.131"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:40.537" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:40.537" starttime="20191114 01:46:40.536"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:40.538" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:40.539" starttime="20191114 01:46:40.538"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:40.539" starttime="20191114 01:46:40.130"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:40.539" starttime="20191114 01:46:38.823"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:40.540" starttime="20191114 01:46:38.822"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:40.540" starttime="20191114 01:46:38.820"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:40.540" starttime="20191114 01:46:38.820"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:40.541" starttime="20191114 01:46:40.540"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:40.541" starttime="20191114 01:46:37.924"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey5</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:40.546" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-09595 --key multipartKey5 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:48.519" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:46:48.519" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:48.519" starttime="20191114 01:46:40.544"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:48.520" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:46:48.521" starttime="20191114 01:46:48.520"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:48.521" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:46:48.522" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:46:48.522" starttime="20191114 01:46:48.521"></status>
</kw>
<status status="FAIL" endtime="20191114 01:46:48.522" starttime="20191114 01:46:40.543"></status>
</kw>
<status status="FAIL" endtime="20191114 01:46:48.522" starttime="20191114 01:46:40.542"></status>
</kw>
<status status="FAIL" endtime="20191114 01:46:48.522" critical="yes" starttime="20191114 01:46:37.924">255 != 0</status>
</test>
<test id="s1-s5-t9" name="Test Multipart Upload with the simplified aws s3 cp API">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:48.528" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:48.532" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:46:48.532" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:46:48.532" starttime="20191114 01:46:48.525"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:48.533" starttime="20191114 01:46:48.533"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:48.535" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:48.699" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:48.700" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:46:48.700" starttime="20191114 01:46:48.534"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:48.705" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:49.374" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:49.374" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:46:49.374" starttime="20191114 01:46:48.703"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:49.376" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:46:49.376" starttime="20191114 01:46:49.375"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:49.376" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:49.376" starttime="20191114 01:46:49.376"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:49.377" starttime="20191114 01:46:48.702"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:49.377" starttime="20191114 01:46:48.701"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:49.377" starttime="20191114 01:46:48.700"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:49.377" starttime="20191114 01:46:48.525"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:49.377" starttime="20191114 01:46:48.524"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:49.379" starttime="20191114 01:46:49.378"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:49.379" starttime="20191114 01:46:49.379"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:49.382" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:49.796" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:49.797" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:49.797" starttime="20191114 01:46:49.381"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:49.798" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:49.798" starttime="20191114 01:46:49.797"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:49.799" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:49.799" starttime="20191114 01:46:49.798"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:49.799" starttime="20191114 01:46:49.380"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:49.802" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:50.175" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:50.176" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:50.176" starttime="20191114 01:46:49.800"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:50.178" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:50.178" starttime="20191114 01:46:50.177"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:50.179" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:50.179" starttime="20191114 01:46:50.178"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:50.180" starttime="20191114 01:46:49.799"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:50.183" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:50.587" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:50.587" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:50.587" starttime="20191114 01:46:50.181"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:50.588" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:50.588" starttime="20191114 01:46:50.587"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:50.589" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:50.589" starttime="20191114 01:46:50.588"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:50.589" starttime="20191114 01:46:50.180"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:50.591" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:51.035" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:51.035" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:46:51.035" starttime="20191114 01:46:50.590"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:51.037" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:46:51.037" starttime="20191114 01:46:51.036"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:51.038" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:51.039" starttime="20191114 01:46:51.038"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:51.039" starttime="20191114 01:46:50.589"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:51.039" starttime="20191114 01:46:49.380"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:51.039" starttime="20191114 01:46:49.379"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:51.040" starttime="20191114 01:46:49.378"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:51.040" starttime="20191114 01:46:49.377"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:46:51.041" starttime="20191114 01:46:51.040"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:51.041" starttime="20191114 01:46:48.524"></status>
</kw>
<kw name="Create Random file">
<arguments>
<arg>22</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:51.045" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=22 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:46:51.245" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:46:51.246" level="INFO">${output} = 22+0 records in
22+0 records out
23068672 bytes (23 MB) copied, 0.160375 s, 144 MB/s</msg>
<status status="PASS" endtime="20191114 01:46:51.246" starttime="20191114 01:46:51.043"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:46:51.248" level="INFO">22+0 records in
22+0 records out
23068672 bytes (23 MB) copied, 0.160375 s, 144 MB/s</msg>
<status status="PASS" endtime="20191114 01:46:51.248" starttime="20191114 01:46:51.247"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:46:51.249" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:46:51.249" starttime="20191114 01:46:51.248"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:51.250" starttime="20191114 01:46:51.042"></status>
</kw>
<status status="PASS" endtime="20191114 01:46:51.250" starttime="20191114 01:46:51.041"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/part1 s3://${BUCKET}/mpyawscli</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:46:51.255" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/part1 s3://bucket-09595/mpyawscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:02.255" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:47:02.255" level="INFO">${output} = upload failed: ../../tmp/part1 to s3://bucket-09595/mpyawscli An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:02.255" starttime="20191114 01:46:51.252"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:02.256" level="INFO">upload failed: ../../tmp/part1 to s3://bucket-09595/mpyawscli An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:02.257" starttime="20191114 01:47:02.256"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:02.257" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:47:02.258" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 01:47:02.258" starttime="20191114 01:47:02.257"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:02.258" starttime="20191114 01:46:51.251"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:02.258" starttime="20191114 01:46:51.250"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:02.258" critical="yes" starttime="20191114 01:46:48.523">1 != 0</status>
</test>
<test id="s1-s5-t10" name="Test Multipart Upload Put With Copy">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:02.262" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:02.267" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:47:02.268" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:47:02.268" starttime="20191114 01:47:02.261"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:02.270" starttime="20191114 01:47:02.269"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:02.272" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:02.440" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:02.440" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:47:02.440" starttime="20191114 01:47:02.270"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:02.447" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:03.146" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:03.146" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.lease...</msg>
<status status="PASS" endtime="20191114 01:47:03.146" starttime="20191114 01:47:02.444"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:03.147" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:47:03.147" starttime="20191114 01:47:03.146"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:03.148" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:03.148" starttime="20191114 01:47:03.147"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:03.148" starttime="20191114 01:47:02.444"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:03.148" starttime="20191114 01:47:02.443"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:03.148" starttime="20191114 01:47:02.441"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:03.148" starttime="20191114 01:47:02.260"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:03.149" starttime="20191114 01:47:02.260"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:03.150" starttime="20191114 01:47:03.150"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:03.151" starttime="20191114 01:47:03.150"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:03.154" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:03.547" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:03.547" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:03.547" starttime="20191114 01:47:03.153"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:03.548" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:03.548" starttime="20191114 01:47:03.548"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:03.549" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:03.549" starttime="20191114 01:47:03.549"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:03.549" starttime="20191114 01:47:03.152"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:03.551" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:03.989" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:03.989" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:03.989" starttime="20191114 01:47:03.550"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:03.991" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:03.991" starttime="20191114 01:47:03.990"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:03.991" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:03.991" starttime="20191114 01:47:03.991"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:03.992" starttime="20191114 01:47:03.549"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:03.994" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:04.534" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:04.534" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:04.534" starttime="20191114 01:47:03.992"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:04.536" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:04.536" starttime="20191114 01:47:04.535"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:04.537" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:04.537" starttime="20191114 01:47:04.536"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:04.538" starttime="20191114 01:47:03.992"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:04.541" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:04.929" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:04.929" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:04.929" starttime="20191114 01:47:04.539"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:04.931" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:04.931" starttime="20191114 01:47:04.930"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:04.932" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:04.932" starttime="20191114 01:47:04.931"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:04.932" starttime="20191114 01:47:04.538"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:04.932" starttime="20191114 01:47:03.151"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:04.933" starttime="20191114 01:47:03.151"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:04.933" starttime="20191114 01:47:03.149"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:04.933" starttime="20191114 01:47:03.149"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:04.934" starttime="20191114 01:47:04.933"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:04.934" starttime="20191114 01:47:02.260"></status>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Create Random file</arg>
<arg>5</arg>
</arguments>
<kw name="Create Random file">
<arguments>
<arg>5</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:04.938" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=5 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:05.018" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:05.018" level="INFO">${output} = 5+0 records in
5+0 records out
5242880 bytes (5.2 MB) copied, 0.0656924 s, 79.8 MB/s</msg>
<status status="PASS" endtime="20191114 01:47:05.019" starttime="20191114 01:47:04.936"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:05.020" level="INFO">5+0 records in
5+0 records out
5242880 bytes (5.2 MB) copied, 0.0656924 s, 79.8 MB/s</msg>
<status status="PASS" endtime="20191114 01:47:05.020" starttime="20191114 01:47:05.019"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:05.021" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:05.021" starttime="20191114 01:47:05.021"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:05.022" starttime="20191114 01:47:04.935"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:05.022" starttime="20191114 01:47:04.935"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:05.022" starttime="20191114 01:47:04.934"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>put-object --bucket ${BUCKET} --key copytest/source --body /tmp/part1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:05.026" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket bucket-09595 --key copytest/source --body /tmp/part1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:15.566" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:47:15.566" level="INFO">${output} = 
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 01:47:15.566" starttime="20191114 01:47:05.024"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:15.568" level="INFO">
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 01:47:15.568" starttime="20191114 01:47:15.567"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:15.569" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:47:15.570" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:47:15.570" starttime="20191114 01:47:15.568"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:15.570" starttime="20191114 01:47:05.023"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:15.571" starttime="20191114 01:47:05.023"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:15.571" critical="yes" starttime="20191114 01:47:02.259">255 != 0</status>
</test>
<test id="s1-s5-t11" name="Test Multipart Upload Put With Copy and range">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:15.578" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:15.582" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:47:15.582" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:47:15.582" starttime="20191114 01:47:15.576"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:15.584" starttime="20191114 01:47:15.583"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:15.586" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:15.769" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:15.769" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:47:15.769" starttime="20191114 01:47:15.584"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:15.774" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:16.496" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:16.496" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:47:16.496" starttime="20191114 01:47:15.772"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:16.498" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:47:16.498" starttime="20191114 01:47:16.497"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:16.499" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:16.499" starttime="20191114 01:47:16.498"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:16.499" starttime="20191114 01:47:15.772"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:16.500" starttime="20191114 01:47:15.771"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:16.500" starttime="20191114 01:47:15.770"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:16.500" starttime="20191114 01:47:15.575"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:16.500" starttime="20191114 01:47:15.574"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:16.503" starttime="20191114 01:47:16.503"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:16.504" starttime="20191114 01:47:16.504"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:16.508" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:16.986" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:16.986" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:16.987" starttime="20191114 01:47:16.506"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:16.988" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:16.988" starttime="20191114 01:47:16.987"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:16.989" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:16.989" starttime="20191114 01:47:16.988"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:16.989" starttime="20191114 01:47:16.506"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:16.992" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:17.414" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:17.414" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:17.414" starttime="20191114 01:47:16.990"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:17.416" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:17.416" starttime="20191114 01:47:17.415"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:17.417" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:17.418" starttime="20191114 01:47:17.417"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:17.418" starttime="20191114 01:47:16.990"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:17.422" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:19.558" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:19.558" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:19.558" starttime="20191114 01:47:17.420"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:19.560" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:19.560" starttime="20191114 01:47:19.559"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:19.562" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:19.562" starttime="20191114 01:47:19.560"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:19.563" starttime="20191114 01:47:17.419"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:19.566" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:20.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:20.006" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:20.006" starttime="20191114 01:47:19.564"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:20.007" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:20.007" starttime="20191114 01:47:20.006"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:20.008" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:20.008" starttime="20191114 01:47:20.008"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:20.009" starttime="20191114 01:47:19.563"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:20.009" starttime="20191114 01:47:16.505"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:20.009" starttime="20191114 01:47:16.504"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:20.009" starttime="20191114 01:47:16.502"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:20.009" starttime="20191114 01:47:16.501"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:20.010" starttime="20191114 01:47:20.009"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:20.010" starttime="20191114 01:47:15.573"></status>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Create Random file</arg>
<arg>10</arg>
</arguments>
<kw name="Create Random file">
<arguments>
<arg>10</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:20.014" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=10 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:20.107" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:20.107" level="INFO">${output} = 10+0 records in
10+0 records out
10485760 bytes (10 MB) copied, 0.0863885 s, 121 MB/s</msg>
<status status="PASS" endtime="20191114 01:47:20.107" starttime="20191114 01:47:20.012"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:20.109" level="INFO">10+0 records in
10+0 records out
10485760 bytes (10 MB) copied, 0.0863885 s, 121 MB/s</msg>
<status status="PASS" endtime="20191114 01:47:20.109" starttime="20191114 01:47:20.108"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:20.110" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:20.110" starttime="20191114 01:47:20.109"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:20.110" starttime="20191114 01:47:20.012"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:20.111" starttime="20191114 01:47:20.011"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:20.111" starttime="20191114 01:47:20.011"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>put-object --bucket ${BUCKET} --key copyrange/source --body /tmp/part1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:20.115" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket bucket-09595 --key copyrange/source --body /tmp/part1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:29.745" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:47:29.745" level="INFO">${output} = 
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 01:47:29.745" starttime="20191114 01:47:20.113"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:29.747" level="INFO">
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 01:47:29.747" starttime="20191114 01:47:29.746"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:29.748" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:47:29.749" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:47:29.749" starttime="20191114 01:47:29.748"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:29.750" starttime="20191114 01:47:20.112"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:29.750" starttime="20191114 01:47:20.111"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:29.751" critical="yes" starttime="20191114 01:47:15.572">255 != 0</status>
</test>
<test id="s1-s5-t12" name="Test Multipart Upload list">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:29.756" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:29.761" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:47:29.761" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:47:29.761" starttime="20191114 01:47:29.754"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:29.763" starttime="20191114 01:47:29.762"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:29.765" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:29.927" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:29.927" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:47:29.927" starttime="20191114 01:47:29.763"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:29.931" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:30.590" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:30.591" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.lease...</msg>
<status status="PASS" endtime="20191114 01:47:30.591" starttime="20191114 01:47:29.929"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:30.592" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:47:30.592" starttime="20191114 01:47:30.591"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:30.593" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:30.593" starttime="20191114 01:47:30.592"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:30.593" starttime="20191114 01:47:29.929"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:30.593" starttime="20191114 01:47:29.929"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:30.593" starttime="20191114 01:47:29.928"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:30.594" starttime="20191114 01:47:29.754"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:30.594" starttime="20191114 01:47:29.753"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:30.595" starttime="20191114 01:47:30.595"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:30.596" starttime="20191114 01:47:30.596"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:30.599" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:31.020" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:31.021" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:31.021" starttime="20191114 01:47:30.598"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:31.022" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:31.022" starttime="20191114 01:47:31.021"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:31.023" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:31.023" starttime="20191114 01:47:31.022"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:31.023" starttime="20191114 01:47:30.597"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:31.026" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:31.440" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:31.440" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:31.440" starttime="20191114 01:47:31.024"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:31.442" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:31.442" starttime="20191114 01:47:31.441"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:31.443" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:31.443" starttime="20191114 01:47:31.443"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:31.444" starttime="20191114 01:47:31.024"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:31.448" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:31.864" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:31.865" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:31.865" starttime="20191114 01:47:31.445"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:31.866" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:31.866" starttime="20191114 01:47:31.865"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:31.867" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:31.867" starttime="20191114 01:47:31.867"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:31.868" starttime="20191114 01:47:31.444"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:31.871" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:32.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:32.292" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:32.292" starttime="20191114 01:47:31.869"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:32.293" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:32.294" starttime="20191114 01:47:32.293"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:32.294" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:32.295" starttime="20191114 01:47:32.294"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:32.295" starttime="20191114 01:47:31.868"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:32.296" starttime="20191114 01:47:30.597"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:32.296" starttime="20191114 01:47:30.596"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:32.296" starttime="20191114 01:47:30.594"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:32.296" starttime="20191114 01:47:30.594"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:32.297" starttime="20191114 01:47:32.296"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:32.297" starttime="20191114 01:47:29.752"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key listtest/key1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:32.302" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-09595 --key listtest/key1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:34.516" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:47:34.517" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:34.517" starttime="20191114 01:47:32.300"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:34.518" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:34.518" starttime="20191114 01:47:34.517"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:34.518" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:47:34.519" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:47:34.519" starttime="20191114 01:47:34.518"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:34.519" starttime="20191114 01:47:32.299"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:34.519" starttime="20191114 01:47:32.298"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:34.520" critical="yes" starttime="20191114 01:47:29.751">255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:47:34.522" starttime="20191114 01:45:05.181"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectcopy.robot" id="s1-s6" name="Objectcopy">
<test id="s1-s6-t1" name="Copy Object Happy Scenario">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:34.537" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:34.544" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:47:34.544" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:47:34.544" starttime="20191114 01:47:34.536"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:34.546" starttime="20191114 01:47:34.545"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:34.548" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:34.733" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:34.733" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:47:34.733" starttime="20191114 01:47:34.546"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:34.737" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:35.445" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:35.445" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo1...</msg>
<status status="PASS" endtime="20191114 01:47:35.445" starttime="20191114 01:47:34.736"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:35.447" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirrors.kernel.org
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:47:35.447" starttime="20191114 01:47:35.446"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:35.448" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:35.448" starttime="20191114 01:47:35.447"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:35.449" starttime="20191114 01:47:34.735"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:35.449" starttime="20191114 01:47:34.735"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:35.449" starttime="20191114 01:47:34.734"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:35.449" starttime="20191114 01:47:34.535"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:35.450" starttime="20191114 01:47:34.535"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:35.452" starttime="20191114 01:47:35.452"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:35.453" starttime="20191114 01:47:35.453"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:35.458" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:35.889" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:35.889" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:35.889" starttime="20191114 01:47:35.456"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:35.891" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:35.891" starttime="20191114 01:47:35.890"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:35.893" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:35.893" starttime="20191114 01:47:35.891"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:35.894" starttime="20191114 01:47:35.455"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:35.897" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:36.269" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:36.269" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:36.269" starttime="20191114 01:47:35.895"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:36.271" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:36.271" starttime="20191114 01:47:36.270"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:36.272" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:36.273" starttime="20191114 01:47:36.272"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:36.273" starttime="20191114 01:47:35.894"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:36.277" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:36.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:36.712" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:36.713" starttime="20191114 01:47:36.274"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:36.714" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:36.714" starttime="20191114 01:47:36.713"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:36.715" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:36.715" starttime="20191114 01:47:36.714"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:36.716" starttime="20191114 01:47:36.273"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:36.719" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:37.160" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:37.160" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:37.160" starttime="20191114 01:47:36.717"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:37.161" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:37.162" starttime="20191114 01:47:37.160"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:37.162" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:37.163" starttime="20191114 01:47:37.162"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:37.163" starttime="20191114 01:47:36.716"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:37.163" starttime="20191114 01:47:35.454"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:37.163" starttime="20191114 01:47:35.454"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:37.164" starttime="20191114 01:47:35.451"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:37.164" starttime="20191114 01:47:35.450"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:47:37.166" level="INFO">${postfix} = 89697</msg>
<status status="PASS" endtime="20191114 01:47:37.166" starttime="20191114 01:47:37.166"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:47:37.167" level="INFO">${BUCKET} = bucket-89697</msg>
<status status="PASS" endtime="20191114 01:47:37.168" starttime="20191114 01:47:37.167"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:37.170" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-89697 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:48.306" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:47:48.307" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:48.307" starttime="20191114 01:47:37.169"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:48.309" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:48.309" starttime="20191114 01:47:48.308"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:48.310" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:47:48.310" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:47:48.310" starttime="20191114 01:47:48.309"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:48.311" starttime="20191114 01:47:37.168"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:48.311" starttime="20191114 01:47:37.168"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:48.312" starttime="20191114 01:47:37.165"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:48.312" starttime="20191114 01:47:37.164"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:48.312" starttime="20191114 01:47:34.535"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:48.313" critical="yes" starttime="20191114 01:47:34.534">Setup failed:
255 != 0</status>
</test>
<test id="s1-s6-t2" name="Copy Object Where Bucket is not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:48.318" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:48.324" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:47:48.324" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:47:48.324" starttime="20191114 01:47:48.316"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:48.326" starttime="20191114 01:47:48.325"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:48.328" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:48.503" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:48.503" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:47:48.503" starttime="20191114 01:47:48.326"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:48.509" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:49.224" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:49.224" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth....</msg>
<status status="PASS" endtime="20191114 01:47:49.224" starttime="20191114 01:47:48.507"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:49.226" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:47:49.226" starttime="20191114 01:47:49.225"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:49.227" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:49.228" starttime="20191114 01:47:49.227"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:49.228" starttime="20191114 01:47:48.506"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:49.228" starttime="20191114 01:47:48.505"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:49.229" starttime="20191114 01:47:48.504"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:49.229" starttime="20191114 01:47:48.316"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:49.229" starttime="20191114 01:47:48.315"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:49.232" starttime="20191114 01:47:49.231"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:49.233" starttime="20191114 01:47:49.232"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:49.237" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:49.693" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:49.693" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:49.693" starttime="20191114 01:47:49.235"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:49.695" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:49.695" starttime="20191114 01:47:49.694"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:49.696" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:49.697" starttime="20191114 01:47:49.696"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:49.697" starttime="20191114 01:47:49.235"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:49.701" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:50.178" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:50.179" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:50.179" starttime="20191114 01:47:49.699"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:50.180" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:50.180" starttime="20191114 01:47:50.179"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:50.180" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:50.181" starttime="20191114 01:47:50.180"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:50.181" starttime="20191114 01:47:49.697"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:50.183" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:50.615" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:50.615" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:50.615" starttime="20191114 01:47:50.182"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:50.616" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:50.616" starttime="20191114 01:47:50.616"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:50.617" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:50.617" starttime="20191114 01:47:50.616"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:50.617" starttime="20191114 01:47:50.181"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:50.620" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:51.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:51.050" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:51.050" starttime="20191114 01:47:50.618"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:51.051" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:51.051" starttime="20191114 01:47:51.050"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:51.051" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:51.051" starttime="20191114 01:47:51.051"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:51.052" starttime="20191114 01:47:50.617"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:51.052" starttime="20191114 01:47:49.234"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:51.052" starttime="20191114 01:47:49.233"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:51.052" starttime="20191114 01:47:49.230"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:51.052" starttime="20191114 01:47:49.229"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:51.053" starttime="20191114 01:47:51.053"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:51.053" starttime="20191114 01:47:48.314"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>copy-object --bucket dfdfdfdfdfnonexistent --key copyobject/f1 --copy-source ${BUCKET}/copyobject/f1</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:51.056" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --bucket dfdfdfdfdfnonexistent --key copyobject/f1 --copy-source bucket-89697/copyobject/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:55.858" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:47:55.858" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:55.858" starttime="20191114 01:47:51.055"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:55.860" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:55.860" starttime="20191114 01:47:55.859"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:47:55.861" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:55.861" starttime="20191114 01:47:55.860"></status>
</kw>
<msg timestamp="20191114 01:47:55.862" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:55.862" starttime="20191114 01:47:51.054"></status>
</kw>
<msg timestamp="20191114 01:47:55.862" level="INFO">${result} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:47:55.862" starttime="20191114 01:47:51.053"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchBucket</arg>
</arguments>
<msg timestamp="20191114 01:47:55.864" level="FAIL">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</msg>
<status status="FAIL" endtime="20191114 01:47:55.864" starttime="20191114 01:47:55.863"></status>
</kw>
<status status="FAIL" endtime="20191114 01:47:55.864" critical="yes" starttime="20191114 01:47:48.313">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</status>
</test>
<test id="s1-s6-t3" name="Copy Object Where both source and dest are same with change to storageclass">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:55.871" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:55.877" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:47:55.877" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:47:55.877" starttime="20191114 01:47:55.869"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:55.879" starttime="20191114 01:47:55.878"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:55.881" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:56.080" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:56.080" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:47:56.080" starttime="20191114 01:47:55.879"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:56.085" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:56.778" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:56.778" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth....</msg>
<status status="PASS" endtime="20191114 01:47:56.778" starttime="20191114 01:47:56.083"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:56.780" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirrors.kernel.org
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:47:56.780" starttime="20191114 01:47:56.779"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:56.781" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:56.781" starttime="20191114 01:47:56.780"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:56.782" starttime="20191114 01:47:56.082"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:56.782" starttime="20191114 01:47:56.082"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:56.782" starttime="20191114 01:47:56.081"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:56.782" starttime="20191114 01:47:55.868"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:56.782" starttime="20191114 01:47:55.868"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:56.785" starttime="20191114 01:47:56.784"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:56.786" starttime="20191114 01:47:56.785"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:56.790" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:57.192" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:57.192" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:57.193" starttime="20191114 01:47:56.788"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:57.194" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:57.195" starttime="20191114 01:47:57.193"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:57.196" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:57.196" starttime="20191114 01:47:57.195"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:57.197" starttime="20191114 01:47:56.788"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:57.200" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:57.643" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:57.643" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:57.643" starttime="20191114 01:47:57.198"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:57.645" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:57.645" starttime="20191114 01:47:57.644"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:57.646" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:57.646" starttime="20191114 01:47:57.645"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:57.646" starttime="20191114 01:47:57.197"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:57.650" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:57.975" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:57.976" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:57.976" starttime="20191114 01:47:57.647"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:57.977" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:57.977" starttime="20191114 01:47:57.976"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:57.978" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:57.979" starttime="20191114 01:47:57.978"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:57.979" starttime="20191114 01:47:57.647"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:57.982" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:47:58.439" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:47:58.439" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:47:58.439" starttime="20191114 01:47:57.980"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:47:58.441" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:47:58.441" starttime="20191114 01:47:58.440"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:47:58.441" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:47:58.442" starttime="20191114 01:47:58.441"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:58.442" starttime="20191114 01:47:57.979"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:58.442" starttime="20191114 01:47:56.787"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:58.442" starttime="20191114 01:47:56.786"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:58.443" starttime="20191114 01:47:56.784"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:58.443" starttime="20191114 01:47:56.783"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:47:58.444" starttime="20191114 01:47:58.443"></status>
</kw>
<status status="PASS" endtime="20191114 01:47:58.444" starttime="20191114 01:47:55.866"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>copy-object --storage-class REDUCED_REDUNDANCY --bucket ${DESTBUCKET} --key copyobject/f1 --copy-source ${DESTBUCKET}/copyobject/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:47:58.448" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --storage-class REDUCED_REDUNDANCY --bucket generated1 --key copyobject/f1 --copy-source generated1/copyobject/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:01.794" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:48:01.795" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:01.795" starttime="20191114 01:47:58.446"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:01.797" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:01.797" starttime="20191114 01:48:01.796"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:01.798" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:48:01.799" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:48:01.799" starttime="20191114 01:48:01.797"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:01.799" starttime="20191114 01:47:58.445"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:01.800" starttime="20191114 01:47:58.444"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:01.800" critical="yes" starttime="20191114 01:47:55.865">255 != 0</status>
</test>
<test id="s1-s6-t4" name="Copy Object Where Key not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:01.806" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:01.813" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:48:01.813" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:48:01.813" starttime="20191114 01:48:01.804"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:01.815" starttime="20191114 01:48:01.814"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:01.818" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:01.996" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:01.996" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:48:01.996" starttime="20191114 01:48:01.816"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:02.000" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:02.702" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:02.702" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:48:02.702" starttime="20191114 01:48:01.999"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:02.703" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:48:02.703" starttime="20191114 01:48:02.703"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:02.704" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:02.704" starttime="20191114 01:48:02.704"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:02.704" starttime="20191114 01:48:01.998"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:02.705" starttime="20191114 01:48:01.998"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:02.705" starttime="20191114 01:48:01.997"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:02.705" starttime="20191114 01:48:01.803"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:02.705" starttime="20191114 01:48:01.803"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:02.707" starttime="20191114 01:48:02.706"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:02.707" starttime="20191114 01:48:02.707"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:02.711" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:03.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:03.164" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:03.164" starttime="20191114 01:48:02.709"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:03.165" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:03.165" starttime="20191114 01:48:03.164"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:03.166" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:03.166" starttime="20191114 01:48:03.165"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:03.166" starttime="20191114 01:48:02.708"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:03.169" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:03.558" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:03.558" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:03.558" starttime="20191114 01:48:03.167"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:03.560" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:03.560" starttime="20191114 01:48:03.559"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:03.561" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:03.561" starttime="20191114 01:48:03.560"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:03.562" starttime="20191114 01:48:03.166"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:03.565" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:04.000" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:04.001" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:04.001" starttime="20191114 01:48:03.563"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:04.002" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:04.002" starttime="20191114 01:48:04.001"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:04.003" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:04.003" starttime="20191114 01:48:04.002"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:04.003" starttime="20191114 01:48:03.562"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:04.006" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:04.411" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:04.411" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:04.411" starttime="20191114 01:48:04.004"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:04.413" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:04.413" starttime="20191114 01:48:04.412"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:04.414" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:04.414" starttime="20191114 01:48:04.413"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:04.415" starttime="20191114 01:48:04.004"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:04.415" starttime="20191114 01:48:02.708"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:04.415" starttime="20191114 01:48:02.707"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:04.415" starttime="20191114 01:48:02.706"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:04.415" starttime="20191114 01:48:02.705"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:04.417" starttime="20191114 01:48:04.416"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:04.417" starttime="20191114 01:48:01.802"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>copy-object --bucket ${DESTBUCKET} --key copyobject/f1 --copy-source ${BUCKET}/nonnonexistentkey</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:04.422" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --bucket generated1 --key copyobject/f1 --copy-source bucket-89697/nonnonexistentkey 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:12.915" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:48:12.915" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:12.915" starttime="20191114 01:48:04.419"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:12.917" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:12.917" starttime="20191114 01:48:12.916"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:48:12.918" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:12.918" starttime="20191114 01:48:12.918"></status>
</kw>
<msg timestamp="20191114 01:48:12.919" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:12.919" starttime="20191114 01:48:04.418"></status>
</kw>
<msg timestamp="20191114 01:48:12.920" level="INFO">${result} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:12.920" starttime="20191114 01:48:04.417"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchKey</arg>
</arguments>
<msg timestamp="20191114 01:48:12.921" level="FAIL">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchKey'</msg>
<status status="FAIL" endtime="20191114 01:48:12.921" starttime="20191114 01:48:12.920"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:12.922" critical="yes" starttime="20191114 01:48:01.801">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchKey'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:48:12.923" starttime="20191114 01:47:34.527"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectdelete.robot" id="s1-s7" name="Objectdelete">
<test id="s1-s7-t1" name="Delete file with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:12.943" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:12.950" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:48:12.950" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:48:12.950" starttime="20191114 01:48:12.941"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:12.952" starttime="20191114 01:48:12.951"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:12.955" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:13.130" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:13.130" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:48:13.130" starttime="20191114 01:48:12.953"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:13.137" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:13.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:13.836" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:48:13.836" starttime="20191114 01:48:13.134"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:13.838" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:48:13.838" starttime="20191114 01:48:13.837"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:13.838" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:13.839" starttime="20191114 01:48:13.838"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:13.839" starttime="20191114 01:48:13.133"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:13.839" starttime="20191114 01:48:13.133"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:13.839" starttime="20191114 01:48:13.131"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:13.839" starttime="20191114 01:48:12.941"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:13.840" starttime="20191114 01:48:12.940"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:13.841" starttime="20191114 01:48:13.841"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:13.842" starttime="20191114 01:48:13.842"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:13.846" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:14.294" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:14.295" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:14.295" starttime="20191114 01:48:13.844"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:14.296" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:14.296" starttime="20191114 01:48:14.295"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:14.297" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:14.297" starttime="20191114 01:48:14.296"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:14.297" starttime="20191114 01:48:13.843"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:14.300" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:14.759" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:14.759" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:14.760" starttime="20191114 01:48:14.298"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:14.761" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:14.761" starttime="20191114 01:48:14.760"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:14.762" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:14.762" starttime="20191114 01:48:14.761"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:14.762" starttime="20191114 01:48:14.297"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:14.765" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:15.233" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:15.233" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:15.233" starttime="20191114 01:48:14.763"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:15.235" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:15.235" starttime="20191114 01:48:15.234"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:15.236" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:15.236" starttime="20191114 01:48:15.236"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:15.237" starttime="20191114 01:48:14.763"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:15.240" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:15.678" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:15.678" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:15.678" starttime="20191114 01:48:15.238"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:15.680" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:15.680" starttime="20191114 01:48:15.679"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:15.680" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:15.680" starttime="20191114 01:48:15.680"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:15.681" starttime="20191114 01:48:15.237"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:15.681" starttime="20191114 01:48:13.843"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:15.681" starttime="20191114 01:48:13.842"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:15.681" starttime="20191114 01:48:13.840"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:15.682" starttime="20191114 01:48:13.840"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:48:15.684" level="INFO">${postfix} = 16262</msg>
<status status="PASS" endtime="20191114 01:48:15.684" starttime="20191114 01:48:15.683"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:48:15.685" level="INFO">${BUCKET} = bucket-16262</msg>
<status status="PASS" endtime="20191114 01:48:15.685" starttime="20191114 01:48:15.684"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:15.689" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-16262 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:24.489" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:48:24.489" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:24.489" starttime="20191114 01:48:15.687"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:24.490" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:24.490" starttime="20191114 01:48:24.489"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:24.491" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:48:24.491" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:48:24.491" starttime="20191114 01:48:24.490"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:24.492" starttime="20191114 01:48:15.686"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:24.492" starttime="20191114 01:48:15.685"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:24.492" starttime="20191114 01:48:15.683"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:24.492" starttime="20191114 01:48:15.682"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:24.492" starttime="20191114 01:48:12.940"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:24.493" critical="yes" starttime="20191114 01:48:12.939">Setup failed:
255 != 0</status>
</test>
<test id="s1-s7-t2" name="Delete file with s3api, file doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:24.496" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:24.500" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:48:24.500" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:48:24.500" starttime="20191114 01:48:24.495"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:24.502" starttime="20191114 01:48:24.501"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:24.504" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:24.676" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:24.676" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:48:24.676" starttime="20191114 01:48:24.502"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:24.680" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:25.331" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:25.332" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:48:25.332" starttime="20191114 01:48:24.679"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:25.334" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:48:25.334" starttime="20191114 01:48:25.332"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:25.334" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:25.335" starttime="20191114 01:48:25.334"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:25.335" starttime="20191114 01:48:24.678"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:25.335" starttime="20191114 01:48:24.678"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:25.335" starttime="20191114 01:48:24.677"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:25.335" starttime="20191114 01:48:24.494"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:25.336" starttime="20191114 01:48:24.494"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:25.338" starttime="20191114 01:48:25.337"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:25.338" starttime="20191114 01:48:25.338"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:25.342" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:25.729" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:25.729" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:25.729" starttime="20191114 01:48:25.340"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:25.730" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:25.730" starttime="20191114 01:48:25.729"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:25.731" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:25.731" starttime="20191114 01:48:25.730"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:25.731" starttime="20191114 01:48:25.340"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:25.733" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:26.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:26.136" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:26.136" starttime="20191114 01:48:25.732"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:26.138" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:26.138" starttime="20191114 01:48:26.137"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:26.139" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:26.139" starttime="20191114 01:48:26.138"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:26.139" starttime="20191114 01:48:25.731"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:26.142" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:26.612" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:26.613" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:26.613" starttime="20191114 01:48:26.140"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:26.614" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:26.615" starttime="20191114 01:48:26.614"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:26.615" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:26.615" starttime="20191114 01:48:26.615"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:26.616" starttime="20191114 01:48:26.140"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:26.618" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:27.020" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:27.020" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:27.021" starttime="20191114 01:48:26.616"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:27.023" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:27.023" starttime="20191114 01:48:27.022"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:27.024" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:27.025" starttime="20191114 01:48:27.024"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:27.025" starttime="20191114 01:48:26.616"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:27.026" starttime="20191114 01:48:25.339"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:27.026" starttime="20191114 01:48:25.339"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:27.026" starttime="20191114 01:48:25.337"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:27.027" starttime="20191114 01:48:25.336"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:27.028" starttime="20191114 01:48:27.027"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:27.028" starttime="20191114 01:48:24.494"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:27.033" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 ls s3://bucket-16262/ 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:30.575" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:48:30.575" level="INFO">${output} = 
An error occurred (500) when calling the ListObjects operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:30.575" starttime="20191114 01:48:27.030"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:30.577" level="INFO">
An error occurred (500) when calling the ListObjects operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:30.577" starttime="20191114 01:48:30.576"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:30.578" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:48:30.579" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:48:30.581" starttime="20191114 01:48:30.577"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:30.583" starttime="20191114 01:48:27.030"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:30.583" starttime="20191114 01:48:27.029"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:30.584" critical="yes" starttime="20191114 01:48:24.493">255 != 0</status>
</test>
<test id="s1-s7-t3" name="Delete dir with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:30.594" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:30.600" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:48:30.600" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:48:30.600" starttime="20191114 01:48:30.591"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:30.603" starttime="20191114 01:48:30.601"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:30.605" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:30.778" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:30.778" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:48:30.778" starttime="20191114 01:48:30.603"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:30.785" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:31.522" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:31.523" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:48:31.523" starttime="20191114 01:48:30.782"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:31.524" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:48:31.524" starttime="20191114 01:48:31.523"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:31.525" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:31.525" starttime="20191114 01:48:31.524"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:31.525" starttime="20191114 01:48:30.782"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:31.526" starttime="20191114 01:48:30.781"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:31.526" starttime="20191114 01:48:30.779"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:31.526" starttime="20191114 01:48:30.591"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:31.526" starttime="20191114 01:48:30.589"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:31.528" starttime="20191114 01:48:31.528"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:31.529" starttime="20191114 01:48:31.528"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:31.532" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:31.918" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:31.918" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:31.918" starttime="20191114 01:48:31.530"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:31.919" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:31.920" starttime="20191114 01:48:31.919"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:31.920" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:31.920" starttime="20191114 01:48:31.920"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:31.921" starttime="20191114 01:48:31.530"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:31.923" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:32.273" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:32.273" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:32.273" starttime="20191114 01:48:31.922"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:32.274" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:32.275" starttime="20191114 01:48:32.274"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:32.275" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:32.275" starttime="20191114 01:48:32.275"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:32.276" starttime="20191114 01:48:31.921"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:32.279" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:32.773" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:32.774" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:32.774" starttime="20191114 01:48:32.277"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:32.775" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:32.775" starttime="20191114 01:48:32.775"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:32.776" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:32.777" starttime="20191114 01:48:32.775"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:32.777" starttime="20191114 01:48:32.276"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:32.780" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:33.191" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:33.191" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:33.191" starttime="20191114 01:48:32.778"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:33.193" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:33.193" starttime="20191114 01:48:33.192"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:33.194" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:33.194" starttime="20191114 01:48:33.193"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:33.195" starttime="20191114 01:48:32.777"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:33.195" starttime="20191114 01:48:31.530"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:33.195" starttime="20191114 01:48:31.529"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:33.196" starttime="20191114 01:48:31.527"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:33.196" starttime="20191114 01:48:31.526"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:33.197" starttime="20191114 01:48:33.196"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:33.197" starttime="20191114 01:48:30.588"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:33.201" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 01:48:33.206" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:33.207" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:33.207" starttime="20191114 01:48:33.199"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:33.208" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:33.208" starttime="20191114 01:48:33.207"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:33.209" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:33.209" starttime="20191114 01:48:33.209"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:33.210" starttime="20191114 01:48:33.198"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/deletetestapidir/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:33.214" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-16262/deletetestapidir/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:40.188" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:48:40.189" level="INFO">${output} = Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-16262/deletetestapidir/f1 An error occurred (500) when calling the PutObject operation...</msg>
<status status="PASS" endtime="20191114 01:48:40.189" starttime="20191114 01:48:33.212"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:40.190" level="INFO">Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-16262/deletetestapidir/f1 An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:40.191" starttime="20191114 01:48:40.189"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:40.191" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:48:40.192" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 01:48:40.192" starttime="20191114 01:48:40.191"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:40.193" starttime="20191114 01:48:33.211"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:40.193" starttime="20191114 01:48:33.210"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:40.193" critical="yes" starttime="20191114 01:48:30.586">1 != 0</status>
</test>
<test id="s1-s7-t4" name="Delete file with s3api, file doesn't exist, prefix of a real file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:40.198" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:40.204" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:48:40.204" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:48:40.204" starttime="20191114 01:48:40.196"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:40.206" starttime="20191114 01:48:40.205"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:40.208" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:40.379" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:40.379" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:48:40.379" starttime="20191114 01:48:40.206"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:40.386" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:41.078" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:41.078" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:48:41.078" starttime="20191114 01:48:40.383"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:41.079" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:48:41.079" starttime="20191114 01:48:41.078"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:41.080" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:41.080" starttime="20191114 01:48:41.079"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:41.080" starttime="20191114 01:48:40.382"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:41.080" starttime="20191114 01:48:40.382"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:41.080" starttime="20191114 01:48:40.380"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:41.080" starttime="20191114 01:48:40.196"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:41.081" starttime="20191114 01:48:40.196"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:41.082" starttime="20191114 01:48:41.082"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:41.083" starttime="20191114 01:48:41.082"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:41.086" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:41.512" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:41.513" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:41.513" starttime="20191114 01:48:41.085"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:41.514" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:41.515" starttime="20191114 01:48:41.513"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:41.516" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:41.517" starttime="20191114 01:48:41.515"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:41.517" starttime="20191114 01:48:41.084"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:41.520" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:41.922" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:41.922" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:41.923" starttime="20191114 01:48:41.518"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:41.924" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:41.924" starttime="20191114 01:48:41.923"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:41.924" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:41.925" starttime="20191114 01:48:41.924"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:41.925" starttime="20191114 01:48:41.517"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:41.927" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:42.329" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:42.329" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:42.330" starttime="20191114 01:48:41.926"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:42.331" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:42.331" starttime="20191114 01:48:42.330"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:42.332" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:42.333" starttime="20191114 01:48:42.332"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:42.333" starttime="20191114 01:48:41.925"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:42.336" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:42.779" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:42.779" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:42.779" starttime="20191114 01:48:42.334"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:42.780" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:42.781" starttime="20191114 01:48:42.780"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:42.781" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:42.782" starttime="20191114 01:48:42.781"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:42.782" starttime="20191114 01:48:42.333"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:42.782" starttime="20191114 01:48:41.084"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:42.782" starttime="20191114 01:48:41.083"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:42.783" starttime="20191114 01:48:41.081"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:42.783" starttime="20191114 01:48:41.081"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:42.784" starttime="20191114 01:48:42.783"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:42.784" starttime="20191114 01:48:40.195"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:42.788" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 01:48:42.794" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:42.794" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:42.794" starttime="20191114 01:48:42.786"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:42.796" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:42.796" starttime="20191114 01:48:42.795"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:42.797" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:42.797" starttime="20191114 01:48:42.796"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:42.797" starttime="20191114 01:48:42.785"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/deletetestapiprefix/filefile</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:42.802" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-16262/deletetestapiprefix/filefile 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:52.036" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:48:52.036" level="INFO">${output} = Completed 29 Bytes/29 Bytes (3 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-16262/deletetestapiprefix/filefile An error occurred (500) when calling the PutObject ...</msg>
<status status="PASS" endtime="20191114 01:48:52.036" starttime="20191114 01:48:42.800"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:52.038" level="INFO">Completed 29 Bytes/29 Bytes (3 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-16262/deletetestapiprefix/filefile An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:48:52.038" starttime="20191114 01:48:52.037"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:52.039" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:48:52.040" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 01:48:52.040" starttime="20191114 01:48:52.039"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:52.041" starttime="20191114 01:48:42.799"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:52.041" starttime="20191114 01:48:42.798"></status>
</kw>
<status status="FAIL" endtime="20191114 01:48:52.042" critical="yes" starttime="20191114 01:48:40.194">1 != 0</status>
</test>
<test id="s1-s7-t5" name="Delete file with s3api, bucket doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:52.047" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:52.054" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:48:52.054" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:48:52.055" starttime="20191114 01:48:52.045"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:52.057" starttime="20191114 01:48:52.055"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:52.059" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:52.232" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:52.232" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:48:52.232" starttime="20191114 01:48:52.057"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:52.238" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:52.909" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:52.909" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:48:52.909" starttime="20191114 01:48:52.236"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:52.911" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:48:52.911" starttime="20191114 01:48:52.910"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:52.912" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:52.912" starttime="20191114 01:48:52.911"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:52.913" starttime="20191114 01:48:52.235"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:52.913" starttime="20191114 01:48:52.234"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:52.913" starttime="20191114 01:48:52.233"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:52.914" starttime="20191114 01:48:52.045"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:52.914" starttime="20191114 01:48:52.044"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:52.917" starttime="20191114 01:48:52.916"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:52.918" starttime="20191114 01:48:52.917"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:52.923" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:53.359" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:53.359" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:53.359" starttime="20191114 01:48:52.920"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:53.361" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:53.361" starttime="20191114 01:48:53.360"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:53.362" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:53.362" starttime="20191114 01:48:53.361"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:53.363" starttime="20191114 01:48:52.919"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:53.366" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:53.786" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:53.787" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:53.787" starttime="20191114 01:48:53.364"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:53.788" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:53.788" starttime="20191114 01:48:53.787"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:53.789" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:53.789" starttime="20191114 01:48:53.788"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:53.789" starttime="20191114 01:48:53.363"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:53.792" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:54.203" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:54.203" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:54.204" starttime="20191114 01:48:53.790"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:54.205" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:54.205" starttime="20191114 01:48:54.204"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:54.206" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:54.207" starttime="20191114 01:48:54.206"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:54.207" starttime="20191114 01:48:53.789"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:54.211" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:48:54.668" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:48:54.668" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:48:54.669" starttime="20191114 01:48:54.208"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:48:54.671" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:48:54.671" starttime="20191114 01:48:54.669"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:48:54.672" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:48:54.672" starttime="20191114 01:48:54.672"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:54.673" starttime="20191114 01:48:54.207"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:54.673" starttime="20191114 01:48:52.919"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:54.673" starttime="20191114 01:48:52.918"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:54.673" starttime="20191114 01:48:52.915"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:54.673" starttime="20191114 01:48:52.914"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:48:54.675" starttime="20191114 01:48:54.674"></status>
</kw>
<status status="PASS" endtime="20191114 01:48:54.675" starttime="20191114 01:48:52.044"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET}-nosuchbucket --key f1</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:48:54.679" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 delete-object --bucket bucket-16262-nosuchbucket --key f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:01.951" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:49:01.952" level="INFO">${output} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:01.952" starttime="20191114 01:48:54.677"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:01.954" level="INFO">
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:01.954" starttime="20191114 01:49:01.953"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:49:01.955" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:01.955" starttime="20191114 01:49:01.954"></status>
</kw>
<msg timestamp="20191114 01:49:01.956" level="INFO">${output} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:01.956" starttime="20191114 01:48:54.676"></status>
</kw>
<msg timestamp="20191114 01:49:01.957" level="INFO">${result} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:01.957" starttime="20191114 01:48:54.675"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchBucket</arg>
</arguments>
<msg timestamp="20191114 01:49:01.958" level="FAIL">'
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</msg>
<status status="FAIL" endtime="20191114 01:49:01.958" starttime="20191114 01:49:01.957"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:01.959" critical="yes" starttime="20191114 01:48:52.042">'
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:49:01.960" starttime="20191114 01:48:12.927"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectmultidelete.robot" id="s1-s8" name="Objectmultidelete">
<test id="s1-s8-t1" name="Delete file with multi delete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:01.975" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:01.981" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:49:01.981" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:49:01.981" starttime="20191114 01:49:01.974"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:01.982" starttime="20191114 01:49:01.982"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:01.984" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:02.154" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:02.154" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:49:02.154" starttime="20191114 01:49:01.983"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:02.161" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:03.789" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:03.790" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:49:03.790" starttime="20191114 01:49:02.158"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:03.792" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:49:03.792" starttime="20191114 01:49:03.791"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:03.793" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:03.793" starttime="20191114 01:49:03.793"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:03.794" starttime="20191114 01:49:02.157"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:03.794" starttime="20191114 01:49:02.156"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:03.794" starttime="20191114 01:49:02.155"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:03.795" starttime="20191114 01:49:01.973"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:03.795" starttime="20191114 01:49:01.973"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:03.798" starttime="20191114 01:49:03.797"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:03.799" starttime="20191114 01:49:03.798"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:03.803" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:04.236" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:04.236" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:04.236" starttime="20191114 01:49:03.801"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:04.237" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:04.238" starttime="20191114 01:49:04.237"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:04.238" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:04.239" starttime="20191114 01:49:04.238"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:04.239" starttime="20191114 01:49:03.800"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:04.242" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:04.668" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:04.668" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:04.668" starttime="20191114 01:49:04.240"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:04.670" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:04.670" starttime="20191114 01:49:04.669"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:04.671" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:04.671" starttime="20191114 01:49:04.670"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:04.672" starttime="20191114 01:49:04.239"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:04.675" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:05.146" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:05.146" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:05.146" starttime="20191114 01:49:04.673"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:05.148" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:05.148" starttime="20191114 01:49:05.147"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:05.149" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:05.149" starttime="20191114 01:49:05.148"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:05.150" starttime="20191114 01:49:04.672"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:05.153" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:05.593" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:05.593" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:05.594" starttime="20191114 01:49:05.151"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:05.596" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:05.597" starttime="20191114 01:49:05.595"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:05.597" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:05.598" starttime="20191114 01:49:05.597"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:05.598" starttime="20191114 01:49:05.150"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:05.598" starttime="20191114 01:49:03.800"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:05.598" starttime="20191114 01:49:03.799"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:05.599" starttime="20191114 01:49:03.796"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:05.599" starttime="20191114 01:49:03.795"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:49:05.601" level="INFO">${postfix} = 99704</msg>
<status status="PASS" endtime="20191114 01:49:05.601" starttime="20191114 01:49:05.601"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:49:05.603" level="INFO">${BUCKET} = bucket-99704</msg>
<status status="PASS" endtime="20191114 01:49:05.603" starttime="20191114 01:49:05.602"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:05.607" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-99704 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:14.790" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:49:14.790" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:14.790" starttime="20191114 01:49:05.605"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:14.791" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:14.791" starttime="20191114 01:49:14.790"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:14.792" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:49:14.792" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:49:14.792" starttime="20191114 01:49:14.791"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:14.792" starttime="20191114 01:49:05.604"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:14.793" starttime="20191114 01:49:05.603"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:14.793" starttime="20191114 01:49:05.600"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:14.793" starttime="20191114 01:49:05.599"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:14.793" starttime="20191114 01:49:01.972"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:14.793" critical="yes" starttime="20191114 01:49:01.972">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:49:14.794" starttime="20191114 01:49:01.963"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectputget.robot" id="s1-s9" name="Objectputget">
<test id="s1-s9-t1" name="Put object to s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:14.806" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:14.812" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:49:14.812" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:49:14.812" starttime="20191114 01:49:14.804"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:14.813" starttime="20191114 01:49:14.813"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:14.815" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:15.032" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:15.032" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:49:15.032" starttime="20191114 01:49:14.813"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:15.037" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:15.757" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:15.757" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:49:15.757" starttime="20191114 01:49:15.035"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:15.759" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:49:15.759" starttime="20191114 01:49:15.758"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:15.760" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:15.760" starttime="20191114 01:49:15.759"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:15.761" starttime="20191114 01:49:15.034"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:15.761" starttime="20191114 01:49:15.034"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:15.761" starttime="20191114 01:49:15.033"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:15.761" starttime="20191114 01:49:14.804"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:15.762" starttime="20191114 01:49:14.803"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:15.765" starttime="20191114 01:49:15.764"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:15.766" starttime="20191114 01:49:15.765"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:15.770" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:16.197" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:16.198" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:16.198" starttime="20191114 01:49:15.768"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:16.199" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:16.199" starttime="20191114 01:49:16.198"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:16.200" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:16.200" starttime="20191114 01:49:16.199"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:16.200" starttime="20191114 01:49:15.767"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:16.203" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:16.632" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:16.632" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:16.633" starttime="20191114 01:49:16.201"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:16.634" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:16.635" starttime="20191114 01:49:16.633"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:16.636" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:16.636" starttime="20191114 01:49:16.635"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:16.636" starttime="20191114 01:49:16.200"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:16.640" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:17.076" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:17.076" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:17.077" starttime="20191114 01:49:16.638"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:17.078" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:17.078" starttime="20191114 01:49:17.077"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:17.079" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:17.079" starttime="20191114 01:49:17.079"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:17.080" starttime="20191114 01:49:16.637"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:17.082" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:17.511" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:17.511" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:17.511" starttime="20191114 01:49:17.080"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:17.513" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:17.513" starttime="20191114 01:49:17.512"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:17.514" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:17.514" starttime="20191114 01:49:17.513"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:17.515" starttime="20191114 01:49:17.080"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:17.515" starttime="20191114 01:49:15.767"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:17.515" starttime="20191114 01:49:15.766"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:17.515" starttime="20191114 01:49:15.763"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:17.515" starttime="20191114 01:49:15.762"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:49:17.518" level="INFO">${postfix} = 75371</msg>
<status status="PASS" endtime="20191114 01:49:17.518" starttime="20191114 01:49:17.518"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:49:17.520" level="INFO">${BUCKET} = bucket-75371</msg>
<status status="PASS" endtime="20191114 01:49:17.520" starttime="20191114 01:49:17.519"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:17.524" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-75371 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:22.917" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:49:22.918" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:22.918" starttime="20191114 01:49:17.522"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:22.920" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:22.920" starttime="20191114 01:49:22.919"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:22.921" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:49:22.921" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:49:22.921" starttime="20191114 01:49:22.920"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:22.922" starttime="20191114 01:49:17.521"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:22.922" starttime="20191114 01:49:17.520"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:22.923" starttime="20191114 01:49:17.517"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:22.923" starttime="20191114 01:49:17.516"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:22.923" starttime="20191114 01:49:14.803"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:22.924" critical="yes" starttime="20191114 01:49:14.802">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t2" name="Get object from s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:22.930" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:22.935" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:49:22.935" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:49:22.935" starttime="20191114 01:49:22.928"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:22.937" starttime="20191114 01:49:22.936"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:22.938" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:23.134" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:23.134" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:49:23.134" starttime="20191114 01:49:22.937"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:23.139" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:24.727" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:24.727" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:49:24.727" starttime="20191114 01:49:23.137"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:24.728" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:49:24.728" starttime="20191114 01:49:24.728"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:24.729" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:24.729" starttime="20191114 01:49:24.729"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:24.730" starttime="20191114 01:49:23.136"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:24.730" starttime="20191114 01:49:23.136"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:24.730" starttime="20191114 01:49:23.135"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:24.730" starttime="20191114 01:49:22.927"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:24.730" starttime="20191114 01:49:22.927"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:24.733" starttime="20191114 01:49:24.732"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:24.733" starttime="20191114 01:49:24.733"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:24.738" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:25.192" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:25.192" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:25.192" starttime="20191114 01:49:24.736"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:25.193" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:25.193" starttime="20191114 01:49:25.192"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:25.194" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:25.194" starttime="20191114 01:49:25.193"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:25.194" starttime="20191114 01:49:24.734"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:25.196" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:25.602" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:25.602" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:25.602" starttime="20191114 01:49:25.195"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:25.604" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:25.604" starttime="20191114 01:49:25.603"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:25.605" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:25.605" starttime="20191114 01:49:25.604"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:25.605" starttime="20191114 01:49:25.194"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:25.608" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:26.022" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:26.022" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:26.022" starttime="20191114 01:49:25.606"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:26.024" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:26.024" starttime="20191114 01:49:26.023"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:26.025" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:26.025" starttime="20191114 01:49:26.025"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:26.026" starttime="20191114 01:49:25.606"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:26.030" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:26.482" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:26.482" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:26.482" starttime="20191114 01:49:26.027"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:26.484" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:26.484" starttime="20191114 01:49:26.483"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:26.485" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:26.486" starttime="20191114 01:49:26.485"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:26.486" starttime="20191114 01:49:26.026"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:26.487" starttime="20191114 01:49:24.734"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:26.487" starttime="20191114 01:49:24.733"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:26.487" starttime="20191114 01:49:24.731"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:26.487" starttime="20191114 01:49:24.731"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:26.488" starttime="20191114 01:49:26.488"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:26.489" starttime="20191114 01:49:22.926"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 /tmp/testfile.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:26.494" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-75371 --key putobject/f1 /tmp/testfile.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:35.199" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:49:35.200" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:35.200" starttime="20191114 01:49:26.491"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:35.201" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:35.201" starttime="20191114 01:49:35.200"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:35.202" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:49:35.202" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:49:35.202" starttime="20191114 01:49:35.201"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:35.202" starttime="20191114 01:49:26.490"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:35.203" starttime="20191114 01:49:26.489"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:35.203" critical="yes" starttime="20191114 01:49:22.925">255 != 0</status>
</test>
<test id="s1-s9-t3" name="Get Partial object from s3 with both start and endoffset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:35.207" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:35.213" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:49:35.213" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:49:35.213" starttime="20191114 01:49:35.206"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:35.215" starttime="20191114 01:49:35.214"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:35.216" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:35.392" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:35.392" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:49:35.392" starttime="20191114 01:49:35.215"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:35.399" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:36.125" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:36.125" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:49:36.125" starttime="20191114 01:49:35.397"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:36.126" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:49:36.126" starttime="20191114 01:49:36.126"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:36.127" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:36.127" starttime="20191114 01:49:36.127"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:36.128" starttime="20191114 01:49:35.395"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:36.128" starttime="20191114 01:49:35.395"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:36.128" starttime="20191114 01:49:35.393"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:36.128" starttime="20191114 01:49:35.205"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:36.128" starttime="20191114 01:49:35.205"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:36.130" starttime="20191114 01:49:36.130"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:36.131" starttime="20191114 01:49:36.130"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:36.135" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:36.571" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:36.571" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:36.571" starttime="20191114 01:49:36.133"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:36.572" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:36.572" starttime="20191114 01:49:36.572"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:36.573" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:36.573" starttime="20191114 01:49:36.573"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:36.573" starttime="20191114 01:49:36.132"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:36.576" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:37.019" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:37.019" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:37.020" starttime="20191114 01:49:36.574"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:37.021" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:37.021" starttime="20191114 01:49:37.020"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:37.021" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:37.022" starttime="20191114 01:49:37.021"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:37.022" starttime="20191114 01:49:36.574"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:37.024" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:37.480" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:37.480" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:37.480" starttime="20191114 01:49:37.023"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:37.481" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:37.482" starttime="20191114 01:49:37.481"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:37.482" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:37.482" starttime="20191114 01:49:37.482"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:37.483" starttime="20191114 01:49:37.022"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:37.485" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:37.916" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:37.916" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:37.916" starttime="20191114 01:49:37.483"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:37.918" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:37.918" starttime="20191114 01:49:37.917"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:37.919" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:37.919" starttime="20191114 01:49:37.918"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:37.920" starttime="20191114 01:49:37.483"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:37.920" starttime="20191114 01:49:36.132"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:37.920" starttime="20191114 01:49:36.131"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:37.920" starttime="20191114 01:49:36.129"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:37.920" starttime="20191114 01:49:36.128"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:37.921" starttime="20191114 01:49:37.921"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:37.922" starttime="20191114 01:49:35.204"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-4 /tmp/testfile1.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:37.927" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-75371 --key putobject/f1 --range bytes=0-4 /tmp/testfile1.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:42.293" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:49:42.293" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:42.293" starttime="20191114 01:49:37.924"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:42.294" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:42.294" starttime="20191114 01:49:42.293"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:42.295" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:49:42.295" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:49:42.296" starttime="20191114 01:49:42.295"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:42.296" starttime="20191114 01:49:37.923"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:42.296" starttime="20191114 01:49:37.922"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:42.297" critical="yes" starttime="20191114 01:49:35.203">255 != 0</status>
</test>
<test id="s1-s9-t4" name="Get Partial object from s3 with both start and endoffset(start offset and endoffset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:42.301" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:42.307" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:49:42.307" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:49:42.307" starttime="20191114 01:49:42.300"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:42.308" starttime="20191114 01:49:42.307"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:42.310" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:42.474" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:42.475" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:49:42.475" starttime="20191114 01:49:42.308"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:42.480" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:45.969" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:45.969" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:49:45.969" starttime="20191114 01:49:42.478"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:45.970" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:49:45.971" starttime="20191114 01:49:45.970"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:45.971" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:45.971" starttime="20191114 01:49:45.971"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:45.972" starttime="20191114 01:49:42.478"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:45.972" starttime="20191114 01:49:42.477"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:45.972" starttime="20191114 01:49:42.476"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:45.972" starttime="20191114 01:49:42.300"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:45.972" starttime="20191114 01:49:42.299"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:45.974" starttime="20191114 01:49:45.974"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:45.975" starttime="20191114 01:49:45.975"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:45.979" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:46.408" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:46.408" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:46.408" starttime="20191114 01:49:45.977"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:46.410" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:46.410" starttime="20191114 01:49:46.409"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:46.410" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:46.411" starttime="20191114 01:49:46.410"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:46.411" starttime="20191114 01:49:45.977"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:46.414" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:46.846" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:46.846" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:46.846" starttime="20191114 01:49:46.412"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:46.848" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:46.848" starttime="20191114 01:49:46.847"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:46.849" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:46.849" starttime="20191114 01:49:46.848"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:46.850" starttime="20191114 01:49:46.411"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:46.853" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:47.244" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:47.244" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:47.244" starttime="20191114 01:49:46.851"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:47.245" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:47.245" starttime="20191114 01:49:47.245"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:47.247" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:47.247" starttime="20191114 01:49:47.246"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:47.247" starttime="20191114 01:49:46.850"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:47.250" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:47.644" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:47.644" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:47.644" starttime="20191114 01:49:47.248"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:47.646" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:47.646" starttime="20191114 01:49:47.645"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:47.647" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:47.647" starttime="20191114 01:49:47.646"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:47.648" starttime="20191114 01:49:47.247"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:47.648" starttime="20191114 01:49:45.976"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:47.648" starttime="20191114 01:49:45.975"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:47.648" starttime="20191114 01:49:45.973"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:47.648" starttime="20191114 01:49:45.973"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:47.649" starttime="20191114 01:49:47.649"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:47.650" starttime="20191114 01:49:42.298"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=10000-10000 /tmp/testfile2.result</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:47.654" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-75371 --key putobject/f1 --range bytes=10000-10000 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:57.735" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:49:57.735" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:57.735" starttime="20191114 01:49:47.652"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:57.737" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:57.737" starttime="20191114 01:49:57.736"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:49:57.738" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:57.739" starttime="20191114 01:49:57.738"></status>
</kw>
<msg timestamp="20191114 01:49:57.739" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:57.739" starttime="20191114 01:49:47.651"></status>
</kw>
<msg timestamp="20191114 01:49:57.740" level="INFO">${result} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:49:57.740" starttime="20191114 01:49:47.650"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>InvalidRange</arg>
</arguments>
<msg timestamp="20191114 01:49:57.742" level="FAIL">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</msg>
<status status="FAIL" endtime="20191114 01:49:57.742" starttime="20191114 01:49:57.740"></status>
</kw>
<status status="FAIL" endtime="20191114 01:49:57.742" critical="yes" starttime="20191114 01:49:42.297">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</status>
</test>
<test id="s1-s9-t5" name="Get Partial object from s3 with both start and endoffset(end offset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:57.748" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:57.753" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:49:57.753" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:49:57.753" starttime="20191114 01:49:57.746"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:57.755" starttime="20191114 01:49:57.754"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:57.757" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:57.924" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:57.924" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:49:57.924" starttime="20191114 01:49:57.755"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:57.930" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:58.684" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:58.684" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:49:58.684" starttime="20191114 01:49:57.928"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:58.686" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:49:58.686" starttime="20191114 01:49:58.685"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:58.687" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:58.687" starttime="20191114 01:49:58.686"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:58.688" starttime="20191114 01:49:57.927"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:58.688" starttime="20191114 01:49:57.926"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:58.688" starttime="20191114 01:49:57.925"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:58.688" starttime="20191114 01:49:57.745"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:58.688" starttime="20191114 01:49:57.745"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:58.691" starttime="20191114 01:49:58.690"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:49:58.692" starttime="20191114 01:49:58.691"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:58.697" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:59.156" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:59.156" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:59.156" starttime="20191114 01:49:58.695"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:59.157" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:59.158" starttime="20191114 01:49:59.157"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:59.158" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:59.159" starttime="20191114 01:49:59.158"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:59.159" starttime="20191114 01:49:58.694"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:59.162" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:49:59.573" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:49:59.573" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:49:59.573" starttime="20191114 01:49:59.160"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:49:59.575" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:49:59.575" starttime="20191114 01:49:59.574"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:49:59.576" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:49:59.576" starttime="20191114 01:49:59.575"></status>
</kw>
<status status="PASS" endtime="20191114 01:49:59.576" starttime="20191114 01:49:59.159"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:49:59.579" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:00.173" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:00.173" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:00.173" starttime="20191114 01:49:59.577"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:00.175" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:00.175" starttime="20191114 01:50:00.174"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:00.176" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:00.176" starttime="20191114 01:50:00.175"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:00.177" starttime="20191114 01:49:59.576"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:00.180" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:00.604" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:00.604" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:00.604" starttime="20191114 01:50:00.178"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:00.606" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:00.607" starttime="20191114 01:50:00.605"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:00.608" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:00.608" starttime="20191114 01:50:00.607"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:00.608" starttime="20191114 01:50:00.177"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:00.609" starttime="20191114 01:49:58.693"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:00.609" starttime="20191114 01:49:58.692"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:00.609" starttime="20191114 01:49:58.690"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:00.609" starttime="20191114 01:49:58.689"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:00.611" starttime="20191114 01:50:00.610"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:00.611" starttime="20191114 01:49:57.744"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-10000 /tmp/testfile2.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:00.616" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-75371 --key putobject/f1 --range bytes=0-10000 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:07.971" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:50:07.971" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:07.971" starttime="20191114 01:50:00.613"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:07.972" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:07.972" starttime="20191114 01:50:07.972"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:07.973" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:50:07.973" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:50:07.973" starttime="20191114 01:50:07.973"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:07.974" starttime="20191114 01:50:00.612"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:07.974" starttime="20191114 01:50:00.611"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:07.974" critical="yes" starttime="20191114 01:49:57.743">255 != 0</status>
</test>
<test id="s1-s9-t6" name="Get Partial object from s3 with only start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:07.978" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:07.985" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:50:07.985" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:50:07.985" starttime="20191114 01:50:07.977"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:07.987" starttime="20191114 01:50:07.986"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:07.990" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:08.174" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:08.175" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:50:08.175" starttime="20191114 01:50:07.987"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:08.181" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:08.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:08.933" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
...</msg>
<status status="PASS" endtime="20191114 01:50:08.933" starttime="20191114 01:50:08.179"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:08.934" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.fileplanet.com
 * epel: mirror.umd.edu
 * extras: mirror.fileplanet.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:50:08.934" starttime="20191114 01:50:08.933"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:08.935" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:08.935" starttime="20191114 01:50:08.934"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:08.935" starttime="20191114 01:50:08.178"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:08.935" starttime="20191114 01:50:08.177"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:08.935" starttime="20191114 01:50:08.176"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:08.936" starttime="20191114 01:50:07.976"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:08.936" starttime="20191114 01:50:07.976"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:08.938" starttime="20191114 01:50:08.937"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:08.938" starttime="20191114 01:50:08.938"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:08.941" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:09.396" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:09.396" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:09.396" starttime="20191114 01:50:08.940"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:09.398" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:09.398" starttime="20191114 01:50:09.397"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:09.399" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:09.400" starttime="20191114 01:50:09.399"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:09.400" starttime="20191114 01:50:08.939"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:09.403" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:09.854" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:09.854" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:09.854" starttime="20191114 01:50:09.401"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:09.856" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:09.856" starttime="20191114 01:50:09.855"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:09.856" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:09.856" starttime="20191114 01:50:09.856"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:09.857" starttime="20191114 01:50:09.400"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:09.859" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:10.299" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:10.299" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:10.299" starttime="20191114 01:50:09.858"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:10.301" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:10.301" starttime="20191114 01:50:10.300"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:10.301" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:10.302" starttime="20191114 01:50:10.301"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:10.302" starttime="20191114 01:50:09.857"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:10.305" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:10.730" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:10.730" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:10.730" starttime="20191114 01:50:10.303"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:10.731" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:10.732" starttime="20191114 01:50:10.731"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:10.732" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:10.732" starttime="20191114 01:50:10.732"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:10.733" starttime="20191114 01:50:10.302"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:10.733" starttime="20191114 01:50:08.939"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:10.733" starttime="20191114 01:50:08.938"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:10.733" starttime="20191114 01:50:08.937"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:10.733" starttime="20191114 01:50:08.936"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:10.734" starttime="20191114 01:50:10.733"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:10.734" starttime="20191114 01:50:07.975"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0- /tmp/testfile3.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:10.737" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-75371 --key putobject/f1 --range bytes=0- /tmp/testfile3.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:15.817" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:50:15.818" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:15.818" starttime="20191114 01:50:10.736"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:15.819" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:15.819" starttime="20191114 01:50:15.818"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:15.820" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:50:15.821" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:50:15.821" starttime="20191114 01:50:15.819"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:15.821" starttime="20191114 01:50:10.735"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:15.821" starttime="20191114 01:50:10.734"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:15.822" critical="yes" starttime="20191114 01:50:07.975">255 != 0</status>
</test>
<test id="s1-s9-t7" name="Get Partial object from s3 with both start and endoffset which are equal">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:15.828" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:15.835" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:50:15.835" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:50:15.835" starttime="20191114 01:50:15.826"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:15.837" starttime="20191114 01:50:15.836"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:15.840" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:16.001" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:16.001" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:50:16.002" starttime="20191114 01:50:15.838"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:16.008" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:16.726" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:16.726" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.lease...</msg>
<status status="PASS" endtime="20191114 01:50:16.726" starttime="20191114 01:50:16.006"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:16.727" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:50:16.727" starttime="20191114 01:50:16.726"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:16.728" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:16.728" starttime="20191114 01:50:16.727"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:16.728" starttime="20191114 01:50:16.005"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:16.728" starttime="20191114 01:50:16.004"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:16.728" starttime="20191114 01:50:16.003"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:16.729" starttime="20191114 01:50:15.825"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:16.729" starttime="20191114 01:50:15.824"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:16.730" starttime="20191114 01:50:16.730"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:16.731" starttime="20191114 01:50:16.731"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:16.735" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:17.138" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:17.138" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:17.138" starttime="20191114 01:50:16.733"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:17.139" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:17.140" starttime="20191114 01:50:17.139"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:17.140" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:17.140" starttime="20191114 01:50:17.140"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:17.141" starttime="20191114 01:50:16.732"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:17.143" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:17.562" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:17.562" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:17.562" starttime="20191114 01:50:17.141"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:17.564" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:17.565" starttime="20191114 01:50:17.563"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:17.565" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:17.566" starttime="20191114 01:50:17.565"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:17.566" starttime="20191114 01:50:17.141"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:17.570" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:17.983" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:17.983" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:17.984" starttime="20191114 01:50:17.567"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:17.985" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:17.986" starttime="20191114 01:50:17.984"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:17.987" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:17.988" starttime="20191114 01:50:17.986"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:17.988" starttime="20191114 01:50:17.567"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:17.992" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:18.454" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:18.454" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:18.454" starttime="20191114 01:50:17.989"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:18.455" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:18.455" starttime="20191114 01:50:18.454"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:18.456" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:18.456" starttime="20191114 01:50:18.455"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:18.456" starttime="20191114 01:50:17.988"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:18.456" starttime="20191114 01:50:16.732"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:18.456" starttime="20191114 01:50:16.731"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:18.457" starttime="20191114 01:50:16.730"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:18.457" starttime="20191114 01:50:16.729"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:18.458" starttime="20191114 01:50:18.457"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:18.458" starttime="20191114 01:50:15.824"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-0 /tmp/testfile4.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:18.463" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-75371 --key putobject/f1 --range bytes=0-0 /tmp/testfile4.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:25.785" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:50:25.785" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:25.785" starttime="20191114 01:50:18.460"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:25.787" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:25.787" starttime="20191114 01:50:25.786"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:25.788" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:50:25.788" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:50:25.789" starttime="20191114 01:50:25.787"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:25.789" starttime="20191114 01:50:18.459"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:25.789" starttime="20191114 01:50:18.458"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:25.790" critical="yes" starttime="20191114 01:50:15.822">255 != 0</status>
</test>
<test id="s1-s9-t8" name="Get Partial object from s3 to get last n bytes">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:25.796" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:25.802" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:50:25.802" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:50:25.803" starttime="20191114 01:50:25.794"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:25.804" starttime="20191114 01:50:25.803"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:25.807" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:25.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:25.974" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:50:25.974" starttime="20191114 01:50:25.805"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:25.978" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:26.679" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:26.680" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.lease...</msg>
<status status="PASS" endtime="20191114 01:50:26.680" starttime="20191114 01:50:25.976"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:26.682" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: centos.sonn.com
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:50:26.682" starttime="20191114 01:50:26.681"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:26.683" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:26.683" starttime="20191114 01:50:26.682"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:26.684" starttime="20191114 01:50:25.976"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:26.684" starttime="20191114 01:50:25.975"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:26.684" starttime="20191114 01:50:25.975"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:26.684" starttime="20191114 01:50:25.793"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:26.684" starttime="20191114 01:50:25.792"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:26.687" starttime="20191114 01:50:26.687"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:26.688" starttime="20191114 01:50:26.688"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:26.693" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:27.174" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:27.175" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:27.175" starttime="20191114 01:50:26.691"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:27.176" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:27.176" starttime="20191114 01:50:27.175"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:27.177" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:27.177" starttime="20191114 01:50:27.176"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:27.178" starttime="20191114 01:50:26.690"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:27.181" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:27.580" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:27.580" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:27.580" starttime="20191114 01:50:27.178"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:27.582" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:27.582" starttime="20191114 01:50:27.581"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:27.583" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:27.583" starttime="20191114 01:50:27.582"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:27.584" starttime="20191114 01:50:27.178"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:27.587" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:27.995" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:27.996" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:27.996" starttime="20191114 01:50:27.585"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:27.998" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:27.998" starttime="20191114 01:50:27.997"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:27.999" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:27.999" starttime="20191114 01:50:27.998"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:28.000" starttime="20191114 01:50:27.584"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:28.003" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:28.414" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:28.414" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:28.414" starttime="20191114 01:50:28.001"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:28.416" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:28.416" starttime="20191114 01:50:28.415"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:28.417" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:28.417" starttime="20191114 01:50:28.416"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:28.418" starttime="20191114 01:50:28.000"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:28.418" starttime="20191114 01:50:26.689"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:28.418" starttime="20191114 01:50:26.689"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:28.418" starttime="20191114 01:50:26.686"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:28.419" starttime="20191114 01:50:26.685"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:28.420" starttime="20191114 01:50:28.419"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:28.420" starttime="20191114 01:50:25.792"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=-4 /tmp/testfile6.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:28.424" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-75371 --key putobject/f1 --range bytes=-4 /tmp/testfile6.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:42.238" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:50:42.238" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:42.239" starttime="20191114 01:50:28.422"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:42.240" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:42.240" starttime="20191114 01:50:42.239"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:42.240" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:50:42.241" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:50:42.241" starttime="20191114 01:50:42.240"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:42.241" starttime="20191114 01:50:28.422"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:42.241" starttime="20191114 01:50:28.421"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:42.241" critical="yes" starttime="20191114 01:50:25.791">255 != 0</status>
</test>
<test id="s1-s9-t9" name="Incorrect values for end and start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:42.245" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:42.250" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:50:42.251" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:50:42.251" starttime="20191114 01:50:42.244"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:42.252" starttime="20191114 01:50:42.251"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:42.255" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:42.426" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:42.427" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:50:42.427" starttime="20191114 01:50:42.253"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:42.432" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:43.079" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:43.079" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 01:50:43.079" starttime="20191114 01:50:42.429"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:43.080" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.sfo12.us.leaseweb.net
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:50:43.080" starttime="20191114 01:50:43.079"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:43.081" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:43.081" starttime="20191114 01:50:43.080"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:43.081" starttime="20191114 01:50:42.429"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:43.081" starttime="20191114 01:50:42.428"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:43.081" starttime="20191114 01:50:42.427"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:43.082" starttime="20191114 01:50:42.243"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:43.082" starttime="20191114 01:50:42.243"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:43.083" starttime="20191114 01:50:43.083"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:43.084" starttime="20191114 01:50:43.083"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:43.087" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:43.458" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:43.458" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:43.458" starttime="20191114 01:50:43.085"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:43.460" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:43.460" starttime="20191114 01:50:43.459"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:43.461" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:43.462" starttime="20191114 01:50:43.461"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:43.462" starttime="20191114 01:50:43.085"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:43.465" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:43.904" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:43.904" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:43.904" starttime="20191114 01:50:43.463"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:43.906" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:43.906" starttime="20191114 01:50:43.905"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:43.907" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:43.907" starttime="20191114 01:50:43.906"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:43.907" starttime="20191114 01:50:43.462"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:43.910" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:44.285" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:44.286" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:44.286" starttime="20191114 01:50:43.908"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:44.287" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:44.287" starttime="20191114 01:50:44.286"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:44.287" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:44.288" starttime="20191114 01:50:44.287"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:44.288" starttime="20191114 01:50:43.907"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:44.290" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:44.713" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:44.713" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:44.713" starttime="20191114 01:50:44.289"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:44.715" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:44.715" starttime="20191114 01:50:44.714"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:44.716" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:44.716" starttime="20191114 01:50:44.715"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:44.717" starttime="20191114 01:50:44.288"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:44.717" starttime="20191114 01:50:43.084"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:44.717" starttime="20191114 01:50:43.084"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:44.717" starttime="20191114 01:50:43.082"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:44.718" starttime="20191114 01:50:43.082"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:44.719" starttime="20191114 01:50:44.718"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:44.719" starttime="20191114 01:50:42.242"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=-11-10000 /tmp/testfile8.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:44.724" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-75371 --key putobject/f1 --range bytes=-11-10000 /tmp/testfile8.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:52.868" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:50:52.869" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:52.869" starttime="20191114 01:50:44.722"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:52.870" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:50:52.871" starttime="20191114 01:50:52.869"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:52.872" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:50:52.872" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:50:52.873" starttime="20191114 01:50:52.871"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:52.873" starttime="20191114 01:50:44.721"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:52.873" starttime="20191114 01:50:44.720"></status>
</kw>
<status status="FAIL" endtime="20191114 01:50:52.874" critical="yes" starttime="20191114 01:50:42.242">255 != 0</status>
</test>
<test id="s1-s9-t10" name="Zero byte file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:52.879" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:52.885" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:50:52.886" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:50:52.886" starttime="20191114 01:50:52.877"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:52.888" starttime="20191114 01:50:52.887"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:52.890" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:53.077" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:53.078" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:50:53.078" starttime="20191114 01:50:52.888"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:53.084" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:53.827" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:53.827" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:50:53.827" starttime="20191114 01:50:53.082"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:53.829" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:50:53.829" starttime="20191114 01:50:53.828"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:53.829" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:53.829" starttime="20191114 01:50:53.829"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:53.830" starttime="20191114 01:50:53.081"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:53.830" starttime="20191114 01:50:53.080"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:53.830" starttime="20191114 01:50:53.079"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:53.830" starttime="20191114 01:50:52.876"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:53.830" starttime="20191114 01:50:52.875"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:53.832" starttime="20191114 01:50:53.832"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:53.833" starttime="20191114 01:50:53.832"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:53.836" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:54.653" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:54.654" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:54.654" starttime="20191114 01:50:53.834"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:54.655" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:54.655" starttime="20191114 01:50:54.655"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:54.656" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:54.656" starttime="20191114 01:50:54.656"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:54.657" starttime="20191114 01:50:53.834"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:54.660" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:55.042" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:55.042" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:55.042" starttime="20191114 01:50:54.658"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:55.044" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:55.045" starttime="20191114 01:50:55.043"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:55.045" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:55.046" starttime="20191114 01:50:55.045"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:55.046" starttime="20191114 01:50:54.657"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:55.050" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:55.470" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:55.470" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:55.471" starttime="20191114 01:50:55.047"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:55.472" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:55.472" starttime="20191114 01:50:55.471"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:55.474" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:55.474" starttime="20191114 01:50:55.472"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:55.474" starttime="20191114 01:50:55.046"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:55.477" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:50:55.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:50:55.934" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:50:55.935" starttime="20191114 01:50:55.475"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:50:55.936" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:50:55.936" starttime="20191114 01:50:55.935"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:50:55.937" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:50:55.938" starttime="20191114 01:50:55.937"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:55.938" starttime="20191114 01:50:55.474"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:55.938" starttime="20191114 01:50:53.833"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:55.938" starttime="20191114 01:50:53.833"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:55.939" starttime="20191114 01:50:53.831"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:55.939" starttime="20191114 01:50:53.831"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 01:50:55.940" starttime="20191114 01:50:55.939"></status>
</kw>
<status status="PASS" endtime="20191114 01:50:55.940" starttime="20191114 01:50:52.875"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/zerobyte --range bytes=0-0 /tmp/testfile2.result</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:50:55.945" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-75371 --key putobject/zerobyte --range bytes=0-0 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:51:06.008" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:51:06.008" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:51:06.008" starttime="20191114 01:50:55.943"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:51:06.010" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:51:06.010" starttime="20191114 01:51:06.009"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 01:51:06.011" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:51:06.012" starttime="20191114 01:51:06.011"></status>
</kw>
<msg timestamp="20191114 01:51:06.012" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:51:06.012" starttime="20191114 01:50:55.942"></status>
</kw>
<msg timestamp="20191114 01:51:06.013" level="INFO">${result} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:51:06.013" starttime="20191114 01:50:55.941"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>InvalidRange</arg>
</arguments>
<msg timestamp="20191114 01:51:06.014" level="FAIL">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</msg>
<status status="FAIL" endtime="20191114 01:51:06.014" starttime="20191114 01:51:06.013"></status>
</kw>
<status status="FAIL" endtime="20191114 01:51:06.015" critical="yes" starttime="20191114 01:50:52.874">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 01:51:06.018" starttime="20191114 01:49:14.796"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/webui.robot" id="s1-s10" name="Webui">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:51:06.039" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:51:06.046" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 01:51:06.046" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 01:51:06.046" starttime="20191114 01:51:06.037"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 01:51:06.048" starttime="20191114 01:51:06.047"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:51:06.051" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:51:06.247" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:51:06.247" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 01:51:06.248" starttime="20191114 01:51:06.049"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:51:06.253" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:51:06.953" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:51:06.953" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
...</msg>
<status status="PASS" endtime="20191114 01:51:06.953" starttime="20191114 01:51:06.251"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:51:06.955" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.keystealth.org
 * epel: mirror.umd.edu
 * extras: mirror.keystealth.org
 * updates: mirror.keystealth.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 01:51:06.955" starttime="20191114 01:51:06.954"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:51:06.956" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:51:06.956" starttime="20191114 01:51:06.955"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:06.957" starttime="20191114 01:51:06.250"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:06.957" starttime="20191114 01:51:06.249"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:06.957" starttime="20191114 01:51:06.248"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:06.957" starttime="20191114 01:51:06.037"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:06.957" starttime="20191114 01:51:06.036"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 01:51:06.960" starttime="20191114 01:51:06.959"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 01:51:06.961" starttime="20191114 01:51:06.960"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:51:06.965" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:51:07.375" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:51:07.375" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:51:07.375" starttime="20191114 01:51:06.963"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:51:07.377" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:51:07.377" starttime="20191114 01:51:07.376"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:51:07.378" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:51:07.378" starttime="20191114 01:51:07.377"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:07.379" starttime="20191114 01:51:06.962"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:51:07.382" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:51:07.824" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:51:07.825" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:51:07.825" starttime="20191114 01:51:07.380"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:51:07.826" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:51:07.826" starttime="20191114 01:51:07.825"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:51:07.827" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:51:07.828" starttime="20191114 01:51:07.827"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:07.828" starttime="20191114 01:51:07.379"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:51:07.831" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:51:08.261" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:51:08.262" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:51:08.262" starttime="20191114 01:51:07.829"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:51:08.263" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:51:08.264" starttime="20191114 01:51:08.262"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:51:08.264" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:51:08.265" starttime="20191114 01:51:08.264"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:08.265" starttime="20191114 01:51:07.828"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:51:08.268" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:51:08.721" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 01:51:08.721" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 01:51:08.721" starttime="20191114 01:51:08.266"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:51:08.742" level="INFO"></msg>
<status status="PASS" endtime="20191114 01:51:08.742" starttime="20191114 01:51:08.722"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:51:08.742" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 01:51:08.743" starttime="20191114 01:51:08.742"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:08.743" starttime="20191114 01:51:08.265"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:08.743" starttime="20191114 01:51:06.962"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:08.743" starttime="20191114 01:51:06.961"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:08.743" starttime="20191114 01:51:06.959"></status>
</kw>
<status status="PASS" endtime="20191114 01:51:08.743" starttime="20191114 01:51:06.958"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 01:51:08.745" level="INFO">${postfix} = 16789</msg>
<status status="PASS" endtime="20191114 01:51:08.745" starttime="20191114 01:51:08.745"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 01:51:08.746" level="INFO">${BUCKET} = bucket-16789</msg>
<status status="PASS" endtime="20191114 01:51:08.746" starttime="20191114 01:51:08.746"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 01:51:08.749" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-16789 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 01:51:13.565" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 01:51:13.565" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:51:13.565" starttime="20191114 01:51:08.748"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 01:51:13.567" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 01:51:13.567" starttime="20191114 01:51:13.566"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 01:51:13.567" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 01:51:13.568" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 01:51:13.568" starttime="20191114 01:51:13.567"></status>
</kw>
<status status="FAIL" endtime="20191114 01:51:13.568" starttime="20191114 01:51:08.747"></status>
</kw>
<status status="FAIL" endtime="20191114 01:51:13.569" starttime="20191114 01:51:08.746"></status>
</kw>
<status status="FAIL" endtime="20191114 01:51:13.569" starttime="20191114 01:51:08.744"></status>
</kw>
<status status="FAIL" endtime="20191114 01:51:13.569" starttime="20191114 01:51:08.744"></status>
</kw>
<status status="FAIL" endtime="20191114 01:51:13.569" starttime="20191114 01:51:06.036"></status>
</kw>
<test id="s1-s10-t1" name="S3 Gateway Web UI">
<status status="FAIL" endtime="20191114 01:51:13.570" critical="yes" starttime="20191114 01:51:13.570">Parent suite setup failed:
255 != 0</status>
</test>
<doc>S3 gateway web ui test</doc>
<status status="FAIL" endtime="20191114 01:51:13.571" starttime="20191114 01:51:06.025">Suite setup failed:
255 != 0</status>
</suite>
<status status="FAIL" endtime="20191114 01:51:13.578" starttime="20191114 01:42:53.837"></status>
</suite>
<statistics>
<total>
<stat fail="36" pass="1">Critical Tests</stat>
<stat fail="36" pass="1">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="36" id="s1" name="ozone-om-ha-s3-s3" pass="1">ozone-om-ha-s3-s3</stat>
<stat fail="1" id="s1-s1" name="Awss3" pass="0">ozone-om-ha-s3-s3.Awss3</stat>
<stat fail="1" id="s1-s2" name="Bucketcreate" pass="0">ozone-om-ha-s3-s3.Bucketcreate</stat>
<stat fail="1" id="s1-s3" name="Buckethead" pass="0">ozone-om-ha-s3-s3.Buckethead</stat>
<stat fail="1" id="s1-s4" name="Bucketlist" pass="0">ozone-om-ha-s3-s3.Bucketlist</stat>
<stat fail="11" id="s1-s5" name="MultipartUpload" pass="1">ozone-om-ha-s3-s3.MultipartUpload</stat>
<stat fail="4" id="s1-s6" name="Objectcopy" pass="0">ozone-om-ha-s3-s3.Objectcopy</stat>
<stat fail="5" id="s1-s7" name="Objectdelete" pass="0">ozone-om-ha-s3-s3.Objectdelete</stat>
<stat fail="1" id="s1-s8" name="Objectmultidelete" pass="0">ozone-om-ha-s3-s3.Objectmultidelete</stat>
<stat fail="10" id="s1-s9" name="Objectputget" pass="0">ozone-om-ha-s3-s3.Objectputget</stat>
<stat fail="1" id="s1-s10" name="Webui" pass="0">ozone-om-ha-s3-s3.Webui</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
