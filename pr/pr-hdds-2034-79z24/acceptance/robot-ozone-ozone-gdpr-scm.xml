<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20191031 09:37:05.658" generator="Robot 3.1.2 (Python 2.7.5 on linux2)">
<suite source="/opt/hadoop/smoketest/gdpr/gdpr.robot" id="s1" name="ozone-gdpr">
<kw type="setup" name="Generate volume">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[LOWER]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20191031 09:37:05.712" level="INFO">${random} = drqqp</msg>
<status status="PASS" endtime="20191031 09:37:05.712" starttime="20191031 09:37:05.711"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${volume}</arg>
<arg>${random}</arg>
</arguments>
<msg timestamp="20191031 09:37:05.712" level="INFO">${volume} = drqqp</msg>
<status status="PASS" endtime="20191031 09:37:05.712" starttime="20191031 09:37:05.712"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:05.712" starttime="20191031 09:37:05.710"></status>
</kw>
<test id="s1-t1" name="Test GDPR disabled">
<kw name="Test GDPR(disabled) without explicit options">
<arguments>
<arg>${volume}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh volume create /${volume} --quota 100TB</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:05.715" level="INFO">Running command 'ozone sh volume create /drqqp --quota 100TB 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:07.902" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:07.903" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:07.903" starttime="20191031 09:37:05.714"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:07.904" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:07.904" starttime="20191031 09:37:07.903"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:07.905" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:07.905" starttime="20191031 09:37:07.904"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:07.906" starttime="20191031 09:37:05.713"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh bucket create /${volume}/mybucket1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:07.909" level="INFO">Running command 'ozone sh bucket create /drqqp/mybucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:10.212" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:10.212" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:10.213" starttime="20191031 09:37:07.907"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:10.214" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:10.214" starttime="20191031 09:37:10.213"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:10.214" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:10.214" starttime="20191031 09:37:10.214"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:10.215" starttime="20191031 09:37:07.906"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh bucket info /${volume}/mybucket1 | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mybucket1") | .metadata | .gdprEnabled'</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:10.217" level="INFO">Running command 'ozone sh bucket info /drqqp/mybucket1 | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mybucket1") | .metadata | .gdprEnabled' 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:12.559" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:12.559" level="INFO">${output} = null</msg>
<status status="PASS" endtime="20191031 09:37:12.560" starttime="20191031 09:37:10.216"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:12.561" level="INFO">null</msg>
<status status="PASS" endtime="20191031 09:37:12.562" starttime="20191031 09:37:12.560"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:12.563" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:12.563" starttime="20191031 09:37:12.562"></status>
</kw>
<msg timestamp="20191031 09:37:12.564" level="INFO">${result} = null</msg>
<status status="PASS" endtime="20191031 09:37:12.564" starttime="20191031 09:37:10.215"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${result}</arg>
<arg>null</arg>
</arguments>
<status status="PASS" endtime="20191031 09:37:12.565" starttime="20191031 09:37:12.564"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key put /${volume}/mybucket1/mykey /opt/hadoop/NOTICE.txt</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:12.569" level="INFO">Running command 'ozone sh key put /drqqp/mybucket1/mykey /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:16.866" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:16.867" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil (file:/opt/hadoop/share/ozone/lib/ratis-th...</msg>
<status status="PASS" endtime="20191031 09:37:16.867" starttime="20191031 09:37:12.567"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:16.869" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil (file:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.2.0.jar) to field java.nio.Buffer.address
WARNING: Please consider reporting this to the maintainers of org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release</msg>
<status status="PASS" endtime="20191031 09:37:16.869" starttime="20191031 09:37:16.868"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:16.870" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:16.870" starttime="20191031 09:37:16.869"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:16.871" starttime="20191031 09:37:12.566"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>rm -f NOTICE.txt.1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:16.875" level="INFO">Running command 'rm -f NOTICE.txt.1 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:16.883" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:16.883" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:16.883" starttime="20191031 09:37:16.872"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:16.885" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:16.885" starttime="20191031 09:37:16.884"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:16.886" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:16.886" starttime="20191031 09:37:16.885"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:16.886" starttime="20191031 09:37:16.871"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key info /${volume}/mybucket1/mykey | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mykey") | .metadata | .gdprEnabled'</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:16.890" level="INFO">Running command 'ozone sh key info /drqqp/mybucket1/mykey | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mykey") | .metadata | .gdprEnabled' 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:19.153" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:19.153" level="INFO">${output} = null</msg>
<status status="PASS" endtime="20191031 09:37:19.153" starttime="20191031 09:37:16.888"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:19.155" level="INFO">null</msg>
<status status="PASS" endtime="20191031 09:37:19.155" starttime="20191031 09:37:19.154"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:19.155" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:19.156" starttime="20191031 09:37:19.155"></status>
</kw>
<msg timestamp="20191031 09:37:19.156" level="INFO">${result} = null</msg>
<status status="PASS" endtime="20191031 09:37:19.156" starttime="20191031 09:37:16.887"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${result}</arg>
<arg>null</arg>
</arguments>
<status status="PASS" endtime="20191031 09:37:19.157" starttime="20191031 09:37:19.156"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key delete /${volume}/mybucket1/mykey</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:19.160" level="INFO">Running command 'ozone sh key delete /drqqp/mybucket1/mykey 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:21.421" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:21.421" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:21.422" starttime="20191031 09:37:19.158"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:21.423" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:21.424" starttime="20191031 09:37:21.422"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:21.425" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:21.425" starttime="20191031 09:37:21.424"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:21.426" starttime="20191031 09:37:19.157"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:21.426" starttime="20191031 09:37:05.713"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:21.427" critical="yes" starttime="20191031 09:37:05.713"></status>
</test>
<test id="s1-t2" name="Test GDPR --enforcegdpr=true">
<kw name="Test GDPR with --enforcegdpr=true">
<arguments>
<arg>${volume}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh bucket create --enforcegdpr=true /${volume}/mybucket2</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:21.431" level="INFO">Running command 'ozone sh bucket create --enforcegdpr=true /drqqp/mybucket2 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:23.604" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:23.604" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:23.604" starttime="20191031 09:37:21.429"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:23.606" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:23.606" starttime="20191031 09:37:23.605"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:23.607" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:23.607" starttime="20191031 09:37:23.606"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:23.607" starttime="20191031 09:37:21.429"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh bucket info /${volume}/mybucket2 | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mybucket2") | .metadata | .gdprEnabled'</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:23.612" level="INFO">Running command 'ozone sh bucket info /drqqp/mybucket2 | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mybucket2") | .metadata | .gdprEnabled' 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:25.855" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:25.855" level="INFO">${output} = true</msg>
<status status="PASS" endtime="20191031 09:37:25.855" starttime="20191031 09:37:23.609"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:25.857" level="INFO">true</msg>
<status status="PASS" endtime="20191031 09:37:25.857" starttime="20191031 09:37:25.856"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:25.858" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:25.858" starttime="20191031 09:37:25.857"></status>
</kw>
<msg timestamp="20191031 09:37:25.859" level="INFO">${result} = true</msg>
<status status="PASS" endtime="20191031 09:37:25.859" starttime="20191031 09:37:23.608"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${result}</arg>
<arg>true</arg>
</arguments>
<status status="PASS" endtime="20191031 09:37:25.860" starttime="20191031 09:37:25.859"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key put /${volume}/mybucket2/mykey /opt/hadoop/NOTICE.txt</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:25.864" level="INFO">Running command 'ozone sh key put /drqqp/mybucket2/mykey /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:30.262" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:30.262" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil (file:/opt/hadoop/share/ozone/lib/ratis-th...</msg>
<status status="PASS" endtime="20191031 09:37:30.262" starttime="20191031 09:37:25.862"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:30.263" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil (file:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.2.0.jar) to field java.nio.Buffer.address
WARNING: Please consider reporting this to the maintainers of org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release</msg>
<status status="PASS" endtime="20191031 09:37:30.264" starttime="20191031 09:37:30.263"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:30.264" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:30.265" starttime="20191031 09:37:30.264"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:30.265" starttime="20191031 09:37:25.860"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>rm -f NOTICE.txt.1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:30.268" level="INFO">Running command 'rm -f NOTICE.txt.1 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:30.275" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:30.275" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:30.276" starttime="20191031 09:37:30.266"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:30.277" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:30.277" starttime="20191031 09:37:30.276"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:30.278" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:30.279" starttime="20191031 09:37:30.278"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:30.279" starttime="20191031 09:37:30.265"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key info /${volume}/mybucket2/mykey | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mykey") | .metadata | .gdprEnabled'</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:30.283" level="INFO">Running command 'ozone sh key info /drqqp/mybucket2/mykey | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mykey") | .metadata | .gdprEnabled' 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:32.599" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:32.600" level="INFO">${output} = true</msg>
<status status="PASS" endtime="20191031 09:37:32.600" starttime="20191031 09:37:30.280"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:32.601" level="INFO">true</msg>
<status status="PASS" endtime="20191031 09:37:32.602" starttime="20191031 09:37:32.600"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:32.602" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:32.603" starttime="20191031 09:37:32.602"></status>
</kw>
<msg timestamp="20191031 09:37:32.603" level="INFO">${result} = true</msg>
<status status="PASS" endtime="20191031 09:37:32.603" starttime="20191031 09:37:30.279"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${result}</arg>
<arg>true</arg>
</arguments>
<status status="PASS" endtime="20191031 09:37:32.604" starttime="20191031 09:37:32.604"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key delete /${volume}/mybucket2/mykey</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:32.608" level="INFO">Running command 'ozone sh key delete /drqqp/mybucket2/mykey 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:34.880" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:34.880" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:34.880" starttime="20191031 09:37:32.606"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:34.881" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:34.881" starttime="20191031 09:37:34.881"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:34.882" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:34.882" starttime="20191031 09:37:34.882"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:34.882" starttime="20191031 09:37:32.605"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:34.883" starttime="20191031 09:37:21.428"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:34.883" critical="yes" starttime="20191031 09:37:21.427"></status>
</test>
<test id="s1-t3" name="Test GDPR -g=true">
<kw name="Test GDPR with -g=true">
<arguments>
<arg>${volume}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh bucket create -g=true /${volume}/mybucket3</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:34.886" level="INFO">Running command 'ozone sh bucket create -g=true /drqqp/mybucket3 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:37.168" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:37.168" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:37.168" starttime="20191031 09:37:34.885"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:37.170" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:37.170" starttime="20191031 09:37:37.169"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:37.172" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:37.172" starttime="20191031 09:37:37.170"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:37.172" starttime="20191031 09:37:34.884"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh bucket info /${volume}/mybucket3 | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mybucket3") | .metadata | .gdprEnabled'</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:37.176" level="INFO">Running command 'ozone sh bucket info /drqqp/mybucket3 | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mybucket3") | .metadata | .gdprEnabled' 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:39.331" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:39.331" level="INFO">${output} = true</msg>
<status status="PASS" endtime="20191031 09:37:39.331" starttime="20191031 09:37:37.174"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:39.333" level="INFO">true</msg>
<status status="PASS" endtime="20191031 09:37:39.333" starttime="20191031 09:37:39.332"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:39.334" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:39.334" starttime="20191031 09:37:39.333"></status>
</kw>
<msg timestamp="20191031 09:37:39.335" level="INFO">${result} = true</msg>
<status status="PASS" endtime="20191031 09:37:39.335" starttime="20191031 09:37:37.173"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${result}</arg>
<arg>true</arg>
</arguments>
<status status="PASS" endtime="20191031 09:37:39.336" starttime="20191031 09:37:39.335"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key put /${volume}/mybucket3/mykey /opt/hadoop/NOTICE.txt</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:39.339" level="INFO">Running command 'ozone sh key put /drqqp/mybucket3/mykey /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:43.849" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:43.849" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil (file:/opt/hadoop/share/ozone/lib/ratis-th...</msg>
<status status="PASS" endtime="20191031 09:37:43.850" starttime="20191031 09:37:39.337"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:43.851" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil (file:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.2.0.jar) to field java.nio.Buffer.address
WARNING: Please consider reporting this to the maintainers of org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release</msg>
<status status="PASS" endtime="20191031 09:37:43.852" starttime="20191031 09:37:43.850"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:43.853" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:43.853" starttime="20191031 09:37:43.852"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:43.853" starttime="20191031 09:37:39.336"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>rm -f NOTICE.txt.1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:43.857" level="INFO">Running command 'rm -f NOTICE.txt.1 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:43.865" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:43.866" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:43.866" starttime="20191031 09:37:43.854"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:43.868" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:43.868" starttime="20191031 09:37:43.867"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:43.869" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:43.869" starttime="20191031 09:37:43.868"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:43.870" starttime="20191031 09:37:43.854"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key info /${volume}/mybucket3/mykey | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mykey") | .metadata | .gdprEnabled'</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:43.873" level="INFO">Running command 'ozone sh key info /drqqp/mybucket3/mykey | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mykey") | .metadata | .gdprEnabled' 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:46.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:46.132" level="INFO">${output} = true</msg>
<status status="PASS" endtime="20191031 09:37:46.132" starttime="20191031 09:37:43.871"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:46.134" level="INFO">true</msg>
<status status="PASS" endtime="20191031 09:37:46.134" starttime="20191031 09:37:46.133"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:46.135" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:46.135" starttime="20191031 09:37:46.134"></status>
</kw>
<msg timestamp="20191031 09:37:46.136" level="INFO">${result} = true</msg>
<status status="PASS" endtime="20191031 09:37:46.136" starttime="20191031 09:37:43.870"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${result}</arg>
<arg>true</arg>
</arguments>
<status status="PASS" endtime="20191031 09:37:46.137" starttime="20191031 09:37:46.136"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key delete /${volume}/mybucket3/mykey</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:46.141" level="INFO">Running command 'ozone sh key delete /drqqp/mybucket3/mykey 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:48.572" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:48.572" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:48.572" starttime="20191031 09:37:46.138"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:48.574" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:48.575" starttime="20191031 09:37:48.573"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:48.575" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:48.576" starttime="20191031 09:37:48.575"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:48.576" starttime="20191031 09:37:46.137"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:48.577" starttime="20191031 09:37:34.884"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:48.577" critical="yes" starttime="20191031 09:37:34.883"></status>
</test>
<test id="s1-t4" name="Test GDPR -g=false">
<kw name="Test GDPR with -g=false">
<arguments>
<arg>${volume}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh bucket create /${volume}/mybucket4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:48.583" level="INFO">Running command 'ozone sh bucket create /drqqp/mybucket4 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:50.838" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:50.838" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:50.838" starttime="20191031 09:37:48.581"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:50.839" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:50.840" starttime="20191031 09:37:50.839"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:50.840" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:50.841" starttime="20191031 09:37:50.840"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:50.841" starttime="20191031 09:37:48.580"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh bucket info /${volume}/mybucket4 | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mybucket4") | .metadata | .gdprEnabled'</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:50.844" level="INFO">Running command 'ozone sh bucket info /drqqp/mybucket4 | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mybucket4") | .metadata | .gdprEnabled' 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:53.040" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:53.040" level="INFO">${output} = null</msg>
<status status="PASS" endtime="20191031 09:37:53.040" starttime="20191031 09:37:50.842"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:53.042" level="INFO">null</msg>
<status status="PASS" endtime="20191031 09:37:53.042" starttime="20191031 09:37:53.041"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:53.042" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:53.043" starttime="20191031 09:37:53.042"></status>
</kw>
<msg timestamp="20191031 09:37:53.043" level="INFO">${result} = null</msg>
<status status="PASS" endtime="20191031 09:37:53.043" starttime="20191031 09:37:50.841"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${result}</arg>
<arg>null</arg>
</arguments>
<status status="PASS" endtime="20191031 09:37:53.044" starttime="20191031 09:37:53.044"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key put /${volume}/mybucket4/mykey /opt/hadoop/NOTICE.txt</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:53.047" level="INFO">Running command 'ozone sh key put /drqqp/mybucket4/mykey /opt/hadoop/NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:57.513" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:57.513" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil (file:/opt/hadoop/share/ozone/lib/ratis-th...</msg>
<status status="PASS" endtime="20191031 09:37:57.513" starttime="20191031 09:37:53.045"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:57.515" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil (file:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.2.0.jar) to field java.nio.Buffer.address
WARNING: Please consider reporting this to the maintainers of org.apache.ratis.thirdparty.com.google.protobuf.UnsafeUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release</msg>
<status status="PASS" endtime="20191031 09:37:57.515" starttime="20191031 09:37:57.514"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:57.516" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:57.516" starttime="20191031 09:37:57.515"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:57.516" starttime="20191031 09:37:53.044"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>rm -f NOTICE.txt.1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:57.519" level="INFO">Running command 'rm -f NOTICE.txt.1 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:57.526" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:57.526" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:37:57.526" starttime="20191031 09:37:57.517"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:57.528" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:37:57.528" starttime="20191031 09:37:57.527"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:57.529" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:57.530" starttime="20191031 09:37:57.529"></status>
</kw>
<status status="PASS" endtime="20191031 09:37:57.530" starttime="20191031 09:37:57.516"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key info /${volume}/mybucket4/mykey | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mykey") | .metadata | .gdprEnabled'</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:57.534" level="INFO">Running command 'ozone sh key info /drqqp/mybucket4/mykey | grep -Ev 'Removed|WARN|DEBUG|ERROR|INFO|TRACE' | jq -r '. | select(.name=="mykey") | .metadata | .gdprEnabled' 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:37:59.849" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:37:59.849" level="INFO">${output} = null</msg>
<status status="PASS" endtime="20191031 09:37:59.849" starttime="20191031 09:37:57.532"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:37:59.850" level="INFO">null</msg>
<status status="PASS" endtime="20191031 09:37:59.850" starttime="20191031 09:37:59.849"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:37:59.851" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:37:59.851" starttime="20191031 09:37:59.851"></status>
</kw>
<msg timestamp="20191031 09:37:59.852" level="INFO">${result} = null</msg>
<status status="PASS" endtime="20191031 09:37:59.852" starttime="20191031 09:37:57.530"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${result}</arg>
<arg>null</arg>
</arguments>
<status status="PASS" endtime="20191031 09:37:59.852" starttime="20191031 09:37:59.852"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone sh key delete /${volume}/mybucket4/mykey</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191031 09:37:59.855" level="INFO">Running command 'ozone sh key delete /drqqp/mybucket4/mykey 2&gt;&amp;1'.</msg>
<msg timestamp="20191031 09:38:02.048" level="INFO">${rc} = 0</msg>
<msg timestamp="20191031 09:38:02.049" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191031 09:38:02.049" starttime="20191031 09:37:59.853"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191031 09:38:02.050" level="INFO"></msg>
<status status="PASS" endtime="20191031 09:38:02.050" starttime="20191031 09:38:02.049"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191031 09:38:02.051" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191031 09:38:02.051" starttime="20191031 09:38:02.050"></status>
</kw>
<status status="PASS" endtime="20191031 09:38:02.051" starttime="20191031 09:37:59.853"></status>
</kw>
<status status="PASS" endtime="20191031 09:38:02.051" starttime="20191031 09:37:48.579"></status>
</kw>
<status status="PASS" endtime="20191031 09:38:02.052" critical="yes" starttime="20191031 09:37:48.578"></status>
</test>
<doc>Smoketest Ozone GDPR Feature</doc>
<status status="PASS" endtime="20191031 09:38:02.053" starttime="20191031 09:37:05.659"></status>
</suite>
<statistics>
<total>
<stat fail="0" pass="4">Critical Tests</stat>
<stat fail="0" pass="4">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="0" id="s1" name="ozone-gdpr" pass="4">ozone-gdpr</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
