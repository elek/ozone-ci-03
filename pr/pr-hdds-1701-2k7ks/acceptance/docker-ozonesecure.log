Attaching to ozonesecure_datanode_2, ozonesecure_datanode_3, ozonesecure_datanode_1, ozonesecure_kms_1, ozonesecure_om_1, ozonesecure_scm_1, ozonesecure_s3g_1, ozonesecure_recon_1, ozonesecure_kdc_1
datanode_2  | To use Ozone please mount ozone folder to /opt/hadoop
datanode_2  | WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
datanode_2  | log4j:WARN No appenders could be found for logger (org.apache.hadoop.util.Shell).
datanode_2  | log4j:WARN Please initialize the log4j system properly.
datanode_2  | log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
kms_1       | Sleeping for 5 seconds
datanode_3  | To use Ozone please mount ozone folder to /opt/hadoop
kms_1       | Setting up kerberos!!
datanode_3  | WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
om_1        | To use Ozone please mount ozone folder to /opt/hadoop
kms_1       | KDC ISSUER_SERVER => kdc:8081
datanode_1  | To use Ozone please mount ozone folder to /opt/hadoop
datanode_3  | log4j:WARN No appenders could be found for logger (org.apache.hadoop.util.Shell).
scm_1       | To use Ozone please mount ozone folder to /opt/hadoop
om_1        | WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
kms_1       | /opt/starter.sh: line 66: SLEEP_SECONDS: command not found
datanode_1  | WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
s3g_1       | To use Ozone please mount ozone folder to /opt/hadoop
datanode_3  | log4j:WARN Please initialize the log4j system properly.
recon_1     | To use Ozone please mount ozone folder to /opt/hadoop
om_1        | Ozone Manager classpath extended by 
scm_1       | WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
kms_1       | Sleeping for  seconds
kdc_1       | Issuer is listening on : 8081krb5kdc: starting...
datanode_1  | log4j:WARN No appenders could be found for logger (org.apache.hadoop.util.Shell).
s3g_1       | WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
datanode_3  | log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
recon_1     | WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
om_1        | log4j:WARN No appenders could be found for logger (io.jaegertracing.thrift.internal.senders.ThriftSenderFactory).
scm_1       | log4j:WARN No appenders could be found for logger (io.jaegertracing.thrift.internal.senders.ThriftSenderFactory).
kms_1       | Got 200, KDC service ready!!
kdc_1       | Oct 31 13:05:55 924ef90d3a58 kdb5_util[1](info): No dictionary file specified, continuing without one.
datanode_1  | log4j:WARN Please initialize the log4j system properly.
s3g_1       | log4j:WARN No appenders could be found for logger (org.apache.hadoop.metrics2.lib.MutableMetricsFactory).
recon_1     | log4j:WARN No appenders could be found for logger (org.apache.hadoop.metrics2.lib.MutableMetricsFactory).
om_1        | log4j:WARN Please initialize the log4j system properly.
scm_1       | log4j:WARN Please initialize the log4j system properly.
kms_1       | Download dn/d6792e013a8b@EXAMPLE.COM keytab file to /etc/security/keytabs/dn.keytab
kdc_1       | Oct 31 13:05:56 0e0aac8c80d1 kadmin.local[1](info): No dictionary file specified, continuing without one.
datanode_1  | log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
s3g_1       | log4j:WARN Please initialize the log4j system properly.
recon_1     | log4j:WARN Please initialize the log4j system properly.
om_1        | log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
scm_1       | log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
kms_1       | --2019-10-31 13:06:21--  http://kdc:8081/keytab/d6792e013a8b/dn
kdc_1       | Oct 31 13:05:58 dd9ad5f79e1f kadmin.local[1](info): No dictionary file specified, continuing without one.
s3g_1       | log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
recon_1     | log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
om_1        | ERROR StatusLogger File not found in file system or classpath: /etc/hadoop/om-audit-log4j2.properties
scm_1       | SCM cannot be started in secure mode or when ozone.enabled is set to false
kms_1       | Resolving kdc (kdc)... 172.18.0.2
s3g_1       | ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
kdc_1       | otp: Loaded
recon_1     | WARNING: An illegal reflective access operation has occurred
om_1        | ERROR StatusLogger Reconfiguration failed: No configuration found for '8bcc55f' at 'null' in 'null'
kms_1       | Connecting to kdc (kdc)|172.18.0.2|:8081... connected.
s3g_1       | WARNING: An illegal reflective access operation has occurred
kdc_1       | Oct 31 13:06:07 kdc krb5kdc[9](info): setting up network...
recon_1     | WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$2 (file:/opt/hadoop/share/ozone/lib/guice-4.0.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)
om_1        | ozone.metadata.dirs must be defined.
kms_1       | HTTP request sent, awaiting response... 200 OK
kdc_1       | krb5kdc: setsockopt(9,IPV6_V6ONLY,1) worked
s3g_1       | WARNING: Illegal reflective access by org.jboss.classfilewriter.ClassFile$1 (file:/opt/hadoop/share/ozone/lib/weld-servlet-2.4.7.Final.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)
recon_1     | WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$2
kms_1       | Length: 158 [application/octet-stream]
kdc_1       | krb5kdc: setsockopt(11,IPV6_V6ONLY,1) worked
s3g_1       | WARNING: Please consider reporting this to the maintainers of org.jboss.classfilewriter.ClassFile$1
recon_1     | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
kms_1       | Saving to: '/etc/security/keytabs/dn.keytab'
kdc_1       | Oct 31 13:06:07 kdc krb5kdc[9](info): set up 4 sockets
recon_1     | WARNING: All illegal access operations will be denied in a future release
s3g_1       | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
kms_1       | 
kdc_1       | Oct 31 13:06:07 kdc krb5kdc[9](info): commencing operation
recon_1     | java.lang.NullPointerException
s3g_1       | WARNING: All illegal access operations will be denied in a future release
kms_1       |      0K                                                       100% 16.2M=0s
kdc_1       | Generiting keytab
recon_1     | 	at org.apache.hadoop.ozone.recon.ReconServer.stop(ReconServer.java:115)
s3g_1       | Oct 31, 2019 1:06:16 PM org.glassfish.jersey.internal.Errors logErrors
kms_1       | 
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
recon_1     | 	at org.apache.hadoop.ozone.recon.ReconServer.call(ReconServer.java:100)
s3g_1       | WARNING: The following warnings have been detected: WARNING: A HTTP GET method, public javax.ws.rs.core.Response org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.get(java.lang.String,java.lang.String,java.lang.String,int,java.lang.String,java.io.InputStream) throws java.io.IOException,org.apache.hadoop.ozone.s3.exception.OS3Exception, should not consume any entity.
kms_1       | 2019-10-31 13:06:21 (16.2 MB/s) - '/etc/security/keytabs/dn.keytab' saved [158/158]
kdc_1       | kadmind: starting...
recon_1     | 	at org.apache.hadoop.ozone.recon.ReconServer.call(ReconServer.java:41)
s3g_1       | 
kms_1       | 
kdc_1       | WARNING: no policy specified for test/test@EXAMPLE.COM; defaulting to no policy
recon_1     | 	at picocli.CommandLine.execute(CommandLine.java:1173)
kms_1       | Keytab name: FILE:/etc/security/keytabs/dn.keytab
kdc_1       | Principal "test/test@EXAMPLE.COM" created.
recon_1     | 	at picocli.CommandLine.access$800(CommandLine.java:141)
kms_1       | KVNO Timestamp         Principal
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
recon_1     | 	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
kms_1       | ---- ----------------- --------------------------------------------------------
kdc_1       | Entry for principal test/test@EXAMPLE.COM with kvno 2, encryption type aes256-cts-hmac-sha1-96 added to keytab WRFILE:/data/test.test.keytab.
recon_1     | 	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
kms_1       |    2 10/31/19 13:06:21 dn/d6792e013a8b@EXAMPLE.COM
recon_1     | 	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
kms_1       |    2 10/31/19 13:06:21 dn/d6792e013a8b@EXAMPLE.COM
kdc_1       | Entry for principal test/test@EXAMPLE.COM with kvno 2, encryption type aes128-cts-hmac-sha1-96 added to keytab WRFILE:/data/test.test.keytab.
recon_1     | 	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
kms_1       | Download om/d6792e013a8b@EXAMPLE.COM keytab file to /etc/security/keytabs/om.keytab
kdc_1       | Generiting keytab
kms_1       | --2019-10-31 13:06:21--  http://kdc:8081/keytab/d6792e013a8b/om
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
recon_1     | 	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
kms_1       | Resolving kdc (kdc)... 172.18.0.2
kdc_1       | WARNING: no policy specified for dn/d6792e013a8b@EXAMPLE.COM; defaulting to no policy
recon_1     | 	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
kms_1       | Connecting to kdc (kdc)|172.18.0.2|:8081... connected.
kdc_1       | Principal "dn/d6792e013a8b@EXAMPLE.COM" created.
recon_1     | 	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
kms_1       | HTTP request sent, awaiting response... 200 OK
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | Length: 158 [application/octet-stream]
recon_1     | 	at org.apache.hadoop.ozone.recon.ReconServer.main(ReconServer.java:52)
kdc_1       | Entry for principal dn/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes256-cts-hmac-sha1-96 added to keytab WRFILE:/data/dn.d6792e013a8b.keytab.
kms_1       | Saving to: '/etc/security/keytabs/om.keytab'
kdc_1       | Entry for principal dn/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes128-cts-hmac-sha1-96 added to keytab WRFILE:/data/dn.d6792e013a8b.keytab.
kms_1       | 
kdc_1       | Generiting keytab
kms_1       |      0K                                                       100% 22.6M=0s
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | 
kdc_1       | WARNING: no policy specified for om/d6792e013a8b@EXAMPLE.COM; defaulting to no policy
kdc_1       | Principal "om/d6792e013a8b@EXAMPLE.COM" created.
kms_1       | 2019-10-31 13:06:21 (22.6 MB/s) - '/etc/security/keytabs/om.keytab' saved [158/158]
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | 
kms_1       | Keytab name: FILE:/etc/security/keytabs/om.keytab
kms_1       | KVNO Timestamp         Principal
kdc_1       | Entry for principal om/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes256-cts-hmac-sha1-96 added to keytab WRFILE:/data/om.d6792e013a8b.keytab.
kms_1       | ---- ----------------- --------------------------------------------------------
kdc_1       | Entry for principal om/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes128-cts-hmac-sha1-96 added to keytab WRFILE:/data/om.d6792e013a8b.keytab.
kms_1       |    2 10/31/19 13:06:21 om/d6792e013a8b@EXAMPLE.COM
kdc_1       | Generiting keytab
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       |    2 10/31/19 13:06:21 om/d6792e013a8b@EXAMPLE.COM
kms_1       | Download scm/d6792e013a8b@EXAMPLE.COM keytab file to /etc/security/keytabs/scm.keytab
kms_1       | --2019-10-31 13:06:21--  http://kdc:8081/keytab/d6792e013a8b/scm
kdc_1       | WARNING: no policy specified for scm/d6792e013a8b@EXAMPLE.COM; defaulting to no policy
kms_1       | Resolving kdc (kdc)... 172.18.0.2
kdc_1       | Principal "scm/d6792e013a8b@EXAMPLE.COM" created.
kms_1       | Connecting to kdc (kdc)|172.18.0.2|:8081... connected.
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | HTTP request sent, awaiting response... 200 OK
kdc_1       | Entry for principal scm/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes256-cts-hmac-sha1-96 added to keytab WRFILE:/data/scm.d6792e013a8b.keytab.
kms_1       | Length: 160 [application/octet-stream]
kdc_1       | Entry for principal scm/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes128-cts-hmac-sha1-96 added to keytab WRFILE:/data/scm.d6792e013a8b.keytab.
kdc_1       | Generiting keytab
kms_1       | Saving to: '/etc/security/keytabs/scm.keytab'
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | 
kdc_1       | WARNING: no policy specified for HTTP/d6792e013a8b@EXAMPLE.COM; defaulting to no policy
kms_1       |      0K                                                       100% 20.5M=0s
kms_1       | 
kdc_1       | Principal "HTTP/d6792e013a8b@EXAMPLE.COM" created.
kms_1       | 2019-10-31 13:06:22 (20.5 MB/s) - '/etc/security/keytabs/scm.keytab' saved [160/160]
kms_1       | 
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | Keytab name: FILE:/etc/security/keytabs/scm.keytab
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | KVNO Timestamp         Principal
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527181, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | ---- ----------------- --------------------------------------------------------
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       |    2 10/31/19 13:06:22 scm/d6792e013a8b@EXAMPLE.COM
kms_1       |    2 10/31/19 13:06:22 scm/d6792e013a8b@EXAMPLE.COM
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527181, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | Download HTTP/d6792e013a8b@EXAMPLE.COM keytab file to /etc/security/keytabs/HTTP.keytab
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | --2019-10-31 13:06:22--  http://kdc:8081/keytab/d6792e013a8b/HTTP
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527181, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | Resolving kdc (kdc)... 172.18.0.2
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527181, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | Connecting to kdc (kdc)|172.18.0.2|:8081... connected.
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | HTTP request sent, awaiting response... 200 OK
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527181, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | Length: 162 [application/octet-stream]
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | Saving to: '/etc/security/keytabs/HTTP.keytab'
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527181, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | 
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       |      0K                                                       100% 18.3M=0s
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527181, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | 
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | 2019-10-31 13:06:22 (18.3 MB/s) - '/etc/security/keytabs/HTTP.keytab' saved [162/162]
kdc_1       | Oct 31 13:06:21 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527181, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | 
kms_1       | Keytab name: FILE:/etc/security/keytabs/HTTP.keytab
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | KVNO Timestamp         Principal
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527182, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | ---- ----------------- --------------------------------------------------------
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       |    2 10/31/19 13:06:22 HTTP/d6792e013a8b@EXAMPLE.COM
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527182, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       |    2 10/31/19 13:06:22 HTTP/d6792e013a8b@EXAMPLE.COM
kdc_1       | Entry for principal HTTP/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes256-cts-hmac-sha1-96 added to keytab WRFILE:/data/HTTP.d6792e013a8b.keytab.
kms_1       | Download testuser/d6792e013a8b@EXAMPLE.COM keytab file to /etc/security/keytabs/testuser.keytab
kdc_1       | Entry for principal HTTP/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes128-cts-hmac-sha1-96 added to keytab WRFILE:/data/HTTP.d6792e013a8b.keytab.
kms_1       | --2019-10-31 13:06:22--  http://kdc:8081/keytab/d6792e013a8b/testuser
kdc_1       | Generiting keytab
kms_1       | Resolving kdc (kdc)... 172.18.0.2
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | Connecting to kdc (kdc)|172.18.0.2|:8081... connected.
kdc_1       | WARNING: no policy specified for testuser/d6792e013a8b@EXAMPLE.COM; defaulting to no policy
kms_1       | HTTP request sent, awaiting response... 200 OK
kdc_1       | Principal "testuser/d6792e013a8b@EXAMPLE.COM" created.
kms_1       | Length: 170 [application/octet-stream]
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | Saving to: '/etc/security/keytabs/testuser.keytab'
kdc_1       | Entry for principal testuser/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes256-cts-hmac-sha1-96 added to keytab WRFILE:/data/testuser.d6792e013a8b.keytab.
kms_1       | 
kdc_1       | Entry for principal testuser/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes128-cts-hmac-sha1-96 added to keytab WRFILE:/data/testuser.d6792e013a8b.keytab.
kms_1       |      0K                                                       100% 17.8M=0s
kdc_1       | Generiting keytab
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | 
kdc_1       | WARNING: no policy specified for testuser2/d6792e013a8b@EXAMPLE.COM; defaulting to no policy
kms_1       | 2019-10-31 13:06:22 (17.8 MB/s) - '/etc/security/keytabs/testuser.keytab' saved [170/170]
kdc_1       | Principal "testuser2/d6792e013a8b@EXAMPLE.COM" created.
kms_1       | 
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | Keytab name: FILE:/etc/security/keytabs/testuser.keytab
kdc_1       | Entry for principal testuser2/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes256-cts-hmac-sha1-96 added to keytab WRFILE:/data/testuser2.d6792e013a8b.keytab.
kms_1       | KVNO Timestamp         Principal
kdc_1       | Entry for principal testuser2/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes128-cts-hmac-sha1-96 added to keytab WRFILE:/data/testuser2.d6792e013a8b.keytab.
kdc_1       | Generiting keytab
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       | ---- ----------------- --------------------------------------------------------
kdc_1       | WARNING: no policy specified for s3g/d6792e013a8b@EXAMPLE.COM; defaulting to no policy
kms_1       |    2 10/31/19 13:06:22 testuser/d6792e013a8b@EXAMPLE.COM
kdc_1       | Principal "s3g/d6792e013a8b@EXAMPLE.COM" created.
kdc_1       | Authenticating as principal admin/admin with keytab /tmp/admin.keytab.
kms_1       |    2 10/31/19 13:06:22 testuser/d6792e013a8b@EXAMPLE.COM
kdc_1       | Entry for principal s3g/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes256-cts-hmac-sha1-96 added to keytab WRFILE:/data/s3g.d6792e013a8b.keytab.
kms_1       | Download testuser2/d6792e013a8b@EXAMPLE.COM keytab file to /etc/security/keytabs/testuser2.keytab
kdc_1       | Entry for principal s3g/d6792e013a8b@EXAMPLE.COM with kvno 2, encryption type aes128-cts-hmac-sha1-96 added to keytab WRFILE:/data/s3g.d6792e013a8b.keytab.
kms_1       | --2019-10-31 13:06:22--  http://kdc:8081/keytab/d6792e013a8b/testuser2
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | Resolving kdc (kdc)... 172.18.0.2
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527182, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | Connecting to kdc (kdc)|172.18.0.2|:8081... connected.
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | HTTP request sent, awaiting response... 200 OK
kms_1       | Length: 172 [application/octet-stream]
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527182, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527182, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       | Saving to: '/etc/security/keytabs/testuser2.keytab'
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527182, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | 
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527182, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: SERVER_NOT_FOUND: admin/admin@EXAMPLE.COM for kadmin/localhost@EXAMPLE.COM, Server not found in Kerberos database
kms_1       |      0K                                                       100% 14.9M=0s
kdc_1       | Oct 31 13:06:22 kdc krb5kdc[9](info): AS_REQ (8 etypes {18 17 20 19 16 23 25 26}) 127.0.0.1: ISSUE: authtime 1572527182, etypes {rep=18 tkt=18 ses=18}, admin/admin@EXAMPLE.COM for kadmin/admin@EXAMPLE.COM
kms_1       | 
kms_1       | 2019-10-31 13:06:22 (14.9 MB/s) - '/etc/security/keytabs/testuser2.keytab' saved [172/172]
kms_1       | 
kms_1       | Keytab name: FILE:/etc/security/keytabs/testuser2.keytab
kms_1       | KVNO Timestamp         Principal
kms_1       | ---- ----------------- --------------------------------------------------------
kms_1       |    2 10/31/19 13:06:22 testuser2/d6792e013a8b@EXAMPLE.COM
kms_1       |    2 10/31/19 13:06:22 testuser2/d6792e013a8b@EXAMPLE.COM
kms_1       | Download s3g/d6792e013a8b@EXAMPLE.COM keytab file to /etc/security/keytabs/s3g.keytab
kms_1       | --2019-10-31 13:06:22--  http://kdc:8081/keytab/d6792e013a8b/s3g
kms_1       | Resolving kdc (kdc)... 172.18.0.2
kms_1       | Connecting to kdc (kdc)|172.18.0.2|:8081... connected.
kms_1       | HTTP request sent, awaiting response... 200 OK
kms_1       | Length: 160 [application/octet-stream]
kms_1       | Saving to: '/etc/security/keytabs/s3g.keytab'
kms_1       | 
kms_1       |      0K                                                       100% 22.3M=0s
kms_1       | 
kms_1       | 2019-10-31 13:06:22 (22.3 MB/s) - '/etc/security/keytabs/s3g.keytab' saved [160/160]
kms_1       | 
kms_1       | Keytab name: FILE:/etc/security/keytabs/s3g.keytab
kms_1       | KVNO Timestamp         Principal
kms_1       | ---- ----------------- --------------------------------------------------------
kms_1       |    2 10/31/19 13:06:22 s3g/d6792e013a8b@EXAMPLE.COM
kms_1       |    2 10/31/19 13:06:22 s3g/d6792e013a8b@EXAMPLE.COM
kms_1       | # Licensed to the Apache Software Foundation (ASF) under one or more
kms_1       | # contributor license agreements.  See the NOTICE file distributed with
kms_1       | # this work for additional information regarding copyright ownership.
kms_1       | # The ASF licenses this file to You under the Apache License, Version 2.0
kms_1       | # (the "License"); you may not use this file except in compliance with
kms_1       | # the License.  You may obtain a copy of the License at
kms_1       | #
kms_1       | #     http://www.apache.org/licenses/LICENSE-2.0
kms_1       | #
kms_1       | # Unless required by applicable law or agreed to in writing, software
kms_1       | # distributed under the License is distributed on an "AS IS" BASIS,
kms_1       | # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
kms_1       | # See the License for the specific language governing permissions and
kms_1       | # limitations under the License.
kms_1       | 
kms_1       | [logging]
kms_1       |  default = FILE:/var/log/krb5libs.log
kms_1       |  kdc = FILE:/var/log/krb5kdc.log
kms_1       |  admin_server = FILE:/var/log/kadmind.log
kms_1       | 
kms_1       | [libdefaults]
kms_1       |  dns_canonicalize_hostname = false
kms_1       |  dns_lookup_realm = false
kms_1       |  ticket_lifetime = 24h
kms_1       |  renew_lifetime = 7d
kms_1       |  forwardable = true
kms_1       |  rdns = false
kms_1       |  default_realm = EXAMPLE.COM
kms_1       | 
kms_1       | [realms]
kms_1       |  EXAMPLE.COM = {
kms_1       |   kdc = kdc
kms_1       |   admin_server = kdc
kms_1       |  }
kms_1       | 
kms_1       | [domain_realm]
kms_1       |  .example.com = EXAMPLE.COM
kms_1       | WARNING: /opt/hadoop/temp does not exist. Creating.
kms_1       | WARNING: /opt/hadoop/logs does not exist. Creating.
kms_1       | Oct 31, 2019 1:06:24 PM com.sun.jersey.api.core.PackagesResourceConfig init
kms_1       | INFO: Scanning for root resource and provider classes in the packages:
kms_1       |   org.apache.hadoop.crypto.key.kms.server
kms_1       | Oct 31, 2019 1:06:24 PM com.sun.jersey.api.core.ScanningResourceConfig logClasses
kms_1       | INFO: Root resource classes found:
kms_1       |   class org.apache.hadoop.crypto.key.kms.server.KMS
kms_1       | Oct 31, 2019 1:06:24 PM com.sun.jersey.api.core.ScanningResourceConfig logClasses
kms_1       | INFO: Provider classes found:
kms_1       |   class org.apache.hadoop.crypto.key.kms.server.KMSJSONWriter
kms_1       |   class org.apache.hadoop.crypto.key.kms.server.KMSExceptionsProvider
kms_1       |   class org.apache.hadoop.crypto.key.kms.server.KMSJSONReader
kms_1       | Oct 31, 2019 1:06:24 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
kms_1       | INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
