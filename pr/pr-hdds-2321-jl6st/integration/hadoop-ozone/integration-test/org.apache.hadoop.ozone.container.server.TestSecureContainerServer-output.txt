2019-11-01 20:53:35,283 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/yBMp/hdds of  storage type : DISK and capacity : 1482555576320
2019-11-01 20:53:35,288 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/yBMp/hdds to VolumeSet
2019-11-01 20:53:35,296 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/yBMp/hdds
2019-11-01 20:53:35,314 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(204)) - Scheduled health check for volume /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/yBMp/hdds
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-11-01 20:53:36,205 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-xceiverclientmetrics.properties,hadoop-metrics2.properties
2019-11-01 20:53:36,223 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-11-01 20:53:36,223 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - XceiverClientMetrics metrics system started
2019-11-01 20:53:37,154 [grpc-default-executor-0] INFO  impl.HddsDispatcher (ContainerUtils.java:logAndReturnError(146)) - Operation: PutBlock : Trace ID:  : Message: Block token verification failed. Fail to find any token (empty or null.) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-11-01 20:53:37,177 [main] INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2019-11-01 20:53:37,221 [grpc-default-executor-0] INFO  impl.HddsDispatcher (ContainerUtils.java:logAndReturnError(146)) - Operation: PutBlock : Trace ID:  : Message: Block token verification failed. Block id mismatch. Token for block ID: 1 can't be used to access block: conID: 1572641616264 locID: 1572641616266 by user: jenkins1000 (auth:SIMPLE) : Result: BLOCK_TOKEN_VERIFICATION_FAILED
2019-11-01 20:53:37,259 [main] INFO  ozone.RatisTestHelper (RatisTestHelper.java:initRatisConf(107)) - dfs.container.ratis.rpc.type = GRPC
2019-11-01 20:53:37,266 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/ORYN/hdds of  storage type : DISK and capacity : 1482555576320
2019-11-01 20:53:37,266 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/ORYN/hdds to VolumeSet
2019-11-01 20:53:37,266 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/ORYN/hdds
2019-11-01 20:53:37,267 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(204)) - Scheduled health check for volume /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/ORYN/hdds
2019-11-01 20:53:37,455 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-11-01 20:53:37,469 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-11-01 20:53:37,475 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33738 (custom)
2019-11-01 20:53:37,476 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-11-01 20:53:37,478 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-11-01 20:53:37,479 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-11-01 20:53:37,480 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-11-01 20:53:37,535 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/dfs/6b1d622b-7df8-4173-bdcb-9b21de7ee850] (custom)
2019-11-01 20:53:37,538 [main] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(414)) - Starting XceiverServerRatis 6b1d622b-7df8-4173-bdcb-9b21de7ee850 at port 33738
2019-11-01 20:53:37,553 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: start RPC server
2019-11-01 20:53:37,555 [main] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: GrpcService started, listening on 0.0.0.0/0.0.0.0:33738
2019-11-01 20:53:37,640 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: addNew group-B42791A82821:[6b1d622b-7df8-4173-bdcb-9b21de7ee850:0.0.0.0:33738] returns group-B42791A82821:java.util.concurrent.CompletableFuture@2ae506da[Not completed]
2019-11-01 20:53:37,656 [pool-12-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(98)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: new RaftServerImpl for group-B42791A82821:[6b1d622b-7df8-4173-bdcb-9b21de7ee850:0.0.0.0:33738] with ContainerStateMachine:uninitialized
2019-11-01 20:53:37,659 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-11-01 20:53:37,659 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-11-01 20:53:37,659 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-11-01 20:53:37,660 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-11-01 20:53:37,661 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-11-01 20:53:37,670 [pool-12-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821: ConfigurationManager, init=-1: [6b1d622b-7df8-4173-bdcb-9b21de7ee850:0.0.0.0:33738], old=null, confs=<EMPTY_MAP>
2019-11-01 20:53:37,671 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/dfs/6b1d622b-7df8-4173-bdcb-9b21de7ee850] (custom)
2019-11-01 20:53:37,678 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-11-01 20:53:37,680 [pool-12-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/6b1d622b-7df8-4173-bdcb-9b21de7ee850/cd358086-539c-4bb9-9fa9-b42791a82821 does not exist. Creating ...
2019-11-01 20:53:37,701 [pool-12-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/6b1d622b-7df8-4173-bdcb-9b21de7ee850/cd358086-539c-4bb9-9fa9-b42791a82821/in_use.lock acquired by nodename 3749@pr-hdds-2321-jl6st-3284135038
2019-11-01 20:53:37,721 [pool-12-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/6b1d622b-7df8-4173-bdcb-9b21de7ee850/cd358086-539c-4bb9-9fa9-b42791a82821 has been successfully formatted.
2019-11-01 20:53:37,723 [pool-12-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-B42791A82821: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-11-01 20:53:37,724 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-11-01 20:53:37,725 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-11-01 20:53:37,731 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-11-01 20:53:37,731 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-11-01 20:53:37,733 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-11-01 20:53:37,737 [pool-12-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-11-01 20:53:37,740 [pool-12-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-11-01 20:53:37,745 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-11-01 20:53:37,749 [pool-12-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(173)) - new 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/6b1d622b-7df8-4173-bdcb-9b21de7ee850/cd358086-539c-4bb9-9fa9-b42791a82821
2019-11-01 20:53:37,750 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-11-01 20:53:37,750 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-11-01 20:53:37,752 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-11-01 20:53:37,752 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-11-01 20:53:37,752 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-11-01 20:53:37,753 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-11-01 20:53:37,754 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-11-01 20:53:37,754 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-11-01 20:53:37,754 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-11-01 20:53:37,763 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-11-01 20:53:37,768 [pool-12-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(128)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-11-01 20:53:37,772 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-11-01 20:53:37,773 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2019-11-01 20:53:37,773 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = 5 (custom)
2019-11-01 20:53:37,774 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-11-01 20:53:37,791 [pool-12-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-11-01 20:53:37,793 [pool-12-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-11-01 20:53:37,794 [pool-12-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821: start as a follower, conf=-1: [6b1d622b-7df8-4173-bdcb-9b21de7ee850:0.0.0.0:33738], old=null
2019-11-01 20:53:37,795 [pool-12-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-11-01 20:53:37,796 [pool-12-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: start FollowerState
2019-11-01 20:53:37,798 [pool-12-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B42791A82821,id=6b1d622b-7df8-4173-bdcb-9b21de7ee850
2019-11-01 20:53:37,800 [pool-12-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(61)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReportRegistration(...) before.
2019-11-01 20:53:42,902 [Thread-9] INFO  impl.FollowerState (FollowerState.java:run(111)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-FollowerState: change to CANDIDATE, lastRpcTime:5106ms, electionTimeout:5105ms
2019-11-01 20:53:42,904 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: shutdown FollowerState
2019-11-01 20:53:42,904 [Thread-9] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-11-01 20:53:42,908 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: start LeaderElection
2019-11-01 20:53:42,923 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1: begin an election at term 1 for -1: [6b1d622b-7df8-4173-bdcb-9b21de7ee850:0.0.0.0:33738], old=null
2019-11-01 20:53:42,926 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: shutdown LeaderElection
2019-11-01 20:53:42,927 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(173)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-11-01 20:53:42,927 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(255)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821: change Leader from null to 6b1d622b-7df8-4173-bdcb-9b21de7ee850 at term 1 for becomeLeader, leader elected after 5203ms
2019-11-01 20:53:42,934 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-11-01 20:53:42,935 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-11-01 20:53:42,939 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-11-01 20:53:42,946 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-11-01 20:53:42,946 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-11-01 20:53:42,947 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-11-01 20:53:42,956 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: start LeaderState
2019-11-01 20:53:42,970 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(385)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-SegmentedRaftLogWorker: Starting segment from index:0
2019-11-01 20:53:42,978 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(356)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821: set configuration 0: [6b1d622b-7df8-4173-bdcb-9b21de7ee850:0.0.0.0:33738], old=null at 0
2019-11-01 20:53:43,148 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(576)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/6b1d622b-7df8-4173-bdcb-9b21de7ee850/cd358086-539c-4bb9-9fa9-b42791a82821/current/log_inprogress_0
2019-11-01 20:53:44,172 [grpc-default-executor-0] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:startTransaction(319)) - startTransaction validation failed on leader
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Block token verification failed. Fail to find any token (empty or null.)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:480)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:313)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:580)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:221)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:327)
	at org.apache.ratis.util.SlidingWindow$Server.processRequestsFromHead(SlidingWindow.java:429)
	at org.apache.ratis.util.SlidingWindow$Server.receivedRequest(SlidingWindow.java:421)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:346)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:241)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:168)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.security.token.BlockTokenException: Fail to find any token (empty or null.)
	at org.apache.hadoop.hdds.security.token.BlockTokenVerifier.verify(BlockTokenVerifier.java:68)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateBlockToken(HddsDispatcher.java:411)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:477)
	... 25 more
2019-11-01 20:53:44,233 [main] INFO  security.OzoneBlockTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2019-11-01 20:53:44,241 [grpc-default-executor-0] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:startTransaction(319)) - startTransaction validation failed on leader
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Block token verification failed. Block id mismatch. Token for block ID: 1 can't be used to access block: conID: 1572641617833 locID: 1572641617835 by user: jenkins1000 (auth:SIMPLE)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:480)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:313)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:580)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:221)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:327)
	at org.apache.ratis.util.SlidingWindow$Server.processRequestsFromHead(SlidingWindow.java:429)
	at org.apache.ratis.util.SlidingWindow$Server.receivedRequest(SlidingWindow.java:421)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:346)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:241)
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:168)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.security.token.BlockTokenException: Block id mismatch. Token for block ID: 1 can't be used to access block: conID: 1572641617833 locID: 1572641617835 by user: jenkins1000 (auth:SIMPLE)
	at org.apache.hadoop.hdds.security.token.BlockTokenVerifier.verify(BlockTokenVerifier.java:117)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateBlockToken(HddsDispatcher.java:411)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:477)
	... 25 more
2019-11-01 20:53:44,255 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: close
2019-11-01 20:53:44,258 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(250)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821: shutdown
2019-11-01 20:53:44,260 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B42791A82821,id=6b1d622b-7df8-4173-bdcb-9b21de7ee850
2019-11-01 20:53:44,260 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: shutdown LeaderState
2019-11-01 20:53:44,261 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(206)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-PendingRequests: sendNotLeaderResponses
2019-11-01 20:53:44,265 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-StateMachineUpdater: set stopIndex = 2
2019-11-01 20:53:44,265 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(287)) - group-B42791A82821: Taking a snapshot at:(t:1, i:2) file /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/6b1d622b-7df8-4173-bdcb-9b21de7ee850/cd358086-539c-4bb9-9fa9-b42791a82821/sm/snapshot.1_2
2019-11-01 20:53:44,312 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(298)) - group-B42791A82821: Finished taking a snapshot at:(t:1, i:2) file:/workdir/hadoop-ozone/integration-test/target/test-dir/dfs/6b1d622b-7df8-4173-bdcb-9b21de7ee850/cd358086-539c-4bb9-9fa9-b42791a82821/sm/snapshot.1_2 time:47
2019-11-01 20:53:44,314 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(269)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-StateMachineUpdater: Took a snapshot at index 2
2019-11-01 20:53:44,314 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(84)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 2
2019-11-01 20:53:44,319 [main] INFO  impl.RaftServerImpl (ServerState.java:close(387)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821: closes. applyIndex: 2
2019-11-01 20:53:44,322 [6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(316)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-11-01 20:53:44,323 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(224)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850@group-B42791A82821-SegmentedRaftLogWorker close()
2019-11-01 20:53:44,324 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: shutdown server with port 33738 now
2019-11-01 20:53:44,326 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 6b1d622b-7df8-4173-bdcb-9b21de7ee850: shutdown server with port 33738 successfully
2019-11-01 20:53:44,384 [shutdown-hook-0] WARN  volume.VolumeUsage (VolumeUsage.java:saveScmUsed(176)) - Failed to write scmUsed to /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/ORYN/scmUsed
java.io.FileNotFoundException: /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/ORYN/scmUsed (No such file or directory)
	at java.io.FileOutputStream.open0(Native Method)
	at java.io.FileOutputStream.open(FileOutputStream.java:270)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:213)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:162)
	at org.apache.hadoop.ozone.container.common.volume.VolumeUsage.saveScmUsed(VolumeUsage.java:165)
	at org.apache.hadoop.ozone.container.common.volume.VolumeUsage.shutdown(VolumeUsage.java:101)
	at org.apache.hadoop.ozone.container.common.volume.VolumeInfo.shutdownUsageThread(VolumeInfo.java:115)
	at org.apache.hadoop.ozone.container.common.volume.HddsVolume.shutdown(HddsVolume.java:404)
	at org.apache.hadoop.ozone.container.common.volume.VolumeSet.saveVolumeSetUsed(VolumeSet.java:412)
	at org.apache.hadoop.ozone.container.common.volume.VolumeSet.lambda$initializeVolumeSet$2(VolumeSet.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-11-01 20:53:44,388 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/ORYN] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-11-01 20:53:44,388 [shutdown-hook-0] WARN  volume.VolumeUsage (VolumeUsage.java:saveScmUsed(176)) - Failed to write scmUsed to /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/yBMp/scmUsed
java.io.FileNotFoundException: /workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/yBMp/scmUsed (No such file or directory)
	at java.io.FileOutputStream.open0(Native Method)
	at java.io.FileOutputStream.open(FileOutputStream.java:270)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:213)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:162)
	at org.apache.hadoop.ozone.container.common.volume.VolumeUsage.saveScmUsed(VolumeUsage.java:165)
	at org.apache.hadoop.ozone.container.common.volume.VolumeUsage.shutdown(VolumeUsage.java:101)
	at org.apache.hadoop.ozone.container.common.volume.VolumeInfo.shutdownUsageThread(VolumeInfo.java:115)
	at org.apache.hadoop.ozone.container.common.volume.HddsVolume.shutdown(HddsVolume.java:404)
	at org.apache.hadoop.ozone.container.common.volume.VolumeSet.saveVolumeSetUsed(VolumeSet.java:412)
	at org.apache.hadoop.ozone.container.common.volume.VolumeSet.lambda$initializeVolumeSet$2(VolumeSet.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-11-01 20:53:44,389 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/dfs/dfs/data/hdds/yBMp] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
