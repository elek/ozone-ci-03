<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20191114 06:40:37.791" generator="Robot 3.1.2 (Python 2.7.5 on linux2)">
<suite source="/opt/hadoop/smoketest/s3" id="s1" name="ozone-om-ha-s3-s3">
<suite source="/opt/hadoop/smoketest/s3/awss3.robot" id="s1-s1" name="Awss3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:40:37.856" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:40:37.863" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:40:37.863" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:40:37.863" starttime="20191114 06:40:37.855"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:40:37.865" starttime="20191114 06:40:37.864"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:40:37.868" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:40:38.114" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:40:38.114" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:40:38.115" starttime="20191114 06:40:37.866"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:40:38.121" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:40:59.530" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:40:59.531" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:40:59.531" starttime="20191114 06:40:38.118"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:40:59.533" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package awscli.noarch 0:1.14.28-5.el7_5.1 will be installed
--&gt; Processing Dependency: python-s3transfer &gt;= 0.1.9 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-docutils &gt;= 0.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-cryptography &gt;= 1.7.2 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: PyYAML &gt;= 3.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Running transaction check
---&gt; Package PyYAML.x86_64 0:3.10-11.el7 will be installed
--&gt; Processing Dependency: libyaml-0.so.2()(64bit) for package: PyYAML-3.10-11.el7.x86_64
---&gt; Package python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7 will be installed
--&gt; Processing Dependency: python-imaging for package: python-docutils-0.11-0.3.20130715svn7687.el7.noarch
---&gt; Package python-s3transfer.noarch 0:0.1.13-1.el7.0.1 will be installed
--&gt; Processing Dependency: python-dateutil &gt;= 1.4 for package: python-s3transfer-0.1.13-1.el7.0.1.noarch
---&gt; Package python2-cryptography.x86_64 0:1.7.2-2.el7 will be installed
--&gt; Processing Dependency: python-six &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-pyasn1 &gt;= 0.1.8 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-idna &gt;= 2.0 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-cffi &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-enum34 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: openssl for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Running transaction check
---&gt; Package libyaml.x86_64 0:0.1.4-11.el7_0 will be installed
---&gt; Package openssl.x86_64 1:1.0.2k-19.el7 will be installed
--&gt; Processing Dependency: openssl-libs(x86-64) = 1:1.0.2k-19.el7 for package: 1:openssl-1.0.2k-19.el7.x86_64
--&gt; Processing Dependency: make for package: 1:openssl-1.0.2k-19.el7.x86_64
---&gt; Package python-cffi.x86_64 0:1.6.0-5.el7 will be installed
--&gt; Processing Dependency: python-pycparser for package: python-cffi-1.6.0-5.el7.x86_64
---&gt; Package python-dateutil.noarch 0:1.5-7.el7 will be installed
---&gt; Package python-enum34.noarch 0:1.0.4-1.el7 will be installed
---&gt; Package python-idna.noarch 0:2.4-1.el7 will be installed
---&gt; Package python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7 will be installed
--&gt; Processing Dependency: libtiff.so.5(LIBTIFF_4.0)(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libwebp.so.4()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libtiff.so.5()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
---&gt; Package python-six.noarch 0:1.9.0-2.el7 will be installed
---&gt; Package python2-pyasn1.noarch 0:0.1.9-7.el7 will be installed
--&gt; Running transaction check
---&gt; Package libtiff.x86_64 0:4.0.3-32.el7 will be installed
--&gt; Processing Dependency: libjbig.so.2.0()(64bit) for package: libtiff-4.0.3-32.el7.x86_64
---&gt; Package libwebp.x86_64 0:0.3.0-7.el7 will be installed
---&gt; Package make.x86_64 1:3.82-24.el7 will be installed
---&gt; Package openssl-libs.x86_64 1:1.0.2k-16.el7 will be updated
---&gt; Package openssl-libs.x86_64 1:1.0.2k-19.el7 will be an update
---&gt; Package python-pycparser.noarch 0:2.14-1.el7 will be installed
--&gt; Processing Dependency: python-ply for package: python-pycparser-2.14-1.el7.noarch
--&gt; Running transaction check
---&gt; Package jbigkit-libs.x86_64 0:2.0-11.el7 will be installed
---&gt; Package python-ply.noarch 0:3.4-11.el7 will be installed
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                Arch     Version                           Repository
                                                                           Size
================================================================================
Installing:
 awscli                 noarch   1.14.28-5.el7_5.1                 base   1.0 M
Installing for dependencies:
 PyYAML                 x86_64   3.10-11.el7                       base   153 k
 jbigkit-libs           x86_64   2.0-11.el7                        base    46 k
 libtiff                x86_64   4.0.3-32.el7                      base   171 k
 libwebp                x86_64   0.3.0-7.el7                       base   170 k
 libyaml                x86_64   0.1.4-11.el7_0                    base    55 k
 make                   x86_64   1:3.82-24.el7                     base   421 k
 openssl                x86_64   1:1.0.2k-19.el7                   base   493 k
 python-cffi            x86_64   1.6.0-5.el7                       base   218 k
 python-dateutil        noarch   1.5-7.el7                         base    85 k
 python-docutils        noarch   0.11-0.3.20130715svn7687.el7      base   1.5 M
 python-enum34          noarch   1.0.4-1.el7                       base    52 k
 python-idna            noarch   2.4-1.el7                         base    94 k
 python-pillow          x86_64   2.0.0-19.gitd1c6db8.el7           base   438 k
 python-ply             noarch   3.4-11.el7                        base   123 k
 python-pycparser       noarch   2.14-1.el7                        base   104 k
 python-s3transfer      noarch   0.1.13-1.el7.0.1                  base   2.9 M
 python-six             noarch   1.9.0-2.el7                       base    29 k
 python2-cryptography   x86_64   1.7.2-2.el7                       base   502 k
 python2-pyasn1         noarch   0.1.9-7.el7                       base   100 k
Updating for dependencies:
 openssl-libs           x86_64   1:1.0.2k-19.el7                   base   1.2 M

Transaction Summary
================================================================================
Install  1 Package  (+19 Dependent packages)
Upgrade             (  1 Dependent package)

Total download size: 9.9 M
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
--------------------------------------------------------------------------------
Total                                               16 MB/s | 9.9 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : 1:openssl-libs-1.0.2k-19.el7.x86_64                         1/22 
  Installing : python2-pyasn1-0.1.9-7.el7.noarch                           2/22 
  Installing : libyaml-0.1.4-11.el7_0.x86_64                               3/22 
  Installing : PyYAML-3.10-11.el7.x86_64                                   4/22 
  Installing : jbigkit-libs-2.0-11.el7.x86_64                              5/22 
  Installing : libtiff-4.0.3-32.el7.x86_64                                 6/22 
  Installing : python-ply-3.4-11.el7.noarch                                7/22 
  Installing : python-pycparser-2.14-1.el7.noarch                          8/22 
  Installing : python-cffi-1.6.0-5.el7.x86_64                              9/22 
  Installing : python-idna-2.4-1.el7.noarch                               10/22 
  Installing : python-six-1.9.0-2.el7.noarch                              11/22 
  Installing : 1:make-3.82-24.el7.x86_64                                  12/22 
  Installing : 1:openssl-1.0.2k-19.el7.x86_64                             13/22 
  Installing : python-dateutil-1.5-7.el7.noarch                           14/22 
  Installing : python-enum34-1.0.4-1.el7.noarch                           15/22 
  Installing : python2-cryptography-1.7.2-2.el7.x86_64                    16/22 
  Installing : libwebp-0.3.0-7.el7.x86_64                                 17/22 
  Installing : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               18/22 
  Installing : python-docutils-0.11-0.3.20130715svn7687.el7.noarch        19/22 
  Installing : python-s3transfer-0.1.13-1.el7.0.1.noarch                  20/22 
  Installing : awscli-1.14.28-5.el7_5.1.noarch                            21/22 
  Cleanup    : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 
  Verifying  : libwebp-0.3.0-7.el7.x86_64                                  1/22 
  Verifying  : python-enum34-1.0.4-1.el7.noarch                            2/22 
  Verifying  : python-docutils-0.11-0.3.20130715svn7687.el7.noarch         3/22 
  Verifying  : 1:openssl-libs-1.0.2k-19.el7.x86_64                         4/22 
  Verifying  : python-dateutil-1.5-7.el7.noarch                            5/22 
  Verifying  : 1:make-3.82-24.el7.x86_64                                   6/22 
  Verifying  : python-six-1.9.0-2.el7.noarch                               7/22 
  Verifying  : python-s3transfer-0.1.13-1.el7.0.1.noarch                   8/22 
  Verifying  : python-idna-2.4-1.el7.noarch                                9/22 
  Verifying  : python-ply-3.4-11.el7.noarch                               10/22 
  Verifying  : 1:openssl-1.0.2k-19.el7.x86_64                             11/22 
  Verifying  : python-cffi-1.6.0-5.el7.x86_64                             12/22 
  Verifying  : awscli-1.14.28-5.el7_5.1.noarch                            13/22 
  Verifying  : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               14/22 
  Verifying  : jbigkit-libs-2.0-11.el7.x86_64                             15/22 
  Verifying  : python-pycparser-2.14-1.el7.noarch                         16/22 
  Verifying  : libyaml-0.1.4-11.el7_0.x86_64                              17/22 
  Verifying  : libtiff-4.0.3-32.el7.x86_64                                18/22 
  Verifying  : python2-pyasn1-0.1.9-7.el7.noarch                          19/22 
  Verifying  : PyYAML-3.10-11.el7.x86_64                                  20/22 
  Verifying  : python2-cryptography-1.7.2-2.el7.x86_64                    21/22 
  Verifying  : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 

Installed:
  awscli.noarch 0:1.14.28-5.el7_5.1                                             

Dependency Installed:
  PyYAML.x86_64 0:3.10-11.el7                                                   
  jbigkit-libs.x86_64 0:2.0-11.el7                                              
  libtiff.x86_64 0:4.0.3-32.el7                                                 
  libwebp.x86_64 0:0.3.0-7.el7                                                  
  libyaml.x86_64 0:0.1.4-11.el7_0                                               
  make.x86_64 1:3.82-24.el7                                                     
  openssl.x86_64 1:1.0.2k-19.el7                                                
  python-cffi.x86_64 0:1.6.0-5.el7                                              
  python-dateutil.noarch 0:1.5-7.el7                                            
  python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7                         
  python-enum34.noarch 0:1.0.4-1.el7                                            
  python-idna.noarch 0:2.4-1.el7                                                
  python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7                                
  python-ply.noarch 0:3.4-11.el7                                                
  python-pycparser.noarch 0:2.14-1.el7                                          
  python-s3transfer.noarch 0:0.1.13-1.el7.0.1                                   
  python-six.noarch 0:1.9.0-2.el7                                               
  python2-cryptography.x86_64 0:1.7.2-2.el7                                     
  python2-pyasn1.noarch 0:0.1.9-7.el7                                           

Dependency Updated:
  openssl-libs.x86_64 1:1.0.2k-19.el7                                           

Complete!</msg>
<status status="PASS" endtime="20191114 06:40:59.533" starttime="20191114 06:40:59.532"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:40:59.534" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:40:59.534" starttime="20191114 06:40:59.534"></status>
</kw>
<status status="PASS" endtime="20191114 06:40:59.535" starttime="20191114 06:40:38.117"></status>
</kw>
<status status="PASS" endtime="20191114 06:40:59.535" starttime="20191114 06:40:38.117"></status>
</kw>
<status status="PASS" endtime="20191114 06:40:59.535" starttime="20191114 06:40:38.115"></status>
</kw>
<status status="PASS" endtime="20191114 06:40:59.536" starttime="20191114 06:40:37.854"></status>
</kw>
<status status="PASS" endtime="20191114 06:40:59.536" starttime="20191114 06:40:37.854"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:40:59.539" starttime="20191114 06:40:59.538"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:40:59.540" starttime="20191114 06:40:59.539"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:40:59.544" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:40:59.987" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:40:59.988" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:40:59.988" starttime="20191114 06:40:59.542"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:40:59.989" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:40:59.989" starttime="20191114 06:40:59.988"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:40:59.990" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:40:59.991" starttime="20191114 06:40:59.990"></status>
</kw>
<status status="PASS" endtime="20191114 06:40:59.991" starttime="20191114 06:40:59.541"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:40:59.994" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:00.430" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:00.430" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:41:00.430" starttime="20191114 06:40:59.992"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:00.432" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:41:00.432" starttime="20191114 06:41:00.431"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:00.433" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:00.433" starttime="20191114 06:41:00.432"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:00.434" starttime="20191114 06:40:59.991"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:00.437" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:00.957" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:00.957" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:41:00.957" starttime="20191114 06:41:00.435"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:00.959" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:41:00.959" starttime="20191114 06:41:00.958"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:00.960" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:00.960" starttime="20191114 06:41:00.960"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:00.961" starttime="20191114 06:41:00.434"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:00.964" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:01.399" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:01.399" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:41:01.399" starttime="20191114 06:41:00.962"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:01.401" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:41:01.401" starttime="20191114 06:41:01.400"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:01.403" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:01.403" starttime="20191114 06:41:01.402"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:01.403" starttime="20191114 06:41:00.961"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:01.404" starttime="20191114 06:40:59.541"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:01.404" starttime="20191114 06:40:59.540"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:01.404" starttime="20191114 06:40:59.537"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:01.404" starttime="20191114 06:40:59.536"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:41:01.407" level="INFO">${postfix} = 44896</msg>
<status status="PASS" endtime="20191114 06:41:01.407" starttime="20191114 06:41:01.406"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:41:01.408" level="INFO">${BUCKET} = bucket-44896</msg>
<status status="PASS" endtime="20191114 06:41:01.408" starttime="20191114 06:41:01.407"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:01.413" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-44896 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:03.954" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:03.954" level="INFO">${output} = {
    "Location": "http://s3g:9878/bucket-44896"
}</msg>
<status status="PASS" endtime="20191114 06:41:03.954" starttime="20191114 06:41:01.410"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:03.955" level="INFO">{
    "Location": "http://s3g:9878/bucket-44896"
}</msg>
<status status="PASS" endtime="20191114 06:41:03.956" starttime="20191114 06:41:03.955"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:03.957" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:03.957" starttime="20191114 06:41:03.956"></status>
</kw>
<msg timestamp="20191114 06:41:03.957" level="INFO">${output} = {
    "Location": "http://s3g:9878/bucket-44896"
}</msg>
<status status="PASS" endtime="20191114 06:41:03.957" starttime="20191114 06:41:01.409"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:03.958" starttime="20191114 06:41:01.408"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:03.958" starttime="20191114 06:41:01.405"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:03.958" starttime="20191114 06:41:01.405"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:03.958" starttime="20191114 06:40:37.854"></status>
</kw>
<test id="s1-s1-t1" name="File upload and directory list">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:03.964" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:03.968" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:41:03.969" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:41:03.969" starttime="20191114 06:41:03.962"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:41:03.970" starttime="20191114 06:41:03.969"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:03.972" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:04.152" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:04.152" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:41:04.152" starttime="20191114 06:41:03.970"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:04.156" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:04.793" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:04.793" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:41:04.793" starttime="20191114 06:41:04.154"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:04.795" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:41:04.795" starttime="20191114 06:41:04.794"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:04.796" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:04.796" starttime="20191114 06:41:04.795"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:04.796" starttime="20191114 06:41:04.154"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:04.796" starttime="20191114 06:41:04.153"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:04.797" starttime="20191114 06:41:04.152"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:04.797" starttime="20191114 06:41:03.961"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:04.797" starttime="20191114 06:41:03.960"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:41:04.799" starttime="20191114 06:41:04.799"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:41:04.800" starttime="20191114 06:41:04.799"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:04.803" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:05.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:05.202" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:41:05.202" starttime="20191114 06:41:04.801"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:05.204" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:41:05.204" starttime="20191114 06:41:05.203"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:05.205" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:05.205" starttime="20191114 06:41:05.205"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:05.206" starttime="20191114 06:41:04.801"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:05.210" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:05.607" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:05.607" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:41:05.607" starttime="20191114 06:41:05.207"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:05.609" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:41:05.609" starttime="20191114 06:41:05.608"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:05.610" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:05.610" starttime="20191114 06:41:05.609"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:05.611" starttime="20191114 06:41:05.206"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:05.614" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:06.064" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:06.064" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:41:06.064" starttime="20191114 06:41:05.612"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:06.065" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:41:06.065" starttime="20191114 06:41:06.065"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:06.066" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:06.066" starttime="20191114 06:41:06.066"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:06.066" starttime="20191114 06:41:05.611"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:06.069" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:41:06.492" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:06.492" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:41:06.492" starttime="20191114 06:41:06.067"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:06.494" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:41:06.494" starttime="20191114 06:41:06.493"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:06.496" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:06.496" starttime="20191114 06:41:06.495"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:06.496" starttime="20191114 06:41:06.067"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:06.497" starttime="20191114 06:41:04.801"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:06.497" starttime="20191114 06:41:04.800"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:06.497" starttime="20191114 06:41:04.798"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:06.497" starttime="20191114 06:41:04.797"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:41:06.498" starttime="20191114 06:41:06.498"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:06.499" starttime="20191114 06:41:03.960"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:06.502" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 06:41:06.521" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:41:06.521" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:41:06.521" starttime="20191114 06:41:06.500"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:41:06.523" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:41:06.523" starttime="20191114 06:41:06.522"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:41:06.524" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:41:06.524" starttime="20191114 06:41:06.523"></status>
</kw>
<status status="PASS" endtime="20191114 06:41:06.524" starttime="20191114 06:41:06.499"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:41:06.527" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-44896 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:13.388" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:42:13.388" level="INFO">${output} = Completed 29 Bytes/29 Bytes (0 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-44896/testfile An error occurred (500) when calling the PutObject operation (reached m...</msg>
<status status="PASS" endtime="20191114 06:42:13.388" starttime="20191114 06:41:06.526"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:13.389" level="INFO">Completed 29 Bytes/29 Bytes (0 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-44896/testfile An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:42:13.390" starttime="20191114 06:42:13.389"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:13.390" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:42:13.391" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 06:42:13.391" starttime="20191114 06:42:13.390"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:13.391" starttime="20191114 06:41:06.525"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:13.392" starttime="20191114 06:41:06.524"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:13.392" critical="yes" starttime="20191114 06:41:03.959">1 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 06:42:13.394" starttime="20191114 06:40:37.847"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketcreate.robot" id="s1-s2" name="Bucketcreate">
<test id="s1-s2-t1" name="Create bucket which already exists">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:13.414" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:13.419" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:42:13.419" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:42:13.419" starttime="20191114 06:42:13.412"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:13.421" starttime="20191114 06:42:13.420"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:13.423" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:13.585" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:13.585" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:42:13.586" starttime="20191114 06:42:13.421"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:13.592" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:14.242" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:14.242" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:42:14.242" starttime="20191114 06:42:13.590"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:14.244" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:42:14.244" starttime="20191114 06:42:14.243"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:14.244" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:14.245" starttime="20191114 06:42:14.244"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:14.245" starttime="20191114 06:42:13.589"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:14.245" starttime="20191114 06:42:13.588"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:14.245" starttime="20191114 06:42:13.587"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:14.245" starttime="20191114 06:42:13.411"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:14.245" starttime="20191114 06:42:13.411"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:14.247" starttime="20191114 06:42:14.247"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:14.248" starttime="20191114 06:42:14.248"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:14.252" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:14.663" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:14.664" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:14.664" starttime="20191114 06:42:14.250"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:14.666" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:14.666" starttime="20191114 06:42:14.665"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:14.667" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:14.667" starttime="20191114 06:42:14.666"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:14.668" starttime="20191114 06:42:14.249"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:14.671" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:15.150" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:15.150" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:15.150" starttime="20191114 06:42:14.669"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:15.151" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:15.152" starttime="20191114 06:42:15.151"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:15.152" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:15.153" starttime="20191114 06:42:15.152"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:15.153" starttime="20191114 06:42:14.668"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:15.156" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:15.596" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:15.596" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:15.596" starttime="20191114 06:42:15.154"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:15.598" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:15.598" starttime="20191114 06:42:15.597"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:15.599" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:15.599" starttime="20191114 06:42:15.598"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:15.600" starttime="20191114 06:42:15.153"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:15.603" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:16.034" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:16.034" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:16.034" starttime="20191114 06:42:15.601"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:16.035" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:16.035" starttime="20191114 06:42:16.035"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:16.036" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:16.036" starttime="20191114 06:42:16.036"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:16.037" starttime="20191114 06:42:15.600"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:16.037" starttime="20191114 06:42:14.249"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:16.037" starttime="20191114 06:42:14.248"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:16.037" starttime="20191114 06:42:14.246"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:16.038" starttime="20191114 06:42:14.246"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:42:16.040" level="INFO">${postfix} = 14414</msg>
<status status="PASS" endtime="20191114 06:42:16.040" starttime="20191114 06:42:16.039"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:42:16.041" level="INFO">${BUCKET} = bucket-14414</msg>
<status status="PASS" endtime="20191114 06:42:16.041" starttime="20191114 06:42:16.040"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:16.044" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-14414 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:25.172" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:42:25.172" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:42:25.173" starttime="20191114 06:42:16.042"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:25.174" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:42:25.174" starttime="20191114 06:42:25.173"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:25.175" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:42:25.176" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:42:25.176" starttime="20191114 06:42:25.175"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:25.177" starttime="20191114 06:42:16.042"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:25.177" starttime="20191114 06:42:16.041"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:25.178" starttime="20191114 06:42:16.039"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:25.178" starttime="20191114 06:42:16.038"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:25.178" starttime="20191114 06:42:13.410"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:25.179" critical="yes" starttime="20191114 06:42:13.409">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 06:42:25.180" starttime="20191114 06:42:13.397"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/buckethead.robot" id="s1-s3" name="Buckethead">
<test id="s1-s3-t1" name="Head Bucket not existent">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:25.198" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:25.203" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:42:25.203" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:42:25.203" starttime="20191114 06:42:25.196"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:25.205" starttime="20191114 06:42:25.204"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:25.207" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:25.375" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:25.375" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:42:25.376" starttime="20191114 06:42:25.205"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:25.380" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:26.030" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:26.030" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.fileplan...</msg>
<status status="PASS" endtime="20191114 06:42:26.030" starttime="20191114 06:42:25.378"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:26.032" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:42:26.032" starttime="20191114 06:42:26.031"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:26.033" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:26.033" starttime="20191114 06:42:26.032"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:26.034" starttime="20191114 06:42:25.378"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:26.034" starttime="20191114 06:42:25.377"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:26.034" starttime="20191114 06:42:25.376"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:26.034" starttime="20191114 06:42:25.196"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:26.035" starttime="20191114 06:42:25.195"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:26.037" starttime="20191114 06:42:26.036"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:26.038" starttime="20191114 06:42:26.037"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:26.043" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:26.489" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:26.489" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:26.489" starttime="20191114 06:42:26.040"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:26.490" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:26.491" starttime="20191114 06:42:26.490"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:26.491" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:26.491" starttime="20191114 06:42:26.491"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:26.492" starttime="20191114 06:42:26.040"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:26.495" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:26.883" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:26.883" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:26.883" starttime="20191114 06:42:26.493"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:26.885" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:26.885" starttime="20191114 06:42:26.884"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:26.886" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:26.886" starttime="20191114 06:42:26.885"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:26.887" starttime="20191114 06:42:26.492"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:26.890" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:27.315" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:27.315" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:27.315" starttime="20191114 06:42:26.888"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:27.317" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:27.317" starttime="20191114 06:42:27.316"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:27.318" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:27.318" starttime="20191114 06:42:27.317"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:27.318" starttime="20191114 06:42:26.887"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:27.321" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:27.793" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:27.793" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:27.794" starttime="20191114 06:42:27.319"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:27.796" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:27.796" starttime="20191114 06:42:27.794"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:27.797" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:27.797" starttime="20191114 06:42:27.796"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:27.798" starttime="20191114 06:42:27.319"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:27.798" starttime="20191114 06:42:26.039"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:27.798" starttime="20191114 06:42:26.038"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:27.798" starttime="20191114 06:42:26.036"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:27.798" starttime="20191114 06:42:26.035"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:42:27.802" level="INFO">${postfix} = 97308</msg>
<status status="PASS" endtime="20191114 06:42:27.802" starttime="20191114 06:42:27.801"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:42:27.803" level="INFO">${BUCKET} = bucket-97308</msg>
<status status="PASS" endtime="20191114 06:42:27.803" starttime="20191114 06:42:27.802"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:27.808" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-97308 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:36.558" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:42:36.558" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:42:36.558" starttime="20191114 06:42:27.805"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:36.560" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:42:36.560" starttime="20191114 06:42:36.559"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:36.560" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:42:36.561" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:42:36.561" starttime="20191114 06:42:36.560"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:36.561" starttime="20191114 06:42:27.804"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:36.562" starttime="20191114 06:42:27.803"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:36.562" starttime="20191114 06:42:27.800"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:36.562" starttime="20191114 06:42:27.799"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:36.562" starttime="20191114 06:42:25.195"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:36.563" critical="yes" starttime="20191114 06:42:25.194">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 06:42:36.564" starttime="20191114 06:42:25.182"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketlist.robot" id="s1-s4" name="Bucketlist">
<test id="s1-s4-t1" name="List buckets">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:36.579" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:36.583" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:42:36.583" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:42:36.583" starttime="20191114 06:42:36.577"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:36.585" starttime="20191114 06:42:36.584"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:36.586" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:36.750" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:36.750" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:42:36.751" starttime="20191114 06:42:36.585"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:36.755" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:37.398" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:37.399" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:42:37.399" starttime="20191114 06:42:36.753"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:37.400" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:42:37.401" starttime="20191114 06:42:37.400"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:37.401" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:37.402" starttime="20191114 06:42:37.401"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:37.402" starttime="20191114 06:42:36.753"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:37.402" starttime="20191114 06:42:36.752"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:37.402" starttime="20191114 06:42:36.751"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:37.403" starttime="20191114 06:42:36.576"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:37.403" starttime="20191114 06:42:36.576"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:37.405" starttime="20191114 06:42:37.405"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:37.406" starttime="20191114 06:42:37.406"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:37.411" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:37.858" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:37.859" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:37.859" starttime="20191114 06:42:37.409"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:37.860" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:37.861" starttime="20191114 06:42:37.859"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:37.861" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:37.862" starttime="20191114 06:42:37.861"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:37.862" starttime="20191114 06:42:37.408"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:37.866" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:38.326" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:38.326" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:38.326" starttime="20191114 06:42:37.863"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:38.327" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:38.328" starttime="20191114 06:42:38.327"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:38.329" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:38.331" starttime="20191114 06:42:38.328"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:38.332" starttime="20191114 06:42:37.862"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:38.335" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:38.747" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:38.747" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:38.747" starttime="20191114 06:42:38.333"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:38.749" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:38.749" starttime="20191114 06:42:38.748"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:38.750" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:38.751" starttime="20191114 06:42:38.750"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:38.751" starttime="20191114 06:42:38.332"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:38.755" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:39.217" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:39.217" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:39.217" starttime="20191114 06:42:38.753"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:39.219" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:39.219" starttime="20191114 06:42:39.218"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:39.220" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:39.220" starttime="20191114 06:42:39.219"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:39.221" starttime="20191114 06:42:38.752"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:39.221" starttime="20191114 06:42:37.407"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:39.221" starttime="20191114 06:42:37.407"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:39.222" starttime="20191114 06:42:37.404"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:39.222" starttime="20191114 06:42:37.403"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:42:39.225" level="INFO">${postfix} = 76187</msg>
<status status="PASS" endtime="20191114 06:42:39.225" starttime="20191114 06:42:39.224"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:42:39.226" level="INFO">${BUCKET} = bucket-76187</msg>
<status status="PASS" endtime="20191114 06:42:39.226" starttime="20191114 06:42:39.225"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:39.231" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-76187 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:43.191" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:42:43.191" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:42:43.191" starttime="20191114 06:42:39.228"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:43.192" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:42:43.193" starttime="20191114 06:42:43.192"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:43.193" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:42:43.194" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:42:43.194" starttime="20191114 06:42:43.193"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:43.194" starttime="20191114 06:42:39.227"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:43.194" starttime="20191114 06:42:39.226"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:43.194" starttime="20191114 06:42:39.223"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:43.194" starttime="20191114 06:42:39.222"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:43.195" starttime="20191114 06:42:36.575"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:43.195" critical="yes" starttime="20191114 06:42:36.574">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 06:42:43.196" starttime="20191114 06:42:36.565"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/MultipartUpload.robot" id="s1-s5" name="MultipartUpload">
<test id="s1-s5-t1" name="Test Multipart Upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:43.208" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:43.212" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:42:43.212" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:42:43.212" starttime="20191114 06:42:43.206"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:43.213" starttime="20191114 06:42:43.212"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:43.215" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:43.380" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:43.380" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:42:43.380" starttime="20191114 06:42:43.213"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:43.388" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:44.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:44.136" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:42:44.136" starttime="20191114 06:42:43.385"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:44.138" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:42:44.138" starttime="20191114 06:42:44.137"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:44.139" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:44.139" starttime="20191114 06:42:44.138"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:44.140" starttime="20191114 06:42:43.384"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:44.140" starttime="20191114 06:42:43.383"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:44.140" starttime="20191114 06:42:43.381"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:44.140" starttime="20191114 06:42:43.206"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:44.141" starttime="20191114 06:42:43.206"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:44.143" starttime="20191114 06:42:44.143"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:44.144" starttime="20191114 06:42:44.144"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:44.149" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:44.578" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:44.578" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:44.578" starttime="20191114 06:42:44.147"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:44.580" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:44.580" starttime="20191114 06:42:44.579"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:44.581" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:44.581" starttime="20191114 06:42:44.580"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:44.582" starttime="20191114 06:42:44.146"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:44.585" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:45.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:45.049" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:45.049" starttime="20191114 06:42:44.583"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:45.051" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:45.051" starttime="20191114 06:42:45.050"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:45.052" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:45.052" starttime="20191114 06:42:45.051"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:45.053" starttime="20191114 06:42:44.582"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:45.056" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:45.446" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:45.446" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:45.446" starttime="20191114 06:42:45.054"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:45.448" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:45.448" starttime="20191114 06:42:45.447"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:45.449" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:45.449" starttime="20191114 06:42:45.448"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:45.449" starttime="20191114 06:42:45.053"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:45.451" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:45.875" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:45.876" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:45.876" starttime="20191114 06:42:45.450"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:45.877" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:45.878" starttime="20191114 06:42:45.876"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:45.878" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:45.879" starttime="20191114 06:42:45.878"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:45.879" starttime="20191114 06:42:45.449"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:45.879" starttime="20191114 06:42:44.145"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:45.880" starttime="20191114 06:42:44.144"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:45.880" starttime="20191114 06:42:44.142"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:45.880" starttime="20191114 06:42:44.141"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:42:45.883" level="INFO">${postfix} = 60442</msg>
<status status="PASS" endtime="20191114 06:42:45.883" starttime="20191114 06:42:45.882"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:42:45.884" level="INFO">${BUCKET} = bucket-60442</msg>
<status status="PASS" endtime="20191114 06:42:45.884" starttime="20191114 06:42:45.883"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:45.888" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-60442 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:53.502" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:42:53.502" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:42:53.502" starttime="20191114 06:42:45.886"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:53.504" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:42:53.504" starttime="20191114 06:42:53.503"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:53.505" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:42:53.505" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:42:53.506" starttime="20191114 06:42:53.504"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:53.506" starttime="20191114 06:42:45.885"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:53.506" starttime="20191114 06:42:45.884"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:53.507" starttime="20191114 06:42:45.881"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:53.507" starttime="20191114 06:42:45.880"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:53.507" starttime="20191114 06:42:43.205"></status>
</kw>
<status status="FAIL" endtime="20191114 06:42:53.507" critical="yes" starttime="20191114 06:42:43.204">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t2" name="Test Multipart Upload Complete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:53.513" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:53.520" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:42:53.520" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:42:53.520" starttime="20191114 06:42:53.511"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:53.522" starttime="20191114 06:42:53.521"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:53.525" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:53.697" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:53.697" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:42:53.697" starttime="20191114 06:42:53.522"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:53.703" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:54.395" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:54.395" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:42:54.395" starttime="20191114 06:42:53.701"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:54.397" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:42:54.397" starttime="20191114 06:42:54.396"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:54.398" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:54.398" starttime="20191114 06:42:54.397"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:54.399" starttime="20191114 06:42:53.700"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:54.399" starttime="20191114 06:42:53.699"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:54.399" starttime="20191114 06:42:53.698"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:54.399" starttime="20191114 06:42:53.510"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:54.400" starttime="20191114 06:42:53.510"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:54.403" starttime="20191114 06:42:54.402"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:54.404" starttime="20191114 06:42:54.403"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:54.409" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:54.869" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:54.870" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:54.870" starttime="20191114 06:42:54.407"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:54.871" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:54.872" starttime="20191114 06:42:54.870"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:54.872" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:54.873" starttime="20191114 06:42:54.872"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:54.873" starttime="20191114 06:42:54.405"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:54.876" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:55.347" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:55.347" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:55.348" starttime="20191114 06:42:54.874"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:55.349" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:55.349" starttime="20191114 06:42:55.348"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:55.349" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:55.350" starttime="20191114 06:42:55.349"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:55.350" starttime="20191114 06:42:54.873"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:55.353" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:55.720" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:55.720" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:55.720" starttime="20191114 06:42:55.351"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:55.721" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:55.721" starttime="20191114 06:42:55.721"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:55.722" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:55.722" starttime="20191114 06:42:55.721"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:55.722" starttime="20191114 06:42:55.350"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:55.724" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:42:56.214" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:42:56.214" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:42:56.214" starttime="20191114 06:42:55.723"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:42:56.216" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:42:56.216" starttime="20191114 06:42:56.215"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:42:56.217" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:42:56.217" starttime="20191114 06:42:56.216"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:56.217" starttime="20191114 06:42:55.722"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:56.218" starttime="20191114 06:42:54.405"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:56.218" starttime="20191114 06:42:54.404"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:56.218" starttime="20191114 06:42:54.401"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:56.218" starttime="20191114 06:42:54.400"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:42:56.219" starttime="20191114 06:42:56.219"></status>
</kw>
<status status="PASS" endtime="20191114 06:42:56.220" starttime="20191114 06:42:53.509"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:42:56.224" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-60442 --key multipartKey1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:04.733" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:43:04.733" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:04.733" starttime="20191114 06:42:56.222"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:04.735" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:04.735" starttime="20191114 06:43:04.734"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:04.736" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:43:04.737" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:43:04.737" starttime="20191114 06:43:04.735"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:04.737" starttime="20191114 06:42:56.221"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:04.738" starttime="20191114 06:42:56.220"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:04.738" critical="yes" starttime="20191114 06:42:53.508">255 != 0</status>
</test>
<test id="s1-s5-t3" name="Test Multipart Upload Complete Entity too small">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:04.744" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:04.751" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:43:04.751" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:43:04.751" starttime="20191114 06:43:04.742"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:04.753" starttime="20191114 06:43:04.752"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:04.755" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:04.944" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:04.944" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:43:04.944" starttime="20191114 06:43:04.753"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:04.951" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:05.656" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:05.656" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:43:05.656" starttime="20191114 06:43:04.949"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:05.658" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:43:05.658" starttime="20191114 06:43:05.657"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:05.658" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:05.659" starttime="20191114 06:43:05.658"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:05.659" starttime="20191114 06:43:04.948"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:05.659" starttime="20191114 06:43:04.946"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:05.659" starttime="20191114 06:43:04.945"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:05.659" starttime="20191114 06:43:04.741"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:05.660" starttime="20191114 06:43:04.741"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:05.662" starttime="20191114 06:43:05.661"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:05.663" starttime="20191114 06:43:05.662"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:05.666" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:06.055" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:06.055" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:06.055" starttime="20191114 06:43:05.664"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:06.057" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:06.057" starttime="20191114 06:43:06.056"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:06.058" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:06.058" starttime="20191114 06:43:06.057"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:06.058" starttime="20191114 06:43:05.664"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:06.061" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:06.513" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:06.513" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:06.513" starttime="20191114 06:43:06.059"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:06.515" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:06.515" starttime="20191114 06:43:06.514"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:06.515" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:06.516" starttime="20191114 06:43:06.515"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:06.516" starttime="20191114 06:43:06.058"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:06.519" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:07.005" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:07.006" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:07.006" starttime="20191114 06:43:06.517"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:07.007" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:07.008" starttime="20191114 06:43:07.006"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:07.009" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:07.009" starttime="20191114 06:43:07.008"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:07.009" starttime="20191114 06:43:06.516"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:07.013" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:07.455" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:07.455" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:07.455" starttime="20191114 06:43:07.011"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:07.456" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:07.457" starttime="20191114 06:43:07.456"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:07.457" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:07.457" starttime="20191114 06:43:07.457"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:07.458" starttime="20191114 06:43:07.010"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:07.458" starttime="20191114 06:43:05.663"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:07.458" starttime="20191114 06:43:05.663"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:07.458" starttime="20191114 06:43:05.661"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:07.458" starttime="20191114 06:43:05.660"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:07.459" starttime="20191114 06:43:07.459"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:07.460" starttime="20191114 06:43:04.740"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey2</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:07.463" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-60442 --key multipartKey2 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:17.691" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:43:17.691" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:17.691" starttime="20191114 06:43:07.461"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:17.693" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:17.693" starttime="20191114 06:43:17.692"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:17.694" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:43:17.695" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:43:17.695" starttime="20191114 06:43:17.694"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:17.696" starttime="20191114 06:43:07.461"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:17.696" starttime="20191114 06:43:07.460"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:17.696" critical="yes" starttime="20191114 06:43:04.739">255 != 0</status>
</test>
<test id="s1-s5-t4" name="Test Multipart Upload Complete Invalid part errors and complete mpu with few parts">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:17.704" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:17.711" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:43:17.711" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:43:17.711" starttime="20191114 06:43:17.701"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:17.713" starttime="20191114 06:43:17.712"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:17.715" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:17.917" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:17.917" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:43:17.917" starttime="20191114 06:43:17.713"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:17.923" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:18.597" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:18.598" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:43:18.598" starttime="20191114 06:43:17.921"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:18.600" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:43:18.600" starttime="20191114 06:43:18.599"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:18.601" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:18.601" starttime="20191114 06:43:18.600"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:18.601" starttime="20191114 06:43:17.920"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:18.602" starttime="20191114 06:43:17.920"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:18.602" starttime="20191114 06:43:17.918"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:18.602" starttime="20191114 06:43:17.701"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:18.602" starttime="20191114 06:43:17.700"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:18.605" starttime="20191114 06:43:18.604"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:18.606" starttime="20191114 06:43:18.605"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:18.611" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:19.036" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:19.036" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:19.036" starttime="20191114 06:43:18.608"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:19.039" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:19.039" starttime="20191114 06:43:19.038"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:19.041" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:19.041" starttime="20191114 06:43:19.040"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:19.042" starttime="20191114 06:43:18.608"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:19.048" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:19.466" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:19.466" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:19.466" starttime="20191114 06:43:19.044"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:19.468" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:19.468" starttime="20191114 06:43:19.467"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:19.469" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:19.470" starttime="20191114 06:43:19.469"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:19.470" starttime="20191114 06:43:19.042"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:19.474" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:19.893" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:19.893" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:19.893" starttime="20191114 06:43:19.471"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:19.896" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:19.896" starttime="20191114 06:43:19.894"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:19.896" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:19.897" starttime="20191114 06:43:19.896"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:19.897" starttime="20191114 06:43:19.470"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:19.900" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:20.346" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:20.347" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:20.347" starttime="20191114 06:43:19.898"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:20.349" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:20.349" starttime="20191114 06:43:20.348"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:20.350" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:20.350" starttime="20191114 06:43:20.349"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:20.351" starttime="20191114 06:43:19.897"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:20.351" starttime="20191114 06:43:18.607"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:20.351" starttime="20191114 06:43:18.606"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:20.351" starttime="20191114 06:43:18.604"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:20.352" starttime="20191114 06:43:18.603"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:20.353" starttime="20191114 06:43:20.352"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:20.353" starttime="20191114 06:43:17.699"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey3</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:20.358" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-60442 --key multipartKey3 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:28.952" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:43:28.952" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:28.952" starttime="20191114 06:43:20.356"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:28.954" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:28.954" starttime="20191114 06:43:28.953"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:28.955" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:43:28.956" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:43:28.956" starttime="20191114 06:43:28.955"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:28.956" starttime="20191114 06:43:20.355"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:28.956" starttime="20191114 06:43:20.354"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:28.957" critical="yes" starttime="20191114 06:43:17.697">255 != 0</status>
</test>
<test id="s1-s5-t5" name="Test abort Multipart upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:28.962" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:28.968" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:43:28.969" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:43:28.969" starttime="20191114 06:43:28.960"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:28.971" starttime="20191114 06:43:28.970"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:28.973" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:29.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:29.136" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:43:29.136" starttime="20191114 06:43:28.971"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:29.142" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:29.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:29.807" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirrors.kernel.org
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package a...</msg>
<status status="PASS" endtime="20191114 06:43:29.807" starttime="20191114 06:43:29.140"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:29.808" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirrors.kernel.org
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:43:29.809" starttime="20191114 06:43:29.808"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:29.810" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:29.810" starttime="20191114 06:43:29.809"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:29.811" starttime="20191114 06:43:29.139"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:29.811" starttime="20191114 06:43:29.138"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:29.811" starttime="20191114 06:43:29.137"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:29.811" starttime="20191114 06:43:28.959"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:29.811" starttime="20191114 06:43:28.959"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:29.814" starttime="20191114 06:43:29.813"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:29.815" starttime="20191114 06:43:29.815"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:29.821" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:30.301" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:30.301" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:30.301" starttime="20191114 06:43:29.817"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:30.302" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:30.302" starttime="20191114 06:43:30.302"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:30.303" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:30.303" starttime="20191114 06:43:30.303"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:30.304" starttime="20191114 06:43:29.817"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:30.307" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:30.728" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:30.728" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:30.729" starttime="20191114 06:43:30.305"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:30.730" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:30.730" starttime="20191114 06:43:30.729"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:30.731" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:30.732" starttime="20191114 06:43:30.731"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:30.732" starttime="20191114 06:43:30.304"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:30.736" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:31.198" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:31.198" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:31.199" starttime="20191114 06:43:30.733"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:31.200" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:31.201" starttime="20191114 06:43:31.199"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:31.201" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:31.202" starttime="20191114 06:43:31.201"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:31.202" starttime="20191114 06:43:30.732"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:31.205" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:31.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:31.654" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:31.654" starttime="20191114 06:43:31.203"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:31.656" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:31.656" starttime="20191114 06:43:31.655"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:31.657" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:31.657" starttime="20191114 06:43:31.656"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:31.658" starttime="20191114 06:43:31.202"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:31.658" starttime="20191114 06:43:29.816"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:31.658" starttime="20191114 06:43:29.815"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:31.658" starttime="20191114 06:43:29.813"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:31.659" starttime="20191114 06:43:29.812"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:31.660" starttime="20191114 06:43:31.659"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:31.660" starttime="20191114 06:43:28.958"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey4 --storage-class REDUCED_REDUNDANCY</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:31.665" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-60442 --key multipartKey4 --storage-class REDUCED_REDUNDANCY 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:38.404" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:43:38.404" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:38.404" starttime="20191114 06:43:31.662"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:38.406" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:38.406" starttime="20191114 06:43:38.405"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:38.407" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:43:38.408" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:43:38.408" starttime="20191114 06:43:38.407"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:38.409" starttime="20191114 06:43:31.661"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:38.409" starttime="20191114 06:43:31.660"></status>
</kw>
<status status="FAIL" endtime="20191114 06:43:38.409" critical="yes" starttime="20191114 06:43:28.957">255 != 0</status>
</test>
<test id="s1-s5-t6" name="Test abort Multipart upload with invalid uploadId">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:38.416" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:38.423" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:43:38.423" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:43:38.423" starttime="20191114 06:43:38.413"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:38.425" starttime="20191114 06:43:38.424"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:38.428" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:38.636" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:38.636" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:43:38.636" starttime="20191114 06:43:38.425"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:38.643" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:39.317" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:39.317" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:43:39.317" starttime="20191114 06:43:38.640"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:39.318" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:43:39.318" starttime="20191114 06:43:39.318"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:39.319" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:39.319" starttime="20191114 06:43:39.319"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:39.320" starttime="20191114 06:43:38.639"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:39.320" starttime="20191114 06:43:38.638"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:39.320" starttime="20191114 06:43:38.637"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:39.320" starttime="20191114 06:43:38.413"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:39.320" starttime="20191114 06:43:38.412"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:39.322" starttime="20191114 06:43:39.321"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:39.322" starttime="20191114 06:43:39.322"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:39.325" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:39.729" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:39.729" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:39.729" starttime="20191114 06:43:39.324"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:39.731" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:39.731" starttime="20191114 06:43:39.730"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:39.732" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:39.732" starttime="20191114 06:43:39.731"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:39.732" starttime="20191114 06:43:39.323"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:39.735" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:40.085" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:40.085" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:40.085" starttime="20191114 06:43:39.733"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:40.087" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:40.087" starttime="20191114 06:43:40.086"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:40.088" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:40.088" starttime="20191114 06:43:40.087"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:40.089" starttime="20191114 06:43:39.732"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:40.092" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:40.588" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:40.588" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:40.588" starttime="20191114 06:43:40.090"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:40.590" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:40.590" starttime="20191114 06:43:40.589"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:40.591" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:40.591" starttime="20191114 06:43:40.590"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:40.592" starttime="20191114 06:43:40.089"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:40.595" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:41.010" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:41.010" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:41.010" starttime="20191114 06:43:40.593"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:41.012" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:41.012" starttime="20191114 06:43:41.011"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:41.013" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:41.013" starttime="20191114 06:43:41.012"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:41.014" starttime="20191114 06:43:40.592"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:41.014" starttime="20191114 06:43:39.323"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:41.014" starttime="20191114 06:43:39.322"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:41.014" starttime="20191114 06:43:39.321"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:41.015" starttime="20191114 06:43:39.320"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:41.016" starttime="20191114 06:43:41.015"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:41.016" starttime="20191114 06:43:38.411"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>abort-multipart-upload --bucket ${BUCKET} --key multipartKey5 --upload-id "random"</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:41.020" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 abort-multipart-upload --bucket bucket-60442 --key multipartKey5 --upload-id "random" 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:51.034" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:43:51.034" level="INFO">${output} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:51.035" starttime="20191114 06:43:41.018"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:51.036" level="INFO">
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:51.037" starttime="20191114 06:43:51.035"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 06:43:51.037" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:51.037" starttime="20191114 06:43:51.037"></status>
</kw>
<msg timestamp="20191114 06:43:51.038" level="INFO">${output} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:51.038" starttime="20191114 06:43:41.017"></status>
</kw>
<msg timestamp="20191114 06:43:51.038" level="INFO">${result} = 
An error occurred (500) when calling the AbortMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:43:51.038" starttime="20191114 06:43:41.016"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:51.039" critical="yes" starttime="20191114 06:43:38.410"></status>
</test>
<test id="s1-s5-t7" name="Upload part with Incorrect uploadID">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:51.044" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:51.051" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:43:51.051" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:43:51.051" starttime="20191114 06:43:51.042"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:51.052" starttime="20191114 06:43:51.051"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:51.054" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:51.273" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:51.273" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:43:51.273" starttime="20191114 06:43:51.052"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:51.278" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:51.971" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:51.971" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.fileplan...</msg>
<status status="PASS" endtime="20191114 06:43:51.971" starttime="20191114 06:43:51.276"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:51.972" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:43:51.973" starttime="20191114 06:43:51.972"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:51.973" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:51.973" starttime="20191114 06:43:51.973"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:51.974" starttime="20191114 06:43:51.275"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:51.974" starttime="20191114 06:43:51.275"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:51.974" starttime="20191114 06:43:51.274"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:51.974" starttime="20191114 06:43:51.042"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:51.975" starttime="20191114 06:43:51.041"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:51.977" starttime="20191114 06:43:51.976"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:51.977" starttime="20191114 06:43:51.977"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:51.981" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:52.433" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:52.433" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:52.433" starttime="20191114 06:43:51.979"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:52.434" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:52.434" starttime="20191114 06:43:52.434"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:52.435" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:52.435" starttime="20191114 06:43:52.435"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:52.435" starttime="20191114 06:43:51.979"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:52.438" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:52.859" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:52.859" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:52.859" starttime="20191114 06:43:52.436"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:52.861" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:52.861" starttime="20191114 06:43:52.860"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:52.862" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:52.862" starttime="20191114 06:43:52.861"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:52.863" starttime="20191114 06:43:52.436"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:52.866" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:53.309" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:53.309" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:53.309" starttime="20191114 06:43:52.864"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:53.311" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:53.311" starttime="20191114 06:43:53.310"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:53.312" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:53.313" starttime="20191114 06:43:53.312"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:53.313" starttime="20191114 06:43:52.863"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:53.316" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:43:53.742" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:53.742" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:53.742" starttime="20191114 06:43:53.314"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:53.744" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:53.744" starttime="20191114 06:43:53.743"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:53.745" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:53.745" starttime="20191114 06:43:53.744"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:53.745" starttime="20191114 06:43:53.313"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:53.746" starttime="20191114 06:43:51.978"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:53.746" starttime="20191114 06:43:51.978"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:53.746" starttime="20191114 06:43:51.976"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:53.746" starttime="20191114 06:43:51.975"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:43:53.747" starttime="20191114 06:43:53.747"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:53.747" starttime="20191114 06:43:51.040"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>echo "Multipart upload" &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:53.750" level="INFO">Running command 'echo "Multipart upload" &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 06:43:53.755" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:43:53.755" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:43:53.755" starttime="20191114 06:43:53.748"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:43:53.756" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:43:53.756" starttime="20191114 06:43:53.756"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:43:53.757" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:43:53.757" starttime="20191114 06:43:53.757"></status>
</kw>
<status status="PASS" endtime="20191114 06:43:53.758" starttime="20191114 06:43:53.748"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>upload-part --bucket ${BUCKET} --key multipartKey --part-number 1 --body /tmp/testfile --upload-id "random"</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:43:53.761" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 upload-part --bucket bucket-60442 --key multipartKey --part-number 1 --body /tmp/testfile --upload-id "random" 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:02.027" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:44:02.027" level="INFO">${output} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:02.028" starttime="20191114 06:43:53.759"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:02.030" level="INFO">
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:02.030" starttime="20191114 06:44:02.029"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 06:44:02.031" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:02.031" starttime="20191114 06:44:02.030"></status>
</kw>
<msg timestamp="20191114 06:44:02.032" level="INFO">${output} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:02.032" starttime="20191114 06:43:53.759"></status>
</kw>
<msg timestamp="20191114 06:44:02.033" level="INFO">${result} = 
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:02.033" starttime="20191114 06:43:53.758"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchUpload</arg>
</arguments>
<msg timestamp="20191114 06:44:02.034" level="FAIL">'
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchUpload'</msg>
<status status="FAIL" endtime="20191114 06:44:02.034" starttime="20191114 06:44:02.033"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:02.035" critical="yes" starttime="20191114 06:43:51.039">'
An error occurred (500) when calling the UploadPart operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchUpload'</status>
</test>
<test id="s1-s5-t8" name="Test list parts">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:02.041" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:02.049" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:44:02.049" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:44:02.049" starttime="20191114 06:44:02.039"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:02.051" starttime="20191114 06:44:02.050"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:02.054" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:02.234" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:02.234" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:44:02.234" starttime="20191114 06:44:02.052"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:02.240" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:02.913" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:02.913" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:44:02.913" starttime="20191114 06:44:02.238"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:02.915" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:44:02.916" starttime="20191114 06:44:02.914"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:02.916" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:02.917" starttime="20191114 06:44:02.916"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:02.917" starttime="20191114 06:44:02.237"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:02.918" starttime="20191114 06:44:02.236"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:02.918" starttime="20191114 06:44:02.235"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:02.918" starttime="20191114 06:44:02.038"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:02.918" starttime="20191114 06:44:02.037"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:02.922" starttime="20191114 06:44:02.920"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:02.923" starttime="20191114 06:44:02.922"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:02.928" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:03.374" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:03.374" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:03.374" starttime="20191114 06:44:02.925"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:03.376" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:03.376" starttime="20191114 06:44:03.375"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:03.377" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:03.377" starttime="20191114 06:44:03.376"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:03.378" starttime="20191114 06:44:02.925"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:03.382" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:03.797" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:03.797" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:03.797" starttime="20191114 06:44:03.379"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:03.799" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:03.799" starttime="20191114 06:44:03.798"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:03.800" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:03.800" starttime="20191114 06:44:03.799"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:03.800" starttime="20191114 06:44:03.378"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:03.804" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:04.239" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:04.239" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:04.240" starttime="20191114 06:44:03.802"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:04.241" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:04.241" starttime="20191114 06:44:04.240"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:04.242" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:04.242" starttime="20191114 06:44:04.241"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:04.242" starttime="20191114 06:44:03.801"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:04.245" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:04.658" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:04.659" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:04.659" starttime="20191114 06:44:04.243"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:04.660" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:04.660" starttime="20191114 06:44:04.659"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:04.661" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:04.662" starttime="20191114 06:44:04.661"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:04.662" starttime="20191114 06:44:04.243"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:04.662" starttime="20191114 06:44:02.924"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:04.663" starttime="20191114 06:44:02.923"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:04.663" starttime="20191114 06:44:02.920"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:04.663" starttime="20191114 06:44:02.919"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:04.664" starttime="20191114 06:44:04.663"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:04.664" starttime="20191114 06:44:02.037"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key multipartKey5</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:04.669" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-60442 --key multipartKey5 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:13.348" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:44:13.349" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:13.349" starttime="20191114 06:44:04.667"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:13.350" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:13.350" starttime="20191114 06:44:13.349"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:13.351" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:44:13.352" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:44:13.352" starttime="20191114 06:44:13.351"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:13.353" starttime="20191114 06:44:04.666"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:13.353" starttime="20191114 06:44:04.665"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:13.353" critical="yes" starttime="20191114 06:44:02.036">255 != 0</status>
</test>
<test id="s1-s5-t9" name="Test Multipart Upload with the simplified aws s3 cp API">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:13.361" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:13.366" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:44:13.367" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:44:13.367" starttime="20191114 06:44:13.357"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:13.369" starttime="20191114 06:44:13.367"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:13.371" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:13.553" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:13.554" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:44:13.554" starttime="20191114 06:44:13.369"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:13.560" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:14.220" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:14.220" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirrors.kernel.org
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package a...</msg>
<status status="PASS" endtime="20191114 06:44:14.220" starttime="20191114 06:44:13.558"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:14.221" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirrors.kernel.org
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:44:14.222" starttime="20191114 06:44:14.221"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:14.222" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:14.223" starttime="20191114 06:44:14.222"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:14.223" starttime="20191114 06:44:13.557"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:14.223" starttime="20191114 06:44:13.556"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:14.223" starttime="20191114 06:44:13.555"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:14.224" starttime="20191114 06:44:13.356"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:14.224" starttime="20191114 06:44:13.356"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:14.226" starttime="20191114 06:44:14.225"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:14.227" starttime="20191114 06:44:14.226"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:14.231" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:14.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:14.635" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:14.635" starttime="20191114 06:44:14.229"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:14.636" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:14.636" starttime="20191114 06:44:14.635"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:14.636" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:14.637" starttime="20191114 06:44:14.636"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:14.637" starttime="20191114 06:44:14.228"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:14.639" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:15.075" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:15.075" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:15.075" starttime="20191114 06:44:14.638"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:15.076" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:15.076" starttime="20191114 06:44:15.076"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:15.077" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:15.077" starttime="20191114 06:44:15.077"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:15.078" starttime="20191114 06:44:14.637"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:15.081" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:15.539" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:15.539" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:15.539" starttime="20191114 06:44:15.078"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:15.541" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:15.541" starttime="20191114 06:44:15.540"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:15.542" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:15.542" starttime="20191114 06:44:15.541"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:15.543" starttime="20191114 06:44:15.078"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:15.546" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:16.008" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:16.008" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:16.008" starttime="20191114 06:44:15.544"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:16.011" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:16.011" starttime="20191114 06:44:16.009"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:16.012" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:16.012" starttime="20191114 06:44:16.011"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:16.012" starttime="20191114 06:44:15.543"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:16.012" starttime="20191114 06:44:14.228"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:16.013" starttime="20191114 06:44:14.227"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:16.013" starttime="20191114 06:44:14.225"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:16.013" starttime="20191114 06:44:14.224"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:16.014" starttime="20191114 06:44:16.013"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:16.014" starttime="20191114 06:44:13.355"></status>
</kw>
<kw name="Create Random file">
<arguments>
<arg>22</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:16.018" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=22 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:16.242" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:16.242" level="INFO">${output} = 22+0 records in
22+0 records out
23068672 bytes (23 MB) copied, 0.215602 s, 107 MB/s</msg>
<status status="PASS" endtime="20191114 06:44:16.242" starttime="20191114 06:44:16.016"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:16.244" level="INFO">22+0 records in
22+0 records out
23068672 bytes (23 MB) copied, 0.215602 s, 107 MB/s</msg>
<status status="PASS" endtime="20191114 06:44:16.244" starttime="20191114 06:44:16.243"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:16.245" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:16.245" starttime="20191114 06:44:16.244"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:16.245" starttime="20191114 06:44:16.015"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:16.246" starttime="20191114 06:44:16.015"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/part1 s3://${BUCKET}/mpyawscli</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:16.250" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/part1 s3://bucket-60442/mpyawscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:26.121" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:44:26.121" level="INFO">${output} = upload failed: ../../tmp/part1 to s3://bucket-60442/mpyawscli An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:26.121" starttime="20191114 06:44:16.248"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:26.123" level="INFO">upload failed: ../../tmp/part1 to s3://bucket-60442/mpyawscli An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:26.124" starttime="20191114 06:44:26.122"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:26.124" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:44:26.125" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 06:44:26.125" starttime="20191114 06:44:26.124"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:26.126" starttime="20191114 06:44:16.247"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:26.126" starttime="20191114 06:44:16.246"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:26.127" critical="yes" starttime="20191114 06:44:13.354">1 != 0</status>
</test>
<test id="s1-s5-t10" name="Test Multipart Upload Put With Copy">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:26.133" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:26.139" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:44:26.139" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:44:26.139" starttime="20191114 06:44:26.130"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:26.141" starttime="20191114 06:44:26.140"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:26.143" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:26.324" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:26.324" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:44:26.324" starttime="20191114 06:44:26.141"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:26.331" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:27.094" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:27.094" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:44:27.094" starttime="20191114 06:44:26.328"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:27.096" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:44:27.096" starttime="20191114 06:44:27.095"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:27.097" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:27.097" starttime="20191114 06:44:27.096"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:27.098" starttime="20191114 06:44:26.327"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:27.098" starttime="20191114 06:44:26.327"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:27.098" starttime="20191114 06:44:26.325"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:27.098" starttime="20191114 06:44:26.130"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:27.099" starttime="20191114 06:44:26.129"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:27.103" starttime="20191114 06:44:27.102"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:27.105" starttime="20191114 06:44:27.104"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:27.114" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:27.539" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:27.539" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:27.539" starttime="20191114 06:44:27.110"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:27.541" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:27.541" starttime="20191114 06:44:27.540"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:27.542" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:27.542" starttime="20191114 06:44:27.541"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:27.543" starttime="20191114 06:44:27.109"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:27.546" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:28.028" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:28.028" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:28.029" starttime="20191114 06:44:27.544"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:28.030" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:28.030" starttime="20191114 06:44:28.029"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:28.032" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:28.032" starttime="20191114 06:44:28.031"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:28.032" starttime="20191114 06:44:27.543"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:28.036" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:28.487" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:28.487" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:28.487" starttime="20191114 06:44:28.034"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:28.489" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:28.489" starttime="20191114 06:44:28.488"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:28.490" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:28.490" starttime="20191114 06:44:28.489"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:28.491" starttime="20191114 06:44:28.033"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:28.494" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:28.936" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:28.936" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:28.936" starttime="20191114 06:44:28.492"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:28.938" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:28.938" starttime="20191114 06:44:28.937"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:28.939" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:28.940" starttime="20191114 06:44:28.939"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:28.940" starttime="20191114 06:44:28.491"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:28.941" starttime="20191114 06:44:27.107"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:28.941" starttime="20191114 06:44:27.106"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:28.941" starttime="20191114 06:44:27.101"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:28.941" starttime="20191114 06:44:27.099"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:28.942" starttime="20191114 06:44:28.942"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:28.943" starttime="20191114 06:44:26.128"></status>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Create Random file</arg>
<arg>5</arg>
</arguments>
<kw name="Create Random file">
<arguments>
<arg>5</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:28.948" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=5 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:29.020" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:29.020" level="INFO">${output} = 5+0 records in
5+0 records out
5242880 bytes (5.2 MB) copied, 0.054732 s, 95.8 MB/s</msg>
<status status="PASS" endtime="20191114 06:44:29.020" starttime="20191114 06:44:28.945"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:29.022" level="INFO">5+0 records in
5+0 records out
5242880 bytes (5.2 MB) copied, 0.054732 s, 95.8 MB/s</msg>
<status status="PASS" endtime="20191114 06:44:29.022" starttime="20191114 06:44:29.021"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:29.023" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:29.023" starttime="20191114 06:44:29.023"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:29.024" starttime="20191114 06:44:28.944"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:29.024" starttime="20191114 06:44:28.944"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:29.024" starttime="20191114 06:44:28.943"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>put-object --bucket ${BUCKET} --key copytest/source --body /tmp/part1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:29.029" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket bucket-60442 --key copytest/source --body /tmp/part1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:33.230" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:44:33.230" level="INFO">${output} = 
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 06:44:33.231" starttime="20191114 06:44:29.027"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:33.232" level="INFO">
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 06:44:33.233" starttime="20191114 06:44:33.231"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:33.234" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:44:33.234" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:44:33.234" starttime="20191114 06:44:33.233"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:33.235" starttime="20191114 06:44:29.026"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:33.235" starttime="20191114 06:44:29.025"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:33.236" critical="yes" starttime="20191114 06:44:26.127">255 != 0</status>
</test>
<test id="s1-s5-t11" name="Test Multipart Upload Put With Copy and range">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:33.243" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:33.249" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:44:33.249" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:44:33.250" starttime="20191114 06:44:33.241"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:33.251" starttime="20191114 06:44:33.250"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:33.254" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:33.441" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:33.441" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:44:33.441" starttime="20191114 06:44:33.252"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:33.445" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:34.161" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:34.161" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirrors.kernel.org
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package a...</msg>
<status status="PASS" endtime="20191114 06:44:34.161" starttime="20191114 06:44:33.444"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:34.163" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirrors.kernel.org
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:44:34.163" starttime="20191114 06:44:34.162"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:34.164" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:34.164" starttime="20191114 06:44:34.164"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:34.165" starttime="20191114 06:44:33.443"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:34.165" starttime="20191114 06:44:33.443"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:34.165" starttime="20191114 06:44:33.442"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:34.166" starttime="20191114 06:44:33.240"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:34.166" starttime="20191114 06:44:33.239"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:34.169" starttime="20191114 06:44:34.168"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:34.170" starttime="20191114 06:44:34.169"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:34.174" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:34.582" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:34.582" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:34.582" starttime="20191114 06:44:34.172"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:34.584" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:34.584" starttime="20191114 06:44:34.583"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:34.585" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:34.585" starttime="20191114 06:44:34.585"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:34.586" starttime="20191114 06:44:34.171"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:34.589" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:35.013" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:35.013" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:35.013" starttime="20191114 06:44:34.587"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:35.015" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:35.015" starttime="20191114 06:44:35.014"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:35.016" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:35.017" starttime="20191114 06:44:35.015"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:35.017" starttime="20191114 06:44:34.586"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:35.020" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:35.470" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:35.470" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:35.470" starttime="20191114 06:44:35.018"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:35.472" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:35.472" starttime="20191114 06:44:35.471"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:35.473" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:35.474" starttime="20191114 06:44:35.472"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:35.474" starttime="20191114 06:44:35.017"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:35.477" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:35.919" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:35.919" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:35.919" starttime="20191114 06:44:35.475"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:35.921" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:35.921" starttime="20191114 06:44:35.920"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:35.922" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:35.923" starttime="20191114 06:44:35.922"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:35.923" starttime="20191114 06:44:35.474"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:35.923" starttime="20191114 06:44:34.171"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:35.924" starttime="20191114 06:44:34.170"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:35.924" starttime="20191114 06:44:34.167"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:35.924" starttime="20191114 06:44:34.166"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:35.925" starttime="20191114 06:44:35.924"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:35.925" starttime="20191114 06:44:33.238"></status>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Create Random file</arg>
<arg>10</arg>
</arguments>
<kw name="Create Random file">
<arguments>
<arg>10</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=${size_in_megabytes}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:35.931" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/part1 bs=1048576 count=10 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:36.034" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:36.034" level="INFO">${output} = 10+0 records in
10+0 records out
10485760 bytes (10 MB) copied, 0.0946898 s, 111 MB/s</msg>
<status status="PASS" endtime="20191114 06:44:36.034" starttime="20191114 06:44:35.928"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:36.036" level="INFO">10+0 records in
10+0 records out
10485760 bytes (10 MB) copied, 0.0946898 s, 111 MB/s</msg>
<status status="PASS" endtime="20191114 06:44:36.036" starttime="20191114 06:44:36.035"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:36.037" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:36.037" starttime="20191114 06:44:36.036"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:36.038" starttime="20191114 06:44:35.927"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:36.038" starttime="20191114 06:44:35.926"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:36.038" starttime="20191114 06:44:35.926"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>put-object --bucket ${BUCKET} --key copyrange/source --body /tmp/part1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:36.043" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket bucket-60442 --key copyrange/source --body /tmp/part1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:44.400" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:44:44.400" level="INFO">${output} = 
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 06:44:44.400" starttime="20191114 06:44:36.041"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:44.401" level="INFO">
('Connection aborted.', error(32, 'Broken pipe'))</msg>
<status status="PASS" endtime="20191114 06:44:44.401" starttime="20191114 06:44:44.400"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:44.402" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:44:44.402" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:44:44.402" starttime="20191114 06:44:44.401"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:44.402" starttime="20191114 06:44:36.040"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:44.403" starttime="20191114 06:44:36.039"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:44.403" critical="yes" starttime="20191114 06:44:33.237">255 != 0</status>
</test>
<test id="s1-s5-t12" name="Test Multipart Upload list">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:44.407" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:44.411" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:44:44.411" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:44:44.411" starttime="20191114 06:44:44.405"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:44.413" starttime="20191114 06:44:44.412"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:44.414" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:44.573" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:44.573" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:44:44.574" starttime="20191114 06:44:44.413"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:44.580" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:45.282" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:45.282" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:44:45.282" starttime="20191114 06:44:44.577"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:45.284" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:44:45.284" starttime="20191114 06:44:45.283"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:45.285" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:45.286" starttime="20191114 06:44:45.285"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:45.286" starttime="20191114 06:44:44.577"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:45.286" starttime="20191114 06:44:44.576"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:45.287" starttime="20191114 06:44:44.574"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:45.287" starttime="20191114 06:44:44.405"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:45.287" starttime="20191114 06:44:44.405"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:45.290" starttime="20191114 06:44:45.289"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:45.291" starttime="20191114 06:44:45.290"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:45.296" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:45.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:45.705" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:45.705" starttime="20191114 06:44:45.294"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:45.707" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:45.707" starttime="20191114 06:44:45.706"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:45.708" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:45.709" starttime="20191114 06:44:45.707"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:45.709" starttime="20191114 06:44:45.293"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:45.713" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:46.122" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:46.122" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:46.122" starttime="20191114 06:44:45.710"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:46.124" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:46.124" starttime="20191114 06:44:46.123"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:46.125" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:46.125" starttime="20191114 06:44:46.124"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:46.126" starttime="20191114 06:44:45.709"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:46.129" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:46.527" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:46.528" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:46.528" starttime="20191114 06:44:46.127"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:46.530" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:46.530" starttime="20191114 06:44:46.529"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:46.531" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:46.531" starttime="20191114 06:44:46.530"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:46.531" starttime="20191114 06:44:46.126"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:46.535" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:46.995" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:46.995" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:46.996" starttime="20191114 06:44:46.533"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:46.997" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:46.997" starttime="20191114 06:44:46.996"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:46.998" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:46.998" starttime="20191114 06:44:46.997"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:46.999" starttime="20191114 06:44:46.532"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:46.999" starttime="20191114 06:44:45.293"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:46.999" starttime="20191114 06:44:45.291"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:46.999" starttime="20191114 06:44:45.288"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:46.999" starttime="20191114 06:44:45.287"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:47.001" starttime="20191114 06:44:47.000"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:47.001" starttime="20191114 06:44:44.404"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-multipart-upload --bucket ${BUCKET} --key listtest/key1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:47.005" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-multipart-upload --bucket bucket-60442 --key listtest/key1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:58.444" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:44:58.444" level="INFO">${output} = 
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:58.444" starttime="20191114 06:44:47.003"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:58.446" level="INFO">
An error occurred (500) when calling the CreateMultipartUpload operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:44:58.446" starttime="20191114 06:44:58.445"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:58.447" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:44:58.448" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:44:58.448" starttime="20191114 06:44:58.447"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:58.449" starttime="20191114 06:44:47.002"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:58.449" starttime="20191114 06:44:47.001"></status>
</kw>
<status status="FAIL" endtime="20191114 06:44:58.450" critical="yes" starttime="20191114 06:44:44.403">255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 06:44:58.453" starttime="20191114 06:42:43.197"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectcopy.robot" id="s1-s6" name="Objectcopy">
<test id="s1-s6-t1" name="Copy Object Happy Scenario">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:58.479" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:58.485" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:44:58.485" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:44:58.485" starttime="20191114 06:44:58.477"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:58.487" starttime="20191114 06:44:58.486"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:58.489" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:58.693" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:58.694" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:44:58.694" starttime="20191114 06:44:58.487"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:58.700" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:59.393" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:59.394" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:44:59.394" starttime="20191114 06:44:58.698"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:59.395" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:44:59.396" starttime="20191114 06:44:59.395"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:59.396" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:59.396" starttime="20191114 06:44:59.396"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:59.397" starttime="20191114 06:44:58.697"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:59.397" starttime="20191114 06:44:58.696"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:59.397" starttime="20191114 06:44:58.695"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:59.398" starttime="20191114 06:44:58.476"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:59.398" starttime="20191114 06:44:58.476"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:59.400" starttime="20191114 06:44:59.399"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:44:59.401" starttime="20191114 06:44:59.400"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:59.405" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:44:59.875" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:44:59.875" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:44:59.875" starttime="20191114 06:44:59.403"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:44:59.877" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:44:59.877" starttime="20191114 06:44:59.876"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:44:59.879" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:44:59.879" starttime="20191114 06:44:59.877"></status>
</kw>
<status status="PASS" endtime="20191114 06:44:59.879" starttime="20191114 06:44:59.402"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:44:59.883" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:00.322" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:00.322" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:00.323" starttime="20191114 06:44:59.880"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:00.324" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:00.324" starttime="20191114 06:45:00.323"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:00.325" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:00.325" starttime="20191114 06:45:00.325"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:00.326" starttime="20191114 06:44:59.880"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:00.329" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:00.793" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:00.794" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:00.794" starttime="20191114 06:45:00.327"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:00.796" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:00.796" starttime="20191114 06:45:00.795"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:00.797" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:00.797" starttime="20191114 06:45:00.796"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:00.798" starttime="20191114 06:45:00.326"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:00.801" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:01.303" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:01.304" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:01.304" starttime="20191114 06:45:00.799"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:01.305" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:01.306" starttime="20191114 06:45:01.304"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:01.306" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:01.307" starttime="20191114 06:45:01.306"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:01.307" starttime="20191114 06:45:00.798"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:01.307" starttime="20191114 06:44:59.402"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:01.308" starttime="20191114 06:44:59.401"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:01.308" starttime="20191114 06:44:59.399"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:01.308" starttime="20191114 06:44:59.398"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:45:01.311" level="INFO">${postfix} = 81973</msg>
<status status="PASS" endtime="20191114 06:45:01.311" starttime="20191114 06:45:01.310"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:45:01.311" level="INFO">${BUCKET} = bucket-81973</msg>
<status status="PASS" endtime="20191114 06:45:01.312" starttime="20191114 06:45:01.311"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:01.315" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-81973 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:11.873" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:45:11.873" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:11.873" starttime="20191114 06:45:01.313"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:11.874" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:11.875" starttime="20191114 06:45:11.874"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:11.875" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:45:11.876" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:45:11.876" starttime="20191114 06:45:11.875"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:11.876" starttime="20191114 06:45:01.312"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:11.876" starttime="20191114 06:45:01.312"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:11.877" starttime="20191114 06:45:01.309"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:11.877" starttime="20191114 06:45:01.308"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:11.877" starttime="20191114 06:44:58.475"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:11.877" critical="yes" starttime="20191114 06:44:58.474">Setup failed:
255 != 0</status>
</test>
<test id="s1-s6-t2" name="Copy Object Where Bucket is not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:11.882" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:11.888" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:45:11.888" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:45:11.889" starttime="20191114 06:45:11.880"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:11.890" starttime="20191114 06:45:11.889"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:11.892" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:12.066" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:12.066" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:45:12.066" starttime="20191114 06:45:11.890"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:12.072" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:12.782" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:12.782" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:45:12.782" starttime="20191114 06:45:12.070"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:12.784" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:45:12.784" starttime="20191114 06:45:12.783"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:12.785" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:12.785" starttime="20191114 06:45:12.784"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:12.786" starttime="20191114 06:45:12.069"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:12.786" starttime="20191114 06:45:12.068"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:12.786" starttime="20191114 06:45:12.067"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:12.786" starttime="20191114 06:45:11.880"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:12.786" starttime="20191114 06:45:11.879"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:12.789" starttime="20191114 06:45:12.789"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:12.790" starttime="20191114 06:45:12.790"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:12.795" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:13.292" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:13.292" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:13.292" starttime="20191114 06:45:12.793"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:13.294" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:13.294" starttime="20191114 06:45:13.293"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:13.294" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:13.295" starttime="20191114 06:45:13.294"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:13.295" starttime="20191114 06:45:12.792"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:13.298" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:13.744" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:13.744" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:13.744" starttime="20191114 06:45:13.296"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:13.746" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:13.746" starttime="20191114 06:45:13.745"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:13.747" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:13.747" starttime="20191114 06:45:13.746"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:13.748" starttime="20191114 06:45:13.295"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:13.751" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:14.156" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:14.156" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:14.156" starttime="20191114 06:45:13.749"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:14.157" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:14.158" starttime="20191114 06:45:14.157"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:14.158" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:14.158" starttime="20191114 06:45:14.158"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:14.159" starttime="20191114 06:45:13.748"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:14.161" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:14.555" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:14.555" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:14.555" starttime="20191114 06:45:14.160"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:14.557" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:14.557" starttime="20191114 06:45:14.556"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:14.558" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:14.558" starttime="20191114 06:45:14.558"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:14.559" starttime="20191114 06:45:14.159"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:14.559" starttime="20191114 06:45:12.791"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:14.560" starttime="20191114 06:45:12.791"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:14.560" starttime="20191114 06:45:12.788"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:14.560" starttime="20191114 06:45:12.787"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:14.561" starttime="20191114 06:45:14.560"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:14.561" starttime="20191114 06:45:11.879"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>copy-object --bucket dfdfdfdfdfnonexistent --key copyobject/f1 --copy-source ${BUCKET}/copyobject/f1</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:14.567" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --bucket dfdfdfdfdfnonexistent --key copyobject/f1 --copy-source bucket-81973/copyobject/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:25.684" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:45:25.684" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:25.684" starttime="20191114 06:45:14.564"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:25.686" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:25.686" starttime="20191114 06:45:25.685"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 06:45:25.687" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:25.687" starttime="20191114 06:45:25.686"></status>
</kw>
<msg timestamp="20191114 06:45:25.687" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:25.687" starttime="20191114 06:45:14.563"></status>
</kw>
<msg timestamp="20191114 06:45:25.688" level="INFO">${result} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:25.688" starttime="20191114 06:45:14.562"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchBucket</arg>
</arguments>
<msg timestamp="20191114 06:45:25.689" level="FAIL">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</msg>
<status status="FAIL" endtime="20191114 06:45:25.689" starttime="20191114 06:45:25.688"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:25.689" critical="yes" starttime="20191114 06:45:11.878">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</status>
</test>
<test id="s1-s6-t3" name="Copy Object Where both source and dest are same with change to storageclass">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:25.695" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:25.701" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:45:25.702" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:45:25.702" starttime="20191114 06:45:25.693"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:25.704" starttime="20191114 06:45:25.703"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:25.706" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:25.932" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:25.933" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:45:25.933" starttime="20191114 06:45:25.704"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:25.937" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:26.645" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:26.645" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:45:26.645" starttime="20191114 06:45:25.935"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:26.646" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:45:26.647" starttime="20191114 06:45:26.646"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:26.647" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:26.648" starttime="20191114 06:45:26.647"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:26.648" starttime="20191114 06:45:25.935"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:26.648" starttime="20191114 06:45:25.934"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:26.648" starttime="20191114 06:45:25.933"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:26.649" starttime="20191114 06:45:25.692"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:26.649" starttime="20191114 06:45:25.692"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:26.651" starttime="20191114 06:45:26.650"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:26.652" starttime="20191114 06:45:26.651"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:26.656" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:27.102" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:27.102" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:27.103" starttime="20191114 06:45:26.654"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:27.104" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:27.105" starttime="20191114 06:45:27.103"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:27.106" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:27.106" starttime="20191114 06:45:27.105"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:27.106" starttime="20191114 06:45:26.653"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:27.110" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:27.541" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:27.541" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:27.541" starttime="20191114 06:45:27.107"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:27.543" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:27.543" starttime="20191114 06:45:27.542"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:27.544" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:27.544" starttime="20191114 06:45:27.543"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:27.545" starttime="20191114 06:45:27.107"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:27.549" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:28.010" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:28.010" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:28.011" starttime="20191114 06:45:27.546"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:28.012" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:28.012" starttime="20191114 06:45:28.011"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:28.013" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:28.014" starttime="20191114 06:45:28.013"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:28.014" starttime="20191114 06:45:27.545"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:28.018" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:28.416" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:28.416" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:28.417" starttime="20191114 06:45:28.015"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:28.418" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:28.418" starttime="20191114 06:45:28.417"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:28.419" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:28.419" starttime="20191114 06:45:28.419"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:28.420" starttime="20191114 06:45:28.014"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:28.420" starttime="20191114 06:45:26.653"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:28.420" starttime="20191114 06:45:26.652"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:28.420" starttime="20191114 06:45:26.650"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:28.421" starttime="20191114 06:45:26.649"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:28.422" starttime="20191114 06:45:28.421"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:28.422" starttime="20191114 06:45:25.691"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>copy-object --storage-class REDUCED_REDUNDANCY --bucket ${DESTBUCKET} --key copyobject/f1 --copy-source ${DESTBUCKET}/copyobject/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:28.426" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --storage-class REDUCED_REDUNDANCY --bucket generated1 --key copyobject/f1 --copy-source generated1/copyobject/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:39.312" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:45:39.313" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:39.313" starttime="20191114 06:45:28.424"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:39.314" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:39.314" starttime="20191114 06:45:39.313"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:39.314" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:45:39.315" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:45:39.315" starttime="20191114 06:45:39.314"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:39.315" starttime="20191114 06:45:28.423"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:39.316" starttime="20191114 06:45:28.422"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:39.316" critical="yes" starttime="20191114 06:45:25.690">255 != 0</status>
</test>
<test id="s1-s6-t4" name="Copy Object Where Key not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:39.320" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:39.324" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:45:39.324" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:45:39.324" starttime="20191114 06:45:39.318"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:39.326" starttime="20191114 06:45:39.325"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:39.328" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:39.486" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:39.486" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:45:39.486" starttime="20191114 06:45:39.326"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:39.492" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:40.170" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:40.170" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:45:40.170" starttime="20191114 06:45:39.490"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:40.172" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:45:40.172" starttime="20191114 06:45:40.171"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:40.173" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:40.173" starttime="20191114 06:45:40.173"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:40.174" starttime="20191114 06:45:39.489"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:40.174" starttime="20191114 06:45:39.488"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:40.174" starttime="20191114 06:45:39.487"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:40.174" starttime="20191114 06:45:39.318"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:40.175" starttime="20191114 06:45:39.317"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:40.177" starttime="20191114 06:45:40.177"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:40.178" starttime="20191114 06:45:40.178"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:40.183" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:40.625" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:40.625" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:40.625" starttime="20191114 06:45:40.180"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:40.627" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:40.627" starttime="20191114 06:45:40.626"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:40.628" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:40.628" starttime="20191114 06:45:40.627"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:40.629" starttime="20191114 06:45:40.180"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:40.632" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:41.082" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:41.082" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:41.082" starttime="20191114 06:45:40.630"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:41.084" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:41.085" starttime="20191114 06:45:41.083"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:41.086" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:41.086" starttime="20191114 06:45:41.085"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:41.087" starttime="20191114 06:45:40.629"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:41.092" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:41.461" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:41.461" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:41.461" starttime="20191114 06:45:41.088"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:41.463" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:41.463" starttime="20191114 06:45:41.462"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:41.464" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:41.464" starttime="20191114 06:45:41.463"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:41.465" starttime="20191114 06:45:41.087"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:41.468" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:41.856" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:41.856" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:41.856" starttime="20191114 06:45:41.466"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:41.858" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:41.858" starttime="20191114 06:45:41.857"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:41.859" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:41.859" starttime="20191114 06:45:41.858"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:41.860" starttime="20191114 06:45:41.465"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:41.860" starttime="20191114 06:45:40.179"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:41.860" starttime="20191114 06:45:40.179"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:41.860" starttime="20191114 06:45:40.176"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:41.860" starttime="20191114 06:45:40.175"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:41.862" starttime="20191114 06:45:41.861"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:41.862" starttime="20191114 06:45:39.317"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>copy-object --bucket ${DESTBUCKET} --key copyobject/f1 --copy-source ${BUCKET}/nonnonexistentkey</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:41.867" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 copy-object --bucket generated1 --key copyobject/f1 --copy-source bucket-81973/nonnonexistentkey 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:49.576" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:45:49.577" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:49.577" starttime="20191114 06:45:41.864"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:49.578" level="INFO">
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:49.579" starttime="20191114 06:45:49.578"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 06:45:49.580" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:49.580" starttime="20191114 06:45:49.579"></status>
</kw>
<msg timestamp="20191114 06:45:49.580" level="INFO">${output} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:49.581" starttime="20191114 06:45:41.863"></status>
</kw>
<msg timestamp="20191114 06:45:49.581" level="INFO">${result} = 
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:45:49.581" starttime="20191114 06:45:41.862"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchKey</arg>
</arguments>
<msg timestamp="20191114 06:45:49.582" level="FAIL">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchKey'</msg>
<status status="FAIL" endtime="20191114 06:45:49.583" starttime="20191114 06:45:49.581"></status>
</kw>
<status status="FAIL" endtime="20191114 06:45:49.583" critical="yes" starttime="20191114 06:45:39.316">'
An error occurred (500) when calling the CopyObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchKey'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 06:45:49.585" starttime="20191114 06:44:58.463"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectdelete.robot" id="s1-s7" name="Objectdelete">
<test id="s1-s7-t1" name="Delete file with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:49.605" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:49.611" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:45:49.611" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:45:49.611" starttime="20191114 06:45:49.603"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:49.613" starttime="20191114 06:45:49.612"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:49.616" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:49.783" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:49.783" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:45:49.783" starttime="20191114 06:45:49.613"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:49.789" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:50.484" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:50.484" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirrors.xtom.co...</msg>
<status status="PASS" endtime="20191114 06:45:50.484" starttime="20191114 06:45:49.786"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:50.486" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirrors.xtom.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:45:50.486" starttime="20191114 06:45:50.485"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:50.487" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:50.487" starttime="20191114 06:45:50.486"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:50.488" starttime="20191114 06:45:49.786"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:50.488" starttime="20191114 06:45:49.785"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:50.488" starttime="20191114 06:45:49.784"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:50.488" starttime="20191114 06:45:49.602"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:50.489" starttime="20191114 06:45:49.602"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:50.492" starttime="20191114 06:45:50.491"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:45:50.492" starttime="20191114 06:45:50.492"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:50.497" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:50.962" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:50.962" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:50.962" starttime="20191114 06:45:50.495"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:50.964" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:50.964" starttime="20191114 06:45:50.963"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:50.965" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:50.966" starttime="20191114 06:45:50.965"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:50.966" starttime="20191114 06:45:50.494"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:50.971" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:51.402" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:51.402" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:51.403" starttime="20191114 06:45:50.967"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:51.404" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:51.404" starttime="20191114 06:45:51.403"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:51.405" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:51.405" starttime="20191114 06:45:51.405"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:51.406" starttime="20191114 06:45:50.967"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:51.409" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:51.841" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:51.841" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:51.841" starttime="20191114 06:45:51.407"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:51.843" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:51.843" starttime="20191114 06:45:51.842"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:51.844" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:51.844" starttime="20191114 06:45:51.843"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:51.844" starttime="20191114 06:45:51.406"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:51.848" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:45:52.294" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:45:52.294" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:45:52.294" starttime="20191114 06:45:51.846"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:45:52.296" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:45:52.296" starttime="20191114 06:45:52.295"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:45:52.297" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:45:52.298" starttime="20191114 06:45:52.297"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:52.298" starttime="20191114 06:45:51.845"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:52.298" starttime="20191114 06:45:50.494"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:52.299" starttime="20191114 06:45:50.493"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:52.299" starttime="20191114 06:45:50.490"></status>
</kw>
<status status="PASS" endtime="20191114 06:45:52.299" starttime="20191114 06:45:50.489"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:45:52.302" level="INFO">${postfix} = 77489</msg>
<status status="PASS" endtime="20191114 06:45:52.302" starttime="20191114 06:45:52.301"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:45:52.303" level="INFO">${BUCKET} = bucket-77489</msg>
<status status="PASS" endtime="20191114 06:45:52.304" starttime="20191114 06:45:52.302"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:45:52.308" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-77489 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:02.866" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:46:02.867" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:02.867" starttime="20191114 06:45:52.306"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:02.868" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:02.869" starttime="20191114 06:46:02.868"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:02.870" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:46:02.870" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:46:02.870" starttime="20191114 06:46:02.869"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:02.871" starttime="20191114 06:45:52.305"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:02.871" starttime="20191114 06:45:52.304"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:02.871" starttime="20191114 06:45:52.300"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:02.871" starttime="20191114 06:45:52.299"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:02.872" starttime="20191114 06:45:49.601"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:02.872" critical="yes" starttime="20191114 06:45:49.600">Setup failed:
255 != 0</status>
</test>
<test id="s1-s7-t2" name="Delete file with s3api, file doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:02.877" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:02.884" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:46:02.885" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:46:02.885" starttime="20191114 06:46:02.875"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:02.887" starttime="20191114 06:46:02.886"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:02.890" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:03.081" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:03.081" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:46:03.081" starttime="20191114 06:46:02.887"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:03.086" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:03.803" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:03.803" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:46:03.804" starttime="20191114 06:46:03.084"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:03.806" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:46:03.806" starttime="20191114 06:46:03.804"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:03.806" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:03.807" starttime="20191114 06:46:03.806"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:03.807" starttime="20191114 06:46:03.083"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:03.807" starttime="20191114 06:46:03.083"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:03.807" starttime="20191114 06:46:03.082"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:03.807" starttime="20191114 06:46:02.874"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:03.807" starttime="20191114 06:46:02.874"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:03.810" starttime="20191114 06:46:03.809"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:03.810" starttime="20191114 06:46:03.810"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:03.814" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:04.228" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:04.228" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:04.228" starttime="20191114 06:46:03.812"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:04.230" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:04.230" starttime="20191114 06:46:04.229"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:04.231" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:04.231" starttime="20191114 06:46:04.231"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:04.232" starttime="20191114 06:46:03.811"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:04.235" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:04.641" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:04.641" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:04.641" starttime="20191114 06:46:04.233"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:04.643" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:04.643" starttime="20191114 06:46:04.642"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:04.644" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:04.644" starttime="20191114 06:46:04.643"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:04.645" starttime="20191114 06:46:04.232"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:04.648" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:05.101" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:05.101" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:05.102" starttime="20191114 06:46:04.646"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:05.103" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:05.104" starttime="20191114 06:46:05.102"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:05.105" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:05.105" starttime="20191114 06:46:05.104"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:05.105" starttime="20191114 06:46:04.645"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:05.109" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:05.534" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:05.534" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:05.534" starttime="20191114 06:46:05.107"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:05.536" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:05.536" starttime="20191114 06:46:05.535"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:05.537" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:05.537" starttime="20191114 06:46:05.537"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:05.538" starttime="20191114 06:46:05.106"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:05.538" starttime="20191114 06:46:03.811"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:05.539" starttime="20191114 06:46:03.810"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:05.539" starttime="20191114 06:46:03.808"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:05.539" starttime="20191114 06:46:03.808"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:05.540" starttime="20191114 06:46:05.539"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:05.540" starttime="20191114 06:46:02.873"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:05.545" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 ls s3://bucket-77489/ 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:18.331" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:46:18.332" level="INFO">${output} = 
An error occurred (500) when calling the ListObjects operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:18.332" starttime="20191114 06:46:05.543"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:18.334" level="INFO">
An error occurred (500) when calling the ListObjects operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:18.334" starttime="20191114 06:46:18.333"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:18.335" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:46:18.336" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:46:18.336" starttime="20191114 06:46:18.334"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:18.336" starttime="20191114 06:46:05.542"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:18.337" starttime="20191114 06:46:05.541"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:18.338" critical="yes" starttime="20191114 06:46:02.872">255 != 0</status>
</test>
<test id="s1-s7-t3" name="Delete dir with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:18.345" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:18.352" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:46:18.352" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:46:18.352" starttime="20191114 06:46:18.343"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:18.354" starttime="20191114 06:46:18.353"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:18.357" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:18.540" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:18.540" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:46:18.540" starttime="20191114 06:46:18.355"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:18.546" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:19.221" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:19.221" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:46:19.221" starttime="20191114 06:46:18.544"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:19.223" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:46:19.223" starttime="20191114 06:46:19.222"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:19.224" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:19.224" starttime="20191114 06:46:19.223"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:19.224" starttime="20191114 06:46:18.543"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:19.225" starttime="20191114 06:46:18.542"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:19.225" starttime="20191114 06:46:18.541"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:19.225" starttime="20191114 06:46:18.342"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:19.225" starttime="20191114 06:46:18.341"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:19.228" starttime="20191114 06:46:19.227"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:19.228" starttime="20191114 06:46:19.228"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:19.233" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:19.643" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:19.643" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:19.643" starttime="20191114 06:46:19.231"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:19.645" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:19.645" starttime="20191114 06:46:19.644"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:19.646" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:19.646" starttime="20191114 06:46:19.645"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:19.647" starttime="20191114 06:46:19.230"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:19.651" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:20.109" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:20.109" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:20.109" starttime="20191114 06:46:19.648"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:20.110" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:20.111" starttime="20191114 06:46:20.110"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:20.111" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:20.112" starttime="20191114 06:46:20.111"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:20.112" starttime="20191114 06:46:19.647"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:20.115" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:20.559" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:20.560" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:20.560" starttime="20191114 06:46:20.113"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:20.562" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:20.562" starttime="20191114 06:46:20.561"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:20.564" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:20.564" starttime="20191114 06:46:20.562"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:20.564" starttime="20191114 06:46:20.112"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:20.568" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:21.030" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:21.030" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:21.030" starttime="20191114 06:46:20.566"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:21.032" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:21.032" starttime="20191114 06:46:21.031"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:21.033" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:21.033" starttime="20191114 06:46:21.032"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:21.034" starttime="20191114 06:46:20.565"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:21.034" starttime="20191114 06:46:19.229"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:21.034" starttime="20191114 06:46:19.229"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:21.034" starttime="20191114 06:46:19.226"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:21.034" starttime="20191114 06:46:19.226"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:21.036" starttime="20191114 06:46:21.035"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:21.036" starttime="20191114 06:46:18.340"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:21.040" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 06:46:21.046" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:21.046" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:21.046" starttime="20191114 06:46:21.037"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:21.048" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:21.048" starttime="20191114 06:46:21.047"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:21.049" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:21.049" starttime="20191114 06:46:21.048"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:21.050" starttime="20191114 06:46:21.036"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/deletetestapidir/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:21.054" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-77489/deletetestapidir/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:28.367" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:46:28.368" level="INFO">${output} = Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-77489/deletetestapidir/f1 An error occurred (500) when calling the PutObject operation...</msg>
<status status="PASS" endtime="20191114 06:46:28.368" starttime="20191114 06:46:21.052"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:28.369" level="INFO">Completed 29 Bytes/29 Bytes (4 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-77489/deletetestapidir/f1 An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:28.370" starttime="20191114 06:46:28.368"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:28.370" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:46:28.371" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 06:46:28.371" starttime="20191114 06:46:28.370"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:28.372" starttime="20191114 06:46:21.051"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:28.372" starttime="20191114 06:46:21.050"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:28.372" critical="yes" starttime="20191114 06:46:18.338">1 != 0</status>
</test>
<test id="s1-s7-t4" name="Delete file with s3api, file doesn't exist, prefix of a real file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:28.378" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:28.385" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:46:28.385" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:46:28.385" starttime="20191114 06:46:28.376"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:28.387" starttime="20191114 06:46:28.386"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:28.390" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:28.556" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:28.556" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:46:28.556" starttime="20191114 06:46:28.387"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:28.562" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:29.215" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:29.215" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:46:29.215" starttime="20191114 06:46:28.560"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:29.217" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:46:29.217" starttime="20191114 06:46:29.216"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:29.218" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:29.218" starttime="20191114 06:46:29.218"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:29.219" starttime="20191114 06:46:28.559"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:29.219" starttime="20191114 06:46:28.558"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:29.219" starttime="20191114 06:46:28.557"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:29.219" starttime="20191114 06:46:28.375"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:29.220" starttime="20191114 06:46:28.375"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:29.222" starttime="20191114 06:46:29.221"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:29.223" starttime="20191114 06:46:29.222"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:29.228" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:29.626" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:29.626" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:29.626" starttime="20191114 06:46:29.226"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:29.628" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:29.628" starttime="20191114 06:46:29.627"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:29.630" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:29.630" starttime="20191114 06:46:29.629"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:29.630" starttime="20191114 06:46:29.225"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:29.634" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:30.108" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:30.108" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:30.108" starttime="20191114 06:46:29.632"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:30.110" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:30.110" starttime="20191114 06:46:30.109"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:30.111" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:30.111" starttime="20191114 06:46:30.110"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:30.112" starttime="20191114 06:46:29.631"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:30.116" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:30.575" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:30.575" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:30.575" starttime="20191114 06:46:30.113"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:30.577" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:30.577" starttime="20191114 06:46:30.576"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:30.578" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:30.578" starttime="20191114 06:46:30.577"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:30.579" starttime="20191114 06:46:30.112"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:30.582" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:31.038" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:31.038" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:31.038" starttime="20191114 06:46:30.580"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:31.040" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:31.040" starttime="20191114 06:46:31.039"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:31.041" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:31.042" starttime="20191114 06:46:31.041"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:31.042" starttime="20191114 06:46:30.579"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:31.042" starttime="20191114 06:46:29.224"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:31.043" starttime="20191114 06:46:29.223"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:31.043" starttime="20191114 06:46:29.221"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:31.043" starttime="20191114 06:46:29.220"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:31.044" starttime="20191114 06:46:31.043"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:31.044" starttime="20191114 06:46:28.374"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:31.048" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20191114 06:46:31.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:31.055" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:31.055" starttime="20191114 06:46:31.046"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:31.056" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:31.057" starttime="20191114 06:46:31.056"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:31.057" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:31.057" starttime="20191114 06:46:31.057"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:31.058" starttime="20191114 06:46:31.045"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/deletetestapiprefix/filefile</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:31.061" level="INFO">Running command 'aws s3 --endpoint-url http://s3g:9878 cp /tmp/testfile s3://bucket-77489/deletetestapiprefix/filefile 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:40.853" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:46:40.853" level="INFO">${output} = Completed 29 Bytes/29 Bytes (3 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-77489/deletetestapiprefix/filefile An error occurred (500) when calling the PutObject ...</msg>
<status status="PASS" endtime="20191114 06:46:40.853" starttime="20191114 06:46:31.059"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:40.854" level="INFO">Completed 29 Bytes/29 Bytes (3 Bytes/s) with 1 file(s) remainingupload failed: ../../tmp/testfile to s3://bucket-77489/deletetestapiprefix/filefile An error occurred (500) when calling the PutObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:40.854" starttime="20191114 06:46:40.853"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:40.855" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:46:40.856" level="FAIL">1 != 0</msg>
<status status="FAIL" endtime="20191114 06:46:40.856" starttime="20191114 06:46:40.855"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:40.856" starttime="20191114 06:46:31.059"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:40.856" starttime="20191114 06:46:31.058"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:40.857" critical="yes" starttime="20191114 06:46:28.373">1 != 0</status>
</test>
<test id="s1-s7-t5" name="Delete file with s3api, bucket doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:40.862" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:40.869" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:46:40.869" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:46:40.869" starttime="20191114 06:46:40.860"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:40.872" starttime="20191114 06:46:40.870"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:40.874" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:41.080" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:41.081" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:46:41.081" starttime="20191114 06:46:40.872"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:41.086" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:41.813" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:41.814" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirrors.xtom.co...</msg>
<status status="PASS" endtime="20191114 06:46:41.814" starttime="20191114 06:46:41.084"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:41.816" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirrors.xtom.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:46:41.816" starttime="20191114 06:46:41.815"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:41.817" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:41.817" starttime="20191114 06:46:41.816"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:41.818" starttime="20191114 06:46:41.084"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:41.818" starttime="20191114 06:46:41.083"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:41.818" starttime="20191114 06:46:41.082"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:41.819" starttime="20191114 06:46:40.859"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:41.819" starttime="20191114 06:46:40.859"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:41.822" starttime="20191114 06:46:41.821"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:41.823" starttime="20191114 06:46:41.822"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:41.828" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:42.192" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:42.192" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:42.192" starttime="20191114 06:46:41.826"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:42.194" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:42.194" starttime="20191114 06:46:42.193"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:42.195" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:42.195" starttime="20191114 06:46:42.195"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:42.196" starttime="20191114 06:46:41.825"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:42.200" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:42.640" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:42.640" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:42.640" starttime="20191114 06:46:42.197"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:42.642" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:42.642" starttime="20191114 06:46:42.641"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:42.643" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:42.643" starttime="20191114 06:46:42.642"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:42.644" starttime="20191114 06:46:42.196"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:42.647" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:43.105" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:43.106" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:43.106" starttime="20191114 06:46:42.645"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:43.107" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:43.107" starttime="20191114 06:46:43.106"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:43.108" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:43.108" starttime="20191114 06:46:43.108"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:43.109" starttime="20191114 06:46:42.644"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:43.112" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:43.582" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:43.583" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:43.583" starttime="20191114 06:46:43.110"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:43.585" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:43.586" starttime="20191114 06:46:43.584"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:43.586" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:43.587" starttime="20191114 06:46:43.586"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:43.587" starttime="20191114 06:46:43.109"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:43.587" starttime="20191114 06:46:41.824"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:43.588" starttime="20191114 06:46:41.823"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:43.588" starttime="20191114 06:46:41.820"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:43.588" starttime="20191114 06:46:41.819"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:43.589" starttime="20191114 06:46:43.588"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:43.589" starttime="20191114 06:46:40.858"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET}-nosuchbucket --key f1</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:43.594" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 delete-object --bucket bucket-77489-nosuchbucket --key f1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:53.457" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:46:53.457" level="INFO">${output} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:53.457" starttime="20191114 06:46:43.592"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:53.459" level="INFO">
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:53.459" starttime="20191114 06:46:53.458"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 06:46:53.460" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:53.460" starttime="20191114 06:46:53.459"></status>
</kw>
<msg timestamp="20191114 06:46:53.461" level="INFO">${output} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:53.461" starttime="20191114 06:46:43.591"></status>
</kw>
<msg timestamp="20191114 06:46:53.461" level="INFO">${result} = 
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:46:53.462" starttime="20191114 06:46:43.590"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchBucket</arg>
</arguments>
<msg timestamp="20191114 06:46:53.463" level="FAIL">'
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</msg>
<status status="FAIL" endtime="20191114 06:46:53.463" starttime="20191114 06:46:53.462"></status>
</kw>
<status status="FAIL" endtime="20191114 06:46:53.463" critical="yes" starttime="20191114 06:46:40.857">'
An error occurred (500) when calling the DeleteObject operation (reached max retries: 4): Internal Server Error' does not contain 'NoSuchBucket'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 06:46:53.465" starttime="20191114 06:45:49.589"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectmultidelete.robot" id="s1-s8" name="Objectmultidelete">
<test id="s1-s8-t1" name="Delete file with multi delete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:53.484" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:53.489" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:46:53.489" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:46:53.489" starttime="20191114 06:46:53.482"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:53.491" starttime="20191114 06:46:53.490"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:53.492" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:53.683" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:53.683" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:46:53.684" starttime="20191114 06:46:53.491"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:53.689" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:54.343" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:54.343" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:46:54.343" starttime="20191114 06:46:53.687"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:54.344" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:46:54.345" starttime="20191114 06:46:54.344"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:54.345" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:54.346" starttime="20191114 06:46:54.345"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:54.346" starttime="20191114 06:46:53.686"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:54.346" starttime="20191114 06:46:53.685"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:54.347" starttime="20191114 06:46:53.684"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:54.347" starttime="20191114 06:46:53.481"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:54.347" starttime="20191114 06:46:53.481"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:54.350" starttime="20191114 06:46:54.349"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:46:54.351" starttime="20191114 06:46:54.350"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:54.355" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:54.837" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:54.837" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:54.838" starttime="20191114 06:46:54.353"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:54.839" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:54.839" starttime="20191114 06:46:54.838"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:54.840" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:54.840" starttime="20191114 06:46:54.839"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:54.840" starttime="20191114 06:46:54.352"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:54.843" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:55.310" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:55.310" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:55.310" starttime="20191114 06:46:54.841"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:55.312" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:55.312" starttime="20191114 06:46:55.311"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:55.313" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:55.313" starttime="20191114 06:46:55.313"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:55.314" starttime="20191114 06:46:54.841"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:55.318" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:55.749" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:55.750" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:55.750" starttime="20191114 06:46:55.315"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:55.752" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:55.752" starttime="20191114 06:46:55.751"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:55.753" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:55.753" starttime="20191114 06:46:55.752"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:55.753" starttime="20191114 06:46:55.314"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:55.757" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:46:56.190" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:46:56.191" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:46:56.191" starttime="20191114 06:46:55.755"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:46:56.193" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:46:56.193" starttime="20191114 06:46:56.191"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:46:56.194" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:46:56.194" starttime="20191114 06:46:56.194"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:56.195" starttime="20191114 06:46:55.754"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:56.195" starttime="20191114 06:46:54.352"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:56.195" starttime="20191114 06:46:54.351"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:56.196" starttime="20191114 06:46:54.348"></status>
</kw>
<status status="PASS" endtime="20191114 06:46:56.196" starttime="20191114 06:46:54.347"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:46:56.198" level="INFO">${postfix} = 83286</msg>
<status status="PASS" endtime="20191114 06:46:56.198" starttime="20191114 06:46:56.198"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:46:56.199" level="INFO">${BUCKET} = bucket-83286</msg>
<status status="PASS" endtime="20191114 06:46:56.200" starttime="20191114 06:46:56.199"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:46:56.203" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-83286 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:01.725" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:47:01.725" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:01.725" starttime="20191114 06:46:56.201"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:01.727" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:01.727" starttime="20191114 06:47:01.726"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:01.728" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:47:01.729" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:47:01.729" starttime="20191114 06:47:01.727"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:01.729" starttime="20191114 06:46:56.201"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:01.730" starttime="20191114 06:46:56.200"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:01.730" starttime="20191114 06:46:56.197"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:01.730" starttime="20191114 06:46:56.196"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:01.730" starttime="20191114 06:46:53.480"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:01.731" critical="yes" starttime="20191114 06:46:53.479">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 06:47:01.732" starttime="20191114 06:46:53.470"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectputget.robot" id="s1-s9" name="Objectputget">
<test id="s1-s9-t1" name="Put object to s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:01.752" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:01.758" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:47:01.758" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:47:01.758" starttime="20191114 06:47:01.749"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:01.760" starttime="20191114 06:47:01.759"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:01.762" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:01.942" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:01.942" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:47:01.942" starttime="20191114 06:47:01.760"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:01.948" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:02.649" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:02.649" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:47:02.649" starttime="20191114 06:47:01.946"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:02.651" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:47:02.651" starttime="20191114 06:47:02.650"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:02.652" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:02.652" starttime="20191114 06:47:02.652"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:02.653" starttime="20191114 06:47:01.945"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:02.653" starttime="20191114 06:47:01.944"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:02.653" starttime="20191114 06:47:01.943"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:02.654" starttime="20191114 06:47:01.748"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:02.654" starttime="20191114 06:47:01.747"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:02.657" starttime="20191114 06:47:02.656"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:02.657" starttime="20191114 06:47:02.657"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:02.662" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:03.116" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:03.116" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:03.116" starttime="20191114 06:47:02.660"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:03.118" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:03.118" starttime="20191114 06:47:03.117"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:03.119" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:03.119" starttime="20191114 06:47:03.118"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:03.120" starttime="20191114 06:47:02.659"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:03.123" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:03.567" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:03.567" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:03.567" starttime="20191114 06:47:03.121"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:03.569" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:03.569" starttime="20191114 06:47:03.568"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:03.569" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:03.570" starttime="20191114 06:47:03.569"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:03.570" starttime="20191114 06:47:03.120"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:03.573" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:04.005" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:04.006" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:04.006" starttime="20191114 06:47:03.571"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:04.007" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:04.007" starttime="20191114 06:47:04.006"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:04.007" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:04.008" starttime="20191114 06:47:04.007"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:04.008" starttime="20191114 06:47:03.570"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:04.011" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:04.435" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:04.435" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:04.435" starttime="20191114 06:47:04.009"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:04.437" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:04.437" starttime="20191114 06:47:04.436"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:04.437" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:04.438" starttime="20191114 06:47:04.437"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:04.438" starttime="20191114 06:47:04.008"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:04.438" starttime="20191114 06:47:02.659"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:04.438" starttime="20191114 06:47:02.658"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:04.439" starttime="20191114 06:47:02.655"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:04.439" starttime="20191114 06:47:02.654"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:47:04.441" level="INFO">${postfix} = 39770</msg>
<status status="PASS" endtime="20191114 06:47:04.441" starttime="20191114 06:47:04.440"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:47:04.442" level="INFO">${BUCKET} = bucket-39770</msg>
<status status="PASS" endtime="20191114 06:47:04.442" starttime="20191114 06:47:04.441"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:04.446" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-39770 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:09.536" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:47:09.536" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:09.536" starttime="20191114 06:47:04.444"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:09.537" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:09.538" starttime="20191114 06:47:09.537"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:09.538" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:47:09.539" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:47:09.539" starttime="20191114 06:47:09.538"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:09.539" starttime="20191114 06:47:04.443"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:09.540" starttime="20191114 06:47:04.442"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:09.540" starttime="20191114 06:47:04.440"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:09.540" starttime="20191114 06:47:04.439"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:09.540" starttime="20191114 06:47:01.747"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:09.541" critical="yes" starttime="20191114 06:47:01.746">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t2" name="Get object from s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:09.545" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:09.551" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:47:09.552" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:47:09.552" starttime="20191114 06:47:09.543"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:09.554" starttime="20191114 06:47:09.553"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:09.556" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:09.737" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:09.738" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:47:09.738" starttime="20191114 06:47:09.554"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:09.743" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:10.424" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:10.424" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:47:10.424" starttime="20191114 06:47:09.741"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:10.426" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:47:10.426" starttime="20191114 06:47:10.425"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:10.427" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:10.427" starttime="20191114 06:47:10.426"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:10.427" starttime="20191114 06:47:09.740"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:10.428" starttime="20191114 06:47:09.740"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:10.428" starttime="20191114 06:47:09.739"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:10.428" starttime="20191114 06:47:09.543"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:10.428" starttime="20191114 06:47:09.542"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:10.431" starttime="20191114 06:47:10.430"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:10.432" starttime="20191114 06:47:10.431"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:10.438" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:10.913" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:10.913" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:10.913" starttime="20191114 06:47:10.436"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:10.915" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:10.915" starttime="20191114 06:47:10.914"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:10.916" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:10.916" starttime="20191114 06:47:10.916"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:10.917" starttime="20191114 06:47:10.434"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:10.921" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:11.361" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:11.362" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:11.362" starttime="20191114 06:47:10.918"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:11.363" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:11.364" starttime="20191114 06:47:11.363"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:11.364" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:11.365" starttime="20191114 06:47:11.364"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:11.365" starttime="20191114 06:47:10.917"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:11.368" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:11.816" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:11.816" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:11.816" starttime="20191114 06:47:11.366"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:11.818" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:11.818" starttime="20191114 06:47:11.817"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:11.818" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:11.818" starttime="20191114 06:47:11.818"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:11.819" starttime="20191114 06:47:11.365"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:11.821" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:12.224" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:12.224" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:12.224" starttime="20191114 06:47:11.819"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:12.225" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:12.225" starttime="20191114 06:47:12.225"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:12.226" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:12.226" starttime="20191114 06:47:12.226"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:12.227" starttime="20191114 06:47:11.819"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:12.227" starttime="20191114 06:47:10.433"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:12.227" starttime="20191114 06:47:10.432"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:12.228" starttime="20191114 06:47:10.430"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:12.228" starttime="20191114 06:47:10.429"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:12.229" starttime="20191114 06:47:12.228"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:12.229" starttime="20191114 06:47:09.542"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 /tmp/testfile.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:12.233" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-39770 --key putobject/f1 /tmp/testfile.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:15.243" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:47:15.244" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:15.244" starttime="20191114 06:47:12.231"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:15.245" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:15.246" starttime="20191114 06:47:15.245"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:15.247" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:47:15.247" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:47:15.247" starttime="20191114 06:47:15.246"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:15.248" starttime="20191114 06:47:12.230"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:15.248" starttime="20191114 06:47:12.229"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:15.249" critical="yes" starttime="20191114 06:47:09.541">255 != 0</status>
</test>
<test id="s1-s9-t3" name="Get Partial object from s3 with both start and endoffset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:15.255" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:15.261" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:47:15.261" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:47:15.261" starttime="20191114 06:47:15.252"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:15.263" starttime="20191114 06:47:15.262"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:15.266" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:15.445" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:15.445" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:47:15.445" starttime="20191114 06:47:15.264"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:15.453" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:16.155" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:16.155" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: mirror.scalabledns.com
 * updates: mirrors....</msg>
<status status="PASS" endtime="20191114 06:47:16.155" starttime="20191114 06:47:15.450"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:16.157" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: mirror.scalabledns.com
 * updates: mirrors.xtom.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:47:16.157" starttime="20191114 06:47:16.156"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:16.158" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:16.159" starttime="20191114 06:47:16.158"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:16.159" starttime="20191114 06:47:15.449"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:16.159" starttime="20191114 06:47:15.448"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:16.160" starttime="20191114 06:47:15.446"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:16.160" starttime="20191114 06:47:15.252"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:16.160" starttime="20191114 06:47:15.251"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:16.163" starttime="20191114 06:47:16.162"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:16.164" starttime="20191114 06:47:16.163"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:16.169" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:16.628" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:16.628" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:16.629" starttime="20191114 06:47:16.167"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:16.630" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:16.631" starttime="20191114 06:47:16.629"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:16.632" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:16.632" starttime="20191114 06:47:16.631"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:16.632" starttime="20191114 06:47:16.166"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:16.636" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:17.051" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:17.052" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:17.052" starttime="20191114 06:47:16.634"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:17.054" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:17.054" starttime="20191114 06:47:17.053"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:17.055" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:17.056" starttime="20191114 06:47:17.055"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:17.056" starttime="20191114 06:47:16.633"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:17.061" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:17.507" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:17.507" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:17.507" starttime="20191114 06:47:17.058"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:17.509" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:17.509" starttime="20191114 06:47:17.508"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:17.510" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:17.510" starttime="20191114 06:47:17.509"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:17.511" starttime="20191114 06:47:17.057"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:17.514" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:17.946" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:17.946" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:17.946" starttime="20191114 06:47:17.512"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:17.948" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:17.949" starttime="20191114 06:47:17.947"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:17.950" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:17.950" starttime="20191114 06:47:17.949"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:17.950" starttime="20191114 06:47:17.511"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:17.951" starttime="20191114 06:47:16.165"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:17.951" starttime="20191114 06:47:16.164"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:17.951" starttime="20191114 06:47:16.162"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:17.951" starttime="20191114 06:47:16.161"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:17.953" starttime="20191114 06:47:17.952"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:17.953" starttime="20191114 06:47:15.251"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-4 /tmp/testfile1.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:17.958" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-39770 --key putobject/f1 --range bytes=0-4 /tmp/testfile1.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:29.385" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:47:29.385" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:29.385" starttime="20191114 06:47:17.956"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:29.387" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:29.387" starttime="20191114 06:47:29.386"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:29.388" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:47:29.388" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:47:29.388" starttime="20191114 06:47:29.387"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:29.389" starttime="20191114 06:47:17.955"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:29.389" starttime="20191114 06:47:17.953"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:29.390" critical="yes" starttime="20191114 06:47:15.249">255 != 0</status>
</test>
<test id="s1-s9-t4" name="Get Partial object from s3 with both start and endoffset(start offset and endoffset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:29.396" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:29.402" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:47:29.402" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:47:29.402" starttime="20191114 06:47:29.394"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:29.404" starttime="20191114 06:47:29.403"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:29.406" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:29.562" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:29.562" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:47:29.562" starttime="20191114 06:47:29.404"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:29.568" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:30.279" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:30.279" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:47:30.279" starttime="20191114 06:47:29.566"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:30.281" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:47:30.281" starttime="20191114 06:47:30.280"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:30.282" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:30.282" starttime="20191114 06:47:30.282"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:30.283" starttime="20191114 06:47:29.565"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:30.283" starttime="20191114 06:47:29.564"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:30.283" starttime="20191114 06:47:29.563"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:30.284" starttime="20191114 06:47:29.394"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:30.284" starttime="20191114 06:47:29.392"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:30.287" starttime="20191114 06:47:30.286"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:30.288" starttime="20191114 06:47:30.287"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:30.292" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:30.746" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:30.747" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:30.747" starttime="20191114 06:47:30.290"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:30.748" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:30.748" starttime="20191114 06:47:30.747"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:30.749" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:30.749" starttime="20191114 06:47:30.748"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:30.749" starttime="20191114 06:47:30.289"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:30.752" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:31.191" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:31.191" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:31.191" starttime="20191114 06:47:30.750"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:31.193" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:31.194" starttime="20191114 06:47:31.192"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:31.194" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:31.195" starttime="20191114 06:47:31.194"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:31.195" starttime="20191114 06:47:30.749"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:31.199" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:31.625" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:31.625" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:31.625" starttime="20191114 06:47:31.196"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:31.626" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:31.627" starttime="20191114 06:47:31.626"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:31.628" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:31.628" starttime="20191114 06:47:31.627"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:31.628" starttime="20191114 06:47:31.196"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:31.631" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:32.052" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:32.052" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:32.052" starttime="20191114 06:47:31.629"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:32.054" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:32.054" starttime="20191114 06:47:32.053"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:32.055" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:32.056" starttime="20191114 06:47:32.055"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:32.056" starttime="20191114 06:47:31.629"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:32.056" starttime="20191114 06:47:30.289"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:32.057" starttime="20191114 06:47:30.288"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:32.057" starttime="20191114 06:47:30.285"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:32.057" starttime="20191114 06:47:30.284"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:32.058" starttime="20191114 06:47:32.057"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:32.058" starttime="20191114 06:47:29.392"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=10000-10000 /tmp/testfile2.result</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:32.064" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-39770 --key putobject/f1 --range bytes=10000-10000 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:41.129" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:47:41.129" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:41.129" starttime="20191114 06:47:32.061"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:41.131" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:41.131" starttime="20191114 06:47:41.130"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 06:47:41.131" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:41.132" starttime="20191114 06:47:41.131"></status>
</kw>
<msg timestamp="20191114 06:47:41.132" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:41.132" starttime="20191114 06:47:32.060"></status>
</kw>
<msg timestamp="20191114 06:47:41.132" level="INFO">${result} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:41.133" starttime="20191114 06:47:32.059"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>InvalidRange</arg>
</arguments>
<msg timestamp="20191114 06:47:41.134" level="FAIL">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</msg>
<status status="FAIL" endtime="20191114 06:47:41.134" starttime="20191114 06:47:41.133"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:41.134" critical="yes" starttime="20191114 06:47:29.390">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</status>
</test>
<test id="s1-s9-t5" name="Get Partial object from s3 with both start and endoffset(end offset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:41.139" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:41.144" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:47:41.144" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:47:41.144" starttime="20191114 06:47:41.137"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:41.146" starttime="20191114 06:47:41.145"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:41.147" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:41.330" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:41.330" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:47:41.331" starttime="20191114 06:47:41.146"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:41.337" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:41.995" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:41.995" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:47:41.995" starttime="20191114 06:47:41.335"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:41.997" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:47:41.997" starttime="20191114 06:47:41.996"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:41.998" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:41.999" starttime="20191114 06:47:41.998"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:41.999" starttime="20191114 06:47:41.334"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:42.000" starttime="20191114 06:47:41.333"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:42.000" starttime="20191114 06:47:41.332"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:42.000" starttime="20191114 06:47:41.137"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:42.000" starttime="20191114 06:47:41.136"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:42.003" starttime="20191114 06:47:42.003"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:42.004" starttime="20191114 06:47:42.004"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:42.010" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:42.457" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:42.457" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:42.457" starttime="20191114 06:47:42.008"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:42.459" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:42.459" starttime="20191114 06:47:42.458"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:42.460" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:42.460" starttime="20191114 06:47:42.459"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:42.461" starttime="20191114 06:47:42.006"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:42.465" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:42.890" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:42.891" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:42.891" starttime="20191114 06:47:42.462"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:42.893" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:42.893" starttime="20191114 06:47:42.892"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:42.894" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:42.894" starttime="20191114 06:47:42.893"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:42.894" starttime="20191114 06:47:42.461"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:42.898" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:43.316" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:43.317" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:43.317" starttime="20191114 06:47:42.895"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:43.319" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:43.319" starttime="20191114 06:47:43.318"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:43.320" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:43.320" starttime="20191114 06:47:43.319"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:43.320" starttime="20191114 06:47:42.895"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:43.324" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:43.692" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:43.692" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:43.693" starttime="20191114 06:47:43.322"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:43.694" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:43.694" starttime="20191114 06:47:43.693"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:43.695" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:43.696" starttime="20191114 06:47:43.695"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:43.696" starttime="20191114 06:47:43.321"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:43.696" starttime="20191114 06:47:42.006"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:43.697" starttime="20191114 06:47:42.005"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:43.697" starttime="20191114 06:47:42.002"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:43.697" starttime="20191114 06:47:42.001"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:43.698" starttime="20191114 06:47:43.697"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:43.698" starttime="20191114 06:47:41.136"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-10000 /tmp/testfile2.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:43.703" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-39770 --key putobject/f1 --range bytes=0-10000 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:54.460" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:47:54.460" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:54.460" starttime="20191114 06:47:43.701"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:54.462" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:47:54.462" starttime="20191114 06:47:54.461"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:54.463" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:47:54.464" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:47:54.464" starttime="20191114 06:47:54.463"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:54.464" starttime="20191114 06:47:43.700"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:54.465" starttime="20191114 06:47:43.699"></status>
</kw>
<status status="FAIL" endtime="20191114 06:47:54.465" critical="yes" starttime="20191114 06:47:41.135">255 != 0</status>
</test>
<test id="s1-s9-t6" name="Get Partial object from s3 with only start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:54.471" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:54.478" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:47:54.478" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:47:54.478" starttime="20191114 06:47:54.469"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:54.480" starttime="20191114 06:47:54.479"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:54.483" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:54.671" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:54.671" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:47:54.672" starttime="20191114 06:47:54.481"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:54.679" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:55.335" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:55.335" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:47:55.335" starttime="20191114 06:47:54.676"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:55.337" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:47:55.337" starttime="20191114 06:47:55.336"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:55.338" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:55.338" starttime="20191114 06:47:55.337"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:55.338" starttime="20191114 06:47:54.675"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:55.339" starttime="20191114 06:47:54.674"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:55.339" starttime="20191114 06:47:54.672"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:55.339" starttime="20191114 06:47:54.468"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:55.339" starttime="20191114 06:47:54.468"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:55.342" starttime="20191114 06:47:55.341"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:55.343" starttime="20191114 06:47:55.342"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:55.347" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:55.770" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:55.771" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:55.771" starttime="20191114 06:47:55.345"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:55.773" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:55.773" starttime="20191114 06:47:55.772"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:55.774" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:55.774" starttime="20191114 06:47:55.773"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:55.774" starttime="20191114 06:47:55.344"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:55.778" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:56.187" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:56.188" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:56.188" starttime="20191114 06:47:55.775"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:56.190" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:56.190" starttime="20191114 06:47:56.189"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:56.191" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:56.191" starttime="20191114 06:47:56.190"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:56.191" starttime="20191114 06:47:55.774"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:56.195" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:56.647" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:56.647" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:56.647" starttime="20191114 06:47:56.193"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:56.649" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:56.650" starttime="20191114 06:47:56.648"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:56.651" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:56.651" starttime="20191114 06:47:56.650"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:56.651" starttime="20191114 06:47:56.192"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:56.656" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:47:57.113" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:47:57.113" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:47:57.113" starttime="20191114 06:47:56.653"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:47:57.115" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:47:57.115" starttime="20191114 06:47:57.114"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:47:57.116" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:47:57.117" starttime="20191114 06:47:57.116"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:57.117" starttime="20191114 06:47:56.652"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:57.118" starttime="20191114 06:47:55.343"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:57.118" starttime="20191114 06:47:55.343"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:57.118" starttime="20191114 06:47:55.340"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:57.118" starttime="20191114 06:47:55.339"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:47:57.119" starttime="20191114 06:47:57.119"></status>
</kw>
<status status="PASS" endtime="20191114 06:47:57.120" starttime="20191114 06:47:54.467"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0- /tmp/testfile3.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:47:57.125" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-39770 --key putobject/f1 --range bytes=0- /tmp/testfile3.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:08.653" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:48:08.653" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:08.653" starttime="20191114 06:47:57.122"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:08.655" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:08.656" starttime="20191114 06:48:08.654"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:08.657" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:48:08.657" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:48:08.657" starttime="20191114 06:48:08.656"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:08.658" starttime="20191114 06:47:57.121"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:08.658" starttime="20191114 06:47:57.120"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:08.659" critical="yes" starttime="20191114 06:47:54.466">255 != 0</status>
</test>
<test id="s1-s9-t7" name="Get Partial object from s3 with both start and endoffset which are equal">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:08.666" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:08.672" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:48:08.672" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:48:08.673" starttime="20191114 06:48:08.663"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:08.675" starttime="20191114 06:48:08.674"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:08.677" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:08.886" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:08.887" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:48:08.887" starttime="20191114 06:48:08.675"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:08.893" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:09.584" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:09.584" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:48:09.584" starttime="20191114 06:48:08.891"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:09.586" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:48:09.586" starttime="20191114 06:48:09.585"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:09.587" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:09.587" starttime="20191114 06:48:09.586"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:09.588" starttime="20191114 06:48:08.890"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:09.588" starttime="20191114 06:48:08.889"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:09.588" starttime="20191114 06:48:08.888"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:09.589" starttime="20191114 06:48:08.663"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:09.589" starttime="20191114 06:48:08.661"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:09.592" starttime="20191114 06:48:09.591"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:09.592" starttime="20191114 06:48:09.592"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:09.597" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:10.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:10.049" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:10.049" starttime="20191114 06:48:09.595"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:10.051" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:10.051" starttime="20191114 06:48:10.050"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:10.052" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:10.052" starttime="20191114 06:48:10.051"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:10.053" starttime="20191114 06:48:09.594"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:10.056" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:10.491" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:10.491" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:10.491" starttime="20191114 06:48:10.054"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:10.492" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:10.492" starttime="20191114 06:48:10.491"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:10.493" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:10.493" starttime="20191114 06:48:10.492"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:10.493" starttime="20191114 06:48:10.053"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:10.495" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:10.989" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:10.989" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:10.989" starttime="20191114 06:48:10.494"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:10.991" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:10.991" starttime="20191114 06:48:10.990"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:10.993" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:10.993" starttime="20191114 06:48:10.992"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:10.994" starttime="20191114 06:48:10.493"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:10.998" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:11.436" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:11.437" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:11.437" starttime="20191114 06:48:10.995"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:11.438" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:11.439" starttime="20191114 06:48:11.438"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:11.439" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:11.440" starttime="20191114 06:48:11.439"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:11.440" starttime="20191114 06:48:10.994"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:11.440" starttime="20191114 06:48:09.594"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:11.441" starttime="20191114 06:48:09.593"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:11.441" starttime="20191114 06:48:09.590"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:11.441" starttime="20191114 06:48:09.589"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:11.442" starttime="20191114 06:48:11.441"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:11.442" starttime="20191114 06:48:08.661"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=0-0 /tmp/testfile4.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:11.447" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-39770 --key putobject/f1 --range bytes=0-0 /tmp/testfile4.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:16.766" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:48:16.766" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:16.766" starttime="20191114 06:48:11.445"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:16.768" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:16.768" starttime="20191114 06:48:16.767"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:16.769" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:48:16.770" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:48:16.770" starttime="20191114 06:48:16.768"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:16.771" starttime="20191114 06:48:11.444"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:16.771" starttime="20191114 06:48:11.443"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:16.772" critical="yes" starttime="20191114 06:48:08.659">255 != 0</status>
</test>
<test id="s1-s9-t8" name="Get Partial object from s3 to get last n bytes">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:16.778" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:16.784" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:48:16.784" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:48:16.784" starttime="20191114 06:48:16.776"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:16.786" starttime="20191114 06:48:16.785"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:16.789" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:16.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:16.984" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:48:16.984" starttime="20191114 06:48:16.787"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:16.988" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:17.666" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:17.666" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.fileplan...</msg>
<status status="PASS" endtime="20191114 06:48:17.667" starttime="20191114 06:48:16.987"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:17.668" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.fileplanet.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:48:17.668" starttime="20191114 06:48:17.667"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:17.669" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:17.670" starttime="20191114 06:48:17.669"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:17.670" starttime="20191114 06:48:16.986"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:17.670" starttime="20191114 06:48:16.985"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:17.671" starttime="20191114 06:48:16.984"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:17.671" starttime="20191114 06:48:16.775"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:17.671" starttime="20191114 06:48:16.774"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:17.674" starttime="20191114 06:48:17.673"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:17.675" starttime="20191114 06:48:17.674"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:17.680" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:18.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:18.164" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:18.164" starttime="20191114 06:48:17.677"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:18.166" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:18.166" starttime="20191114 06:48:18.165"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:18.167" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:18.167" starttime="20191114 06:48:18.166"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:18.168" starttime="20191114 06:48:17.676"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:18.171" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:18.609" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:18.609" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:18.609" starttime="20191114 06:48:18.169"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:18.611" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:18.611" starttime="20191114 06:48:18.610"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:18.612" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:18.613" starttime="20191114 06:48:18.612"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:18.613" starttime="20191114 06:48:18.168"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:18.617" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:19.031" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:19.031" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:19.031" starttime="20191114 06:48:18.614"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:19.033" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:19.033" starttime="20191114 06:48:19.032"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:19.034" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:19.034" starttime="20191114 06:48:19.034"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:19.035" starttime="20191114 06:48:18.613"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:19.038" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:19.474" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:19.474" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:19.474" starttime="20191114 06:48:19.036"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:19.476" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:19.476" starttime="20191114 06:48:19.475"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:19.477" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:19.477" starttime="20191114 06:48:19.476"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:19.478" starttime="20191114 06:48:19.035"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:19.478" starttime="20191114 06:48:17.676"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:19.478" starttime="20191114 06:48:17.675"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:19.478" starttime="20191114 06:48:17.672"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:19.478" starttime="20191114 06:48:17.671"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:19.480" starttime="20191114 06:48:19.479"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:19.480" starttime="20191114 06:48:16.774"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=-4 /tmp/testfile6.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:19.484" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-39770 --key putobject/f1 --range bytes=-4 /tmp/testfile6.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:24.794" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:48:24.794" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:24.794" starttime="20191114 06:48:19.482"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:24.796" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:24.796" starttime="20191114 06:48:24.795"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:24.796" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:48:24.797" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:48:24.797" starttime="20191114 06:48:24.796"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:24.797" starttime="20191114 06:48:19.481"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:24.798" starttime="20191114 06:48:19.480"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:24.798" critical="yes" starttime="20191114 06:48:16.772">255 != 0</status>
</test>
<test id="s1-s9-t9" name="Incorrect values for end and start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:24.803" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:24.808" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:48:24.809" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:48:24.809" starttime="20191114 06:48:24.801"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:24.810" starttime="20191114 06:48:24.809"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:24.813" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:25.005" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:25.005" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:48:25.005" starttime="20191114 06:48:24.811"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:25.011" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:25.721" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:25.721" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:48:25.721" starttime="20191114 06:48:25.009"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:25.723" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:48:25.724" starttime="20191114 06:48:25.722"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:25.724" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:25.725" starttime="20191114 06:48:25.724"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:25.725" starttime="20191114 06:48:25.008"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:25.726" starttime="20191114 06:48:25.007"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:25.726" starttime="20191114 06:48:25.006"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:25.726" starttime="20191114 06:48:24.800"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:25.726" starttime="20191114 06:48:24.800"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:25.729" starttime="20191114 06:48:25.729"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:25.730" starttime="20191114 06:48:25.730"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:25.735" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:26.147" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:26.147" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:26.147" starttime="20191114 06:48:25.733"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:26.149" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:26.149" starttime="20191114 06:48:26.148"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:26.150" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:26.150" starttime="20191114 06:48:26.149"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:26.151" starttime="20191114 06:48:25.732"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:26.154" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:26.611" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:26.611" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:26.611" starttime="20191114 06:48:26.152"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:26.613" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:26.613" starttime="20191114 06:48:26.612"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:26.614" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:26.615" starttime="20191114 06:48:26.614"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:26.615" starttime="20191114 06:48:26.151"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:26.619" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:27.060" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:27.061" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:27.061" starttime="20191114 06:48:26.617"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:27.062" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:27.062" starttime="20191114 06:48:27.061"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:27.063" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:27.063" starttime="20191114 06:48:27.062"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:27.063" starttime="20191114 06:48:26.616"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:27.066" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:27.450" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:27.450" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:27.450" starttime="20191114 06:48:27.064"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:27.451" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:27.451" starttime="20191114 06:48:27.451"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:27.452" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:27.452" starttime="20191114 06:48:27.452"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:27.452" starttime="20191114 06:48:27.063"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:27.453" starttime="20191114 06:48:25.732"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:27.453" starttime="20191114 06:48:25.731"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:27.453" starttime="20191114 06:48:25.728"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:27.453" starttime="20191114 06:48:25.727"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:27.454" starttime="20191114 06:48:27.453"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:27.454" starttime="20191114 06:48:24.799"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/f1 --range bytes=-11-10000 /tmp/testfile8.result</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:27.457" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-39770 --key putobject/f1 --range bytes=-11-10000 /tmp/testfile8.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:32.653" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:48:32.654" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:32.654" starttime="20191114 06:48:27.455"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:32.655" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:32.656" starttime="20191114 06:48:32.654"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:32.656" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:48:32.657" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:48:32.657" starttime="20191114 06:48:32.656"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:32.657" starttime="20191114 06:48:27.455"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:32.658" starttime="20191114 06:48:27.454"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:32.658" critical="yes" starttime="20191114 06:48:24.799">255 != 0</status>
</test>
<test id="s1-s9-t10" name="Zero byte file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:32.666" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:32.672" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:48:32.672" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:48:32.672" starttime="20191114 06:48:32.663"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:32.674" starttime="20191114 06:48:32.673"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:32.677" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:32.889" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:32.889" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:48:32.889" starttime="20191114 06:48:32.675"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:32.896" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:33.609" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:33.610" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us...</msg>
<status status="PASS" endtime="20191114 06:48:33.610" starttime="20191114 06:48:32.893"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:33.611" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: mirror.sfo12.us.leaseweb.net
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:48:33.612" starttime="20191114 06:48:33.610"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:33.612" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:33.613" starttime="20191114 06:48:33.612"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:33.613" starttime="20191114 06:48:32.893"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:33.613" starttime="20191114 06:48:32.892"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:33.613" starttime="20191114 06:48:32.890"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:33.614" starttime="20191114 06:48:32.663"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:33.614" starttime="20191114 06:48:32.661"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:33.616" starttime="20191114 06:48:33.616"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:33.617" starttime="20191114 06:48:33.616"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:33.621" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:34.100" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:34.101" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:34.101" starttime="20191114 06:48:33.619"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:34.102" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:34.102" starttime="20191114 06:48:34.101"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:34.103" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:34.103" starttime="20191114 06:48:34.102"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:34.104" starttime="20191114 06:48:33.618"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:34.106" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:34.525" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:34.525" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:34.525" starttime="20191114 06:48:34.104"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:34.527" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:34.527" starttime="20191114 06:48:34.526"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:34.528" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:34.529" starttime="20191114 06:48:34.528"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:34.529" starttime="20191114 06:48:34.104"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:34.533" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:34.981" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:34.981" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:34.981" starttime="20191114 06:48:34.530"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:34.983" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:34.983" starttime="20191114 06:48:34.982"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:34.985" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:34.985" starttime="20191114 06:48:34.983"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:34.986" starttime="20191114 06:48:34.529"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:34.989" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:35.474" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:35.474" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:35.474" starttime="20191114 06:48:34.987"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:35.476" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:35.476" starttime="20191114 06:48:35.475"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:35.477" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:35.478" starttime="20191114 06:48:35.477"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:35.478" starttime="20191114 06:48:34.986"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:35.478" starttime="20191114 06:48:33.618"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:35.479" starttime="20191114 06:48:33.617"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:35.479" starttime="20191114 06:48:33.615"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:35.479" starttime="20191114 06:48:33.614"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:35.480" starttime="20191114 06:48:35.479"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:35.481" starttime="20191114 06:48:32.660"></status>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>get-object --bucket ${BUCKET} --key putobject/zerobyte --range bytes=0-0 /tmp/testfile2.result</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:35.486" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket bucket-39770 --key putobject/zerobyte --range bytes=0-0 /tmp/testfile2.result 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:47.300" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:48:47.300" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:47.300" starttime="20191114 06:48:35.483"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:47.301" level="INFO">
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:47.301" starttime="20191114 06:48:47.300"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20191114 06:48:47.302" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:47.302" starttime="20191114 06:48:47.301"></status>
</kw>
<msg timestamp="20191114 06:48:47.302" level="INFO">${output} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:47.302" starttime="20191114 06:48:35.482"></status>
</kw>
<msg timestamp="20191114 06:48:47.303" level="INFO">${result} = 
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:47.303" starttime="20191114 06:48:35.481"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>InvalidRange</arg>
</arguments>
<msg timestamp="20191114 06:48:47.303" level="FAIL">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</msg>
<status status="FAIL" endtime="20191114 06:48:47.304" starttime="20191114 06:48:47.303"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:47.304" critical="yes" starttime="20191114 06:48:32.659">'
An error occurred (500) when calling the GetObject operation (reached max retries: 4): Internal Server Error' does not contain 'InvalidRange'</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20191114 06:48:47.306" starttime="20191114 06:47:01.734"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/webui.robot" id="s1-s10" name="Webui">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:47.320" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:47.326" level="INFO">${rc} = 1</msg>
<msg timestamp="20191114 06:48:47.326" level="INFO">${output} = which: no apt-get in (/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20191114 06:48:47.326" starttime="20191114 06:48:47.318"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:47.327" starttime="20191114 06:48:47.326"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:47.329" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:47.488" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:47.489" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Packages'
Usage: yum [options] COMMAND

List of Commands:

check          Check for...</msg>
<status status="PASS" endtime="20191114 06:48:47.489" starttime="20191114 06:48:47.327"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:47.495" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:48.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:48.183" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com...</msg>
<status status="PASS" endtime="20191114 06:48:48.184" starttime="20191114 06:48:47.493"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:48.185" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: linux.mirrors.es.net
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: centos.sonn.com
 * updates: centos.sonn.com
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20191114 06:48:48.185" starttime="20191114 06:48:48.184"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:48.186" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:48.186" starttime="20191114 06:48:48.186"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:48.187" starttime="20191114 06:48:47.492"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:48.187" starttime="20191114 06:48:47.491"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:48.187" starttime="20191114 06:48:47.490"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:48.188" starttime="20191114 06:48:47.318"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:48.188" starttime="20191114 06:48:47.318"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:48.190" starttime="20191114 06:48:48.190"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
</arguments>
<status status="PASS" endtime="20191114 06:48:48.191" starttime="20191114 06:48:48.191"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
</arguments>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set default.s3.signature_version s3v4</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:48.196" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:48.636" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:48.636" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:48.636" starttime="20191114 06:48:48.193"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:48.638" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:48.638" starttime="20191114 06:48:48.637"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:48.639" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:48.639" starttime="20191114 06:48:48.638"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:48.639" starttime="20191114 06:48:48.193"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:48.643" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:49.077" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:49.077" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:49.078" starttime="20191114 06:48:48.640"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:49.079" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:49.079" starttime="20191114 06:48:49.078"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:49.080" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:49.080" starttime="20191114 06:48:49.080"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:49.081" starttime="20191114 06:48:48.639"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:49.084" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:49.543" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:49.543" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:49.543" starttime="20191114 06:48:49.082"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:49.545" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:49.545" starttime="20191114 06:48:49.544"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:49.545" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:49.546" starttime="20191114 06:48:49.545"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:49.546" starttime="20191114 06:48:49.081"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws configure set region us-west-1</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:49.549" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:49.975" level="INFO">${rc} = 0</msg>
<msg timestamp="20191114 06:48:49.975" level="INFO">${output} = </msg>
<status status="PASS" endtime="20191114 06:48:49.975" starttime="20191114 06:48:49.547"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:49.993" level="INFO"></msg>
<status status="PASS" endtime="20191114 06:48:49.993" starttime="20191114 06:48:49.976"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:49.993" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20191114 06:48:49.994" starttime="20191114 06:48:49.993"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:49.994" starttime="20191114 06:48:49.546"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:49.994" starttime="20191114 06:48:48.192"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:49.994" starttime="20191114 06:48:48.191"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:49.994" starttime="20191114 06:48:48.189"></status>
</kw>
<status status="PASS" endtime="20191114 06:48:49.995" starttime="20191114 06:48:48.188"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
</arguments>
<kw name="Create bucket" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${postfix}</var>
</assign>
<msg timestamp="20191114 06:48:49.997" level="INFO">${postfix} = 81094</msg>
<status status="PASS" endtime="20191114 06:48:49.997" starttime="20191114 06:48:49.996"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
<arg>bucket-${postfix}</arg>
</arguments>
<msg timestamp="20191114 06:48:49.998" level="INFO">${BUCKET} = bucket-81094</msg>
<status status="PASS" endtime="20191114 06:48:49.998" starttime="20191114 06:48:49.997"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>create-bucket --bucket ${BUCKET}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20191114 06:48:50.001" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket bucket-81094 2&gt;&amp;1'.</msg>
<msg timestamp="20191114 06:48:57.660" level="INFO">${rc} = 255</msg>
<msg timestamp="20191114 06:48:57.660" level="INFO">${output} = 
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:57.660" starttime="20191114 06:48:49.999"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20191114 06:48:57.661" level="INFO">
An error occurred (500) when calling the CreateBucket operation (reached max retries: 4): Internal Server Error</msg>
<status status="PASS" endtime="20191114 06:48:57.662" starttime="20191114 06:48:57.661"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20191114 06:48:57.662" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20191114 06:48:57.663" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20191114 06:48:57.663" starttime="20191114 06:48:57.662"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:57.663" starttime="20191114 06:48:49.998"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:57.664" starttime="20191114 06:48:49.998"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:57.664" starttime="20191114 06:48:49.996"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:57.664" starttime="20191114 06:48:49.995"></status>
</kw>
<status status="FAIL" endtime="20191114 06:48:57.665" starttime="20191114 06:48:47.317"></status>
</kw>
<test id="s1-s10-t1" name="S3 Gateway Web UI">
<status status="FAIL" endtime="20191114 06:48:57.666" critical="yes" starttime="20191114 06:48:57.665">Parent suite setup failed:
255 != 0</status>
</test>
<doc>S3 gateway web ui test</doc>
<status status="FAIL" endtime="20191114 06:48:57.666" starttime="20191114 06:48:47.310">Suite setup failed:
255 != 0</status>
</suite>
<status status="FAIL" endtime="20191114 06:48:57.674" starttime="20191114 06:40:37.792"></status>
</suite>
<statistics>
<total>
<stat fail="36" pass="1">Critical Tests</stat>
<stat fail="36" pass="1">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="36" id="s1" name="ozone-om-ha-s3-s3" pass="1">ozone-om-ha-s3-s3</stat>
<stat fail="1" id="s1-s1" name="Awss3" pass="0">ozone-om-ha-s3-s3.Awss3</stat>
<stat fail="1" id="s1-s2" name="Bucketcreate" pass="0">ozone-om-ha-s3-s3.Bucketcreate</stat>
<stat fail="1" id="s1-s3" name="Buckethead" pass="0">ozone-om-ha-s3-s3.Buckethead</stat>
<stat fail="1" id="s1-s4" name="Bucketlist" pass="0">ozone-om-ha-s3-s3.Bucketlist</stat>
<stat fail="11" id="s1-s5" name="MultipartUpload" pass="1">ozone-om-ha-s3-s3.MultipartUpload</stat>
<stat fail="4" id="s1-s6" name="Objectcopy" pass="0">ozone-om-ha-s3-s3.Objectcopy</stat>
<stat fail="5" id="s1-s7" name="Objectdelete" pass="0">ozone-om-ha-s3-s3.Objectdelete</stat>
<stat fail="1" id="s1-s8" name="Objectmultidelete" pass="0">ozone-om-ha-s3-s3.Objectmultidelete</stat>
<stat fail="10" id="s1-s9" name="Objectputget" pass="0">ozone-om-ha-s3-s3.Objectputget</stat>
<stat fail="1" id="s1-s10" name="Webui" pass="0">ozone-om-ha-s3-s3.Webui</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
